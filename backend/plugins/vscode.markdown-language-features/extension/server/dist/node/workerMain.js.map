{"version":3,"sources":["webpack://vscode-markdown-languageserver/./node_modules/@vscode/l10n/dist/main.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/index.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/constants.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/parse.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/picomatch.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/scan.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/utils.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/server.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/textDocuments.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/uuid.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/files.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/node_modules/@vscode/l10n/dist/browser.esm.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/config.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/index.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/codeActions/extractLinkDef.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/codeActions/removeLinkDefinition.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/codeActions/util.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/definitions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/diagnostics.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentHighlights.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentLinks.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/fileRename.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/folding.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/organizeLinkDefs.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/pathCompletions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/references.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/rename.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/smartSelect.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/workspaceSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/logging.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/slugify.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/tableOfContents.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/position.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/range.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/textDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/arrays.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/dispose.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/editBuilder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/file.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/lazy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/limiter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/path.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/resourceMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/schemes.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/string.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/uri.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspace.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspaceCache.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-uri/lib/esm/index.js","webpack://vscode-markdown-languageserver/./src/config.ts","webpack://vscode-markdown-languageserver/./src/configuration.ts","webpack://vscode-markdown-languageserver/./src/languageFeatures/diagnostics.ts","webpack://vscode-markdown-languageserver/./src/logging.ts","webpack://vscode-markdown-languageserver/./src/node/main.ts","webpack://vscode-markdown-languageserver/./src/protocol.ts","webpack://vscode-markdown-languageserver/./src/server.ts","webpack://vscode-markdown-languageserver/./src/util/dispose.ts","webpack://vscode-markdown-languageserver/./src/util/file.ts","webpack://vscode-markdown-languageserver/./src/util/limiter.ts","webpack://vscode-markdown-languageserver/./src/util/resourceMap.ts","webpack://vscode-markdown-languageserver/./src/util/schemes.ts","webpack://vscode-markdown-languageserver/./src/workspace.ts","webpack://vscode-markdown-languageserver/external \"assert\"","webpack://vscode-markdown-languageserver/external \"child_process\"","webpack://vscode-markdown-languageserver/external \"crypto\"","webpack://vscode-markdown-languageserver/external \"events\"","webpack://vscode-markdown-languageserver/external \"fs\"","webpack://vscode-markdown-languageserver/external \"fs/promises\"","webpack://vscode-markdown-languageserver/external \"http\"","webpack://vscode-markdown-languageserver/external \"https\"","webpack://vscode-markdown-languageserver/external \"net\"","webpack://vscode-markdown-languageserver/external \"os\"","webpack://vscode-markdown-languageserver/external \"path\"","webpack://vscode-markdown-languageserver/external \"tls\"","webpack://vscode-markdown-languageserver/external \"url\"","webpack://vscode-markdown-languageserver/external \"util\"","webpack://vscode-markdown-languageserver/external \"zlib\"","webpack://vscode-markdown-languageserver/webpack/bootstrap","webpack://vscode-markdown-languageserver/webpack/runtime/define property getters","webpack://vscode-markdown-languageserver/webpack/runtime/hasOwnProperty shorthand","webpack://vscode-markdown-languageserver/webpack/runtime/make namespace object","webpack://vscode-markdown-languageserver/./src/node/workerMain.ts"],"names":["cb","mod","__create","Object","create","__defProp","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__copyProps","to","from","except","desc","key","call","get","enumerable","require_main","exports","e","e2","t3","value","default","e3","t4","signal","o2","Promise","r2","n2","s","removeEventListener","removeListener","a","u","e4","addEventListener","on","this","__importDefault","__esModule","i","stack","Error","split","some","indexOf","c","Agent","EventEmitter","constructor","t5","super","o3","callback","timeout","maxFreeSockets","maxSockets","maxTotalSockets","sockets","freeSockets","requests","options","explicitDefaultPort","explicitProtocol","addRequest","assign","secureEndpoint","host","port","protocol","path","agent","hostname","_defaultAgent","defaultPort","createConnection","_last","shouldKeepAlive","r3","n3","s2","c2","t6","_hadError","emit","l","e5","code","d","clearTimeout","f","s3","Boolean","name","once","freeSocket","onSocket","a2","method","promisifiedCallback","length","setTimeout","Number","resolve","then","reject","catch","destroy","__awaiter","i2","next","u2","throw","done","apply","parse","secureProxy","test","parseInt","pathname","proxy","String","format","auth","setHeader","Buffer","toString","connect","_header","o4","_implicitHeader","output","substring","outputData","data","HttpProxyAgent","p","ALPNProtocols","headers","l2","p2","g","Host","Connection","keys","v","write","statusCode","m","buffered","y","h","servername","r4","includes","socket","b","Socket","writable","readable","listenerCount","push","resume","HttpsProxyAgent","read","o5","concat","__extends","setPrototypeOf","__proto__","Array","TypeError","__assign","arguments","getErrorStatusDescription","xhr","configure","process","env","VSCODE_NLS_CONFIG","config","JSON","loadMessageBundle","url","type","rejectUnauthorized","strictSSL","user","password","followRedirects","location","startsWith","forEach","req","res","request","end","token","isCancellationRequested","onCancellationRequested","proxyUrl","HTTP_PROXY","http_proxy","HTTPS_PROXY","https_proxy","d2","f2","flush","constants","Z_SYNC_FLUSH","finishFlush","g2","createGunzip","pipe","v2","createInflate","m2","a3","c3","responseText","body","status","is","message","localize","setPseudo","isPseudo","isDefined","BundleFormat","MessageFormat","replace","file","bundle","both","standalone","languagePack","comment","install","readFileSync","console","error","warn","join","messages","log","extname","substr","messageFormat","dirname","existsSync","languagePackSupport","cacheRoot","languagePackId","translationsConfigFile","translationsConfig","id","hash","encoding","flag","Date","utimes","SyntaxError","unlink","e6","contents","s4","u3","i3","l3","outDir","h2","writeFileSync","stringify","language","lastIndexOf","header","nlsBundle","y2","cacheLanguageResolution","isArray","locale","toLowerCase","bundleFormat","availableLanguages","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","freeze","t2","o","r","n","main_exports","target","all","__export","t","module","__toCommonJS","import_fs","import_promises","import_request_light","isNodeMode","__toESM","config2","fileContent","fsPath","content","isBuiltinExtension","uri","URL","async","readFile","TextDecoder","decode","readFileFromUri","uriContent","err","args","firstArg","formatArgs","splice","messageFromBundle","_format2Regexp","template","values","match","group","json","version","DOTS_SLASH","POSIX_CHARS","DOT_LITERAL","PLUS_LITERAL","QMARK_LITERAL","SLASH_LITERAL","ONE_CHAR","QMARK","END_ANCHOR","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","STAR","START_ANCHOR","WINDOWS_CHARS","MAX_LENGTH","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKWARD_SLASH","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_GRAVE_ACCENT","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","SEP","sep","extglobChars","chars","open","close","globChars","win32","utils","expandRange","sort","RegExp","ex","map","escapeRegex","syntaxError","char","input","opts","max","maxLength","Math","min","len","bos","prepend","tokens","capture","isWindows","PLATFORM_CHARS","EXTGLOB_CHARS","globstar","dot","nodot","qmarkNoDot","star","bash","noext","noextglob","state","index","start","consumed","prefix","backtrack","negated","brackets","braces","parens","quotes","removePrefix","extglobs","prev","eos","peek","advance","remaining","slice","consume","num","append","negate","count","increment","decrement","pop","tok","isBrace","isExtglob","extglob","inner","extglobOpen","conditions","extglobClose","rest","extglobStar","expression","fastpaths","negatedExtglob","backslashes","esc","first","repeat","unescape","contains","wrapOutput","exec","slashes","posix","idx","pre","keepQuotes","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","escaped","nobrace","outputIndex","tokensIndex","brace","dots","arr","range","unshift","comma","out","toks","supportsLookbehinds","nonegate","regex","noglobstar","prior","before","isStart","afterStar","after","strictSlashes","escapeLast","suffix","slashDot","str","source","scan","picomatch","glob","returnState","fns","isMatch","isState","val","compileRe","makeRe","isIgnored","ignore","ignoreOpts","onMatch","onResult","matcher","returnObject","result","onIgnore","toPosixSlashes","matchBase","basename","patterns","pattern","returnOutput","toRegex","parsed","flags","nocase","debug","isPathSeparator","depth","isPrefix","isGlobstar","Infinity","scanToEnd","parts","lastIndex","isBracket","isGlob","braceEscaped","finished","charCodeAt","noparen","base","removeBackslashes","maxDepth","prevIndex","platform","isObject","isRegexChar","segs","windows","lastIdx","TraceFormat","TraceValues","Trace","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","Message","RAL","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","messages_1","linkedMap_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","ral_1","Is","None","Cancelled","candidate","boolean","shortcutEvent","context","handle","timer","bind","dispose","MutableToken","_isCancelled","cancel","_emitter","fire","undefined","event","_token","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","func","info","Off","Messages","Compact","Verbose","fromString","string","Text","cancelUndispatched","createCancellationTokenSource","_","sendCancellation","conn","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","Map","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","responsePromises","knownCanceledRequests","Set","requestTokens","trace","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","size","setImmediate","shift","isRequest","requestMessage","reply","resultOrError","startTime","jsonrpc","toJson","traceSendingResponse","replyError","params","stringifyTrace","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","now","tokenKey","cancellationSource","has","set","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","promise","delete","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","cancellationToken","add","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","disposable","traceSendingRequest","MessageWriteError","onRequest","hasPendingResponse","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","listen","AlreadyListening","throwIfListening","inspect","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","invoke","ret","callbacks","contexts","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","array","stringArray","every","elem","_a","First","AsOld","Last","AsNew","_map","_head","_tail","_size","_state","clear","touch","item","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","current","iterator","Symbol","entries","toStringTag","trimOld","newSize","currentSize","toJSON","fromJSON","limit","ratio","_limit","_ratio","checkTrim","round","AbstractMessageBuffer","_encoding","_chunks","_totalLength","chunk","toAppend","byteLength","tryReadHeaders","chunkIndex","offset","chunkBytesRead","row","buffer","_read","trim","tryReadBody","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","applicationJson","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimer","onData","contentLength","isNaN","setPartialMessageTimer","clearPartialMessageTimer","msg","waitingTime","semaphore_1","ResolvedMessageWriterOptions","contentTypeEncoder","encoder","contentEncoder","errorCount","writeSemaphore","Semaphore","lock","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","kind","_parameterStructures","_ral","ral","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","__createBinding","k","k2","configurable","__exportStar","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","eventEmitter","off","send","stream","asReadableStream","asWritableStream","readble","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","tmpdir","pipeName","connectResolve","connected","_reject","server","createServer","onConnected","reader","addListener","isReadableStream","writer","isWritableStream","util_1","messageBuffer_1","MessageBuffer","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearImmediate","setInterval","clearInterval","RIL","LSPErrorCodes","createProtocolConnection","lspReservedErrorRangeStart","RequestFailed","ServerCancelled","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","CallHierarchyPrepareRequest","messageDirection","clientToServer","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","serverToClient","DeclarationRequest","DiagnosticRefreshRequest","WorkspaceDiagnosticRequest","DocumentDiagnosticRequest","DocumentDiagnosticReportKind","DiagnosticServerCancellationData","retriggerRequest","Full","Unchanged","partialResult","WillDeleteFilesRequest","DidDeleteFilesNotification","DidRenameFilesNotification","WillRenameFilesRequest","DidCreateFilesNotification","WillCreateFilesRequest","FileOperationPatternKind","folder","FoldingRangeRequest","ImplementationRequest","InlayHintRefreshRequest","InlayHintResolveRequest","InlayHintRequest","InlineValueRefreshRequest","InlineValueRequest","WorkspaceSymbolRequest","CodeActionResolveRequest","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","RelativePattern","FileChangeType","DidChangeWatchedFilesNotification","WillSaveTextDocumentWaitUntilRequest","WillSaveTextDocumentNotification","TextDocumentSaveReason","DidSaveTextDocumentNotification","DidCloseTextDocumentNotification","DidChangeTextDocumentNotification","TextDocumentContentChangeEvent","DidOpenTextDocumentNotification","TextDocumentSyncKind","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","DidChangeConfigurationNotification","ExitNotification","ShutdownRequest","InitializedNotification","InitializeErrorCodes","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","PositionEncodingKind","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","NotebookCellTextDocumentFilter","NotebookDocumentFilter","TextDocumentFilter","TypeHierarchySubtypesRequest","TypeHierarchyPrepareRequest","MonikerRequest","MonikerKind","UniquenessLevel","LinkedEditingRangeRequest","ShowDocumentRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","SelectionRangeRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangeFormattingRequest","DocumentFormattingRequest","DocumentLinkResolveRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolResolveRequest","DidCloseNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidChangeNotebookDocumentNotification","NotebookCellArrayChange","DidOpenNotebookDocumentNotification","NotebookDocumentSyncRegistrationType","NotebookDocument","NotebookCell","ExecutionSummary","NotebookCellKind","TypeHierarchySupertypesRequest","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","scheme","objectLiteral","notebookType","notebook","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","UTF8","UTF16","UTF32","hasId","documentSelector","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","Warning","Info","Log","Incremental","isIncremental","text","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","URI","baseUri","WorkspaceFolder","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","document","project","global","$import","$export","local","Markup","Code","executionOrder","success","uinteger","equals","one","other","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","DocumentUri","metadata","diff","two","executionSummary","cells","integer","typedArray","registrationMethod","deleteCount","Relative","check","node_1","FullTextDocument","languageId","_uri","_languageId","_version","_content","_lineOffsets","getText","offsetAt","update","changes","change","getWellformedRange","startOffset","endOffset","startLine","line","endLine","lineOffsets","addedLineOffsets","computeLineOffsets","getLineOffsets","positionAt","low","high","character","mid","floor","position","lineOffset","nextLineOffset","TextDocument","mergeSort","compare","left","right","leftIdx","rightIdx","isAtLineStart","textOffset","ch","getWellformedEdit","textEdit","newText","applyEdits","edits","sortedEdits","lastModifiedOffset","spans","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","three","four","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","numberRange","color","label","additionalTextEdits","Comment","Imports","Region","startCharacter","endCharacter","collapsedText","defined","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","codeDescription","title","command","_i","insert","del","needsConfirmation","description","annotation","annotationId","textDocument","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","documentChanges","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionKind","CodeActionTriggerKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintKind","InlayHintLabelPart","InlayHint","TextEditChangeImpl","changeAnnotations","edit","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","PlainText","Markdown","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","detail","items","isIncomplete","fromPlainText","plainText","documentation","parameters","Read","Write","Namespace","Package","Key","Null","containerName","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","Automatic","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","parent","resultId","variableName","caseSensitiveLookup","frameId","stoppedLocation","Type","Parameter","tooltip","textEdits","paddingLeft","paddingRight","EOL","lineCount","isLineStart","charAt","ProposedFeatures","NotebookDocuments","TextDocuments","SemanticTokensBuilder","semanticTokens_1","textDocuments_1","notebook_1","__brand","CallHierarchyFeature","vscode_languageserver_protocol_1","Base","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","ConfigurationFeature","getConfiguration","arg","_getConfiguration","section","DiagnosticFeature","refresh","onWorkspace","FileOperationsFeature","onDidCreateFiles","onDidRenameFiles","onDidDeleteFiles","onWillCreateFiles","onWillRenameFiles","onWillDeleteFiles","InlayHintFeature","InlineValueFeature","LinkedEditingRangeFeature","onLinkedEditingRange","MonikerFeature","NotebookSyncFeature","onDidOpenNotebookDocument","onDidChangeNotebookDocument","onDidSaveNotebookDocument","onDidCloseNotebookDocument","CellTextDocumentConnection","onDidOpenTextDocument","openHandler","openTextDocument","onDidChangeTextDocument","changeHandler","changeTextDocument","onDidCloseTextDocument","closeTextDocument","onWillSaveTextDocument","NULL_DISPOSE","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","configurationOrTextDocuments","_cellTextDocuments","notebookDocuments","notebookCellMap","_onDidOpen","_onDidChange","_onDidSave","_onDidClose","getCellTextDocument","cell","getNotebookDocument","getNotebookCell","findNotebookDocumentForCell","cellTextDocumentConnection","cellTextDocuments","notebooks","synchronization","notebookDocument","cellTextDocument","updateCellMap","oldMetadata","metadataChanged","opened","closed","changedCells","structure","didOpen","didClose","cellUpdates","old","new","textContent","contentChanges","changeEvent","added","removed","changed","attachPartialResult","ProgressFeature","attachWorkDone","uuid_1","WorkDoneProgressReporterImpl","_connection","Instances","begin","percentage","cancellable","report","arg0","arg1","WorkDoneProgressServerReporterImpl","_source","NullProgressReporter","NullProgressServerReporter","ResultProgress","workDoneToken","_progressSupported","initialize","capabilities","window","progress","createWorkDoneProgress","generateUuid","ResultProgressReporterImpl","partialResultToken","SemanticTokensDiff","SemanticTokensFeature","onDelta","onRange","originalSequence","modifiedSequence","computeDiff","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newData","_prevData","_id","_prevLine","_prevChar","_data","_dataLen","tokenType","tokenModifiers","pushLine","pushChar","previousResult","build","canBuildEdits","buildEdits","combineFeatures","combineNotebooksFeatures","combineLanguagesFeatures","combineWorkspaceFeatures","combineWindowFeatures","combineClientFeatures","combineTracerFeatures","combineTelemetryFeatures","combineConsoleFeatures","_NotebooksImpl","_LanguagesImpl","BulkUnregistration","BulkRegistration","ErrorMessageTracker","UUID","progress_1","configuration_1","workspaceFolder_1","callHierarchy_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","diagnostic_1","moniker_1","null2Undefined","_messages","sendErrors","showErrorMessage","RemoteConsoleImpl","rawAttach","_rawConnection","attach","fillServerCapabilities","_capabilities","RemoteWindowImpl","ShowDocumentFeature","actions","showWarningMessage","showInformationMessage","BulkRegistrationImpl","_registrations","_registered","registerOptions","asRegistrationParams","registrations","BulkUnregistrationImpl","unregistrations","_unregistrations","unregistration","unregisterations","disposeSingle","_error","RemoteClientImpl","register","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","isAttached","_result","unregisterSingle","registration","RemoteWorkspaceImpl","WorkspaceFoldersFeature","applyEdit","paramOrEdit","TracerImpl","_trace","TelemetryImpl","logEvent","LanguagesImpl","TypeHierarchyFeature","NotebooksImpl","combine","telemetry","client","workspace","languages","connectionFactory","watchDog","factories","remoteWindow","allRemotes","asPromise","thenable","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onInitialize","onInitialized","onShutdown","onExit","onDidChangeConfiguration","onDidChangeWatchedFiles","__textDocumentSync","sendDiagnostics","onHover","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onWorkspaceSymbolResolve","onCodeAction","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentFormatting","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","onExecuteCommand","remote","textDocumentSync","shutdownReceived","exit","showDocument","configuration","_configuration","_syncedDocuments","_onDidChangeContent","_onWillSave","onWillSaveWaitUntil","_willSaveWaitUntil","td","toFire","syncedDocument","reason","onSupertypes","onSubtypes","isUUID","v4","empty","ValueUUID","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","random","_chars","_UUIDPattern","_notificationIsAutoRegistered","workspaceCapabilities","workspaceFolders","_onDidChangeWorkspaceFolders","changeNotifications","getWorkspaceFolders","_unregistration","resolveModulePath","FileSystem","resolveGlobalYarnPath","resolveGlobalNodePath","uriToFilePath","fs","child_process_1","moduleName","nodePath","cwd","app","newEnv","delimiter","cp","fork","execArgv","pid","npmCommand","shell","stdout","spawnSync","segments","decodeURIComponent","second","normalize","yarnCommand","results","stderr","lines","yarn","_isCaseSensitive","isCaseSensitive","__filename","toUpperCase","isParent","child","workspaceRoot","isAbsolute","Files","server_1","fm","exitTimer","_shutdownReceived","argName","runTimer","processId","kill","argv","setupExitTimer","arg2","arg3","arg4","stdin","transport","commandLineMessage","inputStream","_createConnection","fetch","isExcludedPath","getLsConfiguration","defaultMarkdownFileExtension","PreferredMdPathExtensionStyle","defaultConfig","markdownFileExtensions","knownLinkedToFileExtensions","excludePaths","overrides","Proxy","_target","_receiver","excludePath","createLanguageService","githubSlugifier","LogLevel","RenameNotSupportedAtLocationError","IncludeWorkspaceHeaderCompletions","DiagnosticLevel","DiagnosticCode","config_1","extractLinkDef_1","removeLinkDefinition_1","definitions_1","diagnostics_1","documentHighlights_1","documentLinks_1","documentSymbols_1","fileRename_1","folding_1","organizeLinkDefs_1","pathCompletions_1","references_1","rename_1","smartSelect_1","workspaceSymbols_1","tableOfContents_1","workspace_1","config_2","diagnostics_2","pathCompletions_2","rename_2","logging_1","slugify_1","init","tocProvider","MdTableOfContentsProvider","parser","smartSelectProvider","MdSelectionRangeProvider","foldingProvider","MdFoldingProvider","linkProvider","MdLinkProvider","pathCompletionProvider","MdPathCompletionProvider","linkCache","createWorkspaceLinkCache","referencesProvider","MdReferencesProvider","definitionsProvider","MdDefinitionProvider","renameProvider","MdRenameProvider","slugifier","fileRenameProvider","MdFileRenameProvider","diagnosticsComputer","DiagnosticComputer","docSymbolProvider","MdDocumentSymbolProvider","workspaceSymbolProvider","MdWorkspaceSymbolProvider","organizeLinkDefinitions","MdOrganizeLinkDefinitionProvider","documentHighlightProvider","MdDocumentHighlightProvider","extractCodeActionProvider","MdExtractLinkDefinitionCodeActionProvider","removeLinkDefinitionActionProvider","MdRemoveLinkDefinitionCodeActionProvider","getDocumentLinks","provideDocumentLinks","resolveDocumentLink","resolveLinkTarget","getDocumentSymbols","provideDocumentSymbols","getFoldingRanges","provideFoldingRanges","getSelectionRanges","provideSelectionRanges","getWorkspaceSymbols","provideWorkspaceSymbols","getCompletionItems","provideCompletionItems","getReferences","provideReferences","getFileReferences","resource","getReferencesToFileInWorkspace","x","getDefinition","provideDefinition","getOrganizeLinkDefinitionEdits","prepareRename","getRenameEdit","provideRenameEdits","getRenameFilesInWorkspaceEdit","getCodeActions","doc","getActions","flat","getDocumentHighlights","computeDiagnostics","compute","createPullDiagnosticsManager","isWorkspaceWithFileWatching","DiagnosticsManager","l10n","lsp","position_1","range_1","textDocument_1","editBuilder_1","genericTitle","disabled","linkInfo","getLinks","linksInRange","links","filter","link","MdLinkKind","Definition","rangeIntersects","notOnLinkAction","comparePosition","targetLink","find","HrefKind","External","Internal","alreadyRefLinkAction","codeActionKindContains","builder","WorkspaceEditBuilder","getDocUri","placeholder","definitions","Link","definitionText","defBlock","getExistingDefinitionBlock","getLine","renamePosition","translatePosition","characterDelta","getEdit","afterHrefRange","makeRange","lookup","fragment","unusedDiagnosticLines","diag","link_unusedDefinition","link_duplicateDefinition","definition","kindA","kindB","toc","getForDocument","entry","headerLocation","docLinks","getForDocs","rangeContains","ref","hrefRange","sourceLink","allLinksInFile","resolvedResource","statLinkToMarkdownFile","def","LinkDefinitionSet","vscode_languageserver_1","dispose_1","file_1","limiter_1","resourceMap_1","toSeverity","level","warning","hint","FileLinkMap","ResourceMap","existingFileEntry","linkData","outgoingLinks","Debug","statCache","validateFragmentLinks","hrefText","parseLocationInfoFromFragment","link_noSuchHeaderInOwnFile","validateReferences","link_noSuchReferences","errorSeverity","validateUnusedLinkDefinitions","usedRefs","ReferenceLinkMap","validateDuplicateLinkDefinitions","definitionMultiMap","existing","defs","duplicateDef","pathErrorSeverity","validateFileLinks","fragmentErrorSeverity","validateMarkdownFileLinkFragments","linkSet","limiter","Limiter","resolvedHrefPath","fragmentLinks","pathText","fragmentRange","modifyRange","link_noSuchHeaderInFile","link_noSuchFile","hasMarkdownDocument","looksLikeMarkdownUri","ignoreLinks","FileLinkState","_register","onDidChangeLinkedToFile","watcher","updateLinksForDocument","linkedToResource","documents","deleteDocument","tryStatFileLink","watchFile","ignoreChange","deleteReg","onDidDelete","createReg","onDidCreate","changedResource","linkingFiles","onLinkedToFileChanged","linkWatcher","linkingResources","stateCachedWorkspace","Reflect","stat","isDirectory","onDidDeleteMarkdownDocument","disposeDocumentResources","docUri","targetDoc","tryAppendMarkdownFileExtension","looksLikeLinkToResource","getFilePathRange","MdLinkComputer","resolveInternalDocumentLink","vscode_uri_1","arrays_1","string_1","uri_1","workspaceCache_1","sourceDocUri","linkText","tempUri","getContainingDocument","resourceUri","root","getWorkspaceFolder","Utils","joinPath","linkFragment","createHref","tryDecodeUri","createMdLink","targetText","preHrefText","rawLink","matchIndex","fullMatch","isAngleBracketLink","stripAngleBrackets","linkTarget","linkStart","linkEnd","hrefStart","hrefEnd","getLinkSourceFragmentInfo","getFragmentRange","angleBracketLinkRe","linkPattern","referenceLinkPattern","autoLinkPattern","definitionPattern","inlineCodePattern","NoLinkRanges","multiline","inline","tokenizer","tokenize","inlineRanges","matchAll","interval","inlineRange","concatInline","newInline","noLinkRanges","inlineLinks","linkTextIncludingBrackets","matchLinkData","innerMatch","innerData","linkOffset","startingOffset","linkStartOffset","reference","checkboxMatch","rawLinkText","refStart","refRange","MdDocumentInfoCache","getAllLinks","coalesce","sourceDoc","linkPath","containingContext","found","dotMdResource","locationLinkPosition","openMarkdownDocument","getForContainingDoc","mdLink","definitionSet","encodeURIComponent","pos","selection","with","column","linkComputer","MdWorkspaceInfoCache","targetResource","ext","linkSymbols","includeLinkDefinitions","additionalSymbols","isBefore","sectionLocation","symbol","path_1","participatingRenames","allEdits","didParticipate","allLinksInWorkspace","isParentDir","relative","oldDocUri","oldLink","newPathText","rootDir","encodeURI","refs","MdReferenceKind","newFilePath","editExt","newLinkText","getLinkRenameText","originalHref","preferredMdPathExtensionStyle","removeExtension","asRegionMarker","isEndRegion","isFoldableToken","nestingStack","marker","isEmptyOrWhitespace","listItem","orderedDefinitions","lastDef","textAfter","prevDef","existingDefBlockRange","sortedDefs","localeCompare","newDefs","removeUnused","hasLeadingWhiteSpace","startDef","endDef","nextDef","path_2","schemes_1","CompletionContextKind","tryDecodeUriComponent","sortTexts","localHeader","workspaceHeader","pathContext","ReferenceLink","LinkDefinition","linkPrefix","includeWorkspaceHeaderCompletions","onSingleOrDoubleHash","onDoubleHash","insertRange","linkTextStartPosition","isAnchorInCurrentDoc","anchorInfo","beforeAnchor","rawUri","otherDoc","openLinkToMarkdownFile","anchorStartPosition","anchorPrefix","linePrefixText","lineSuffixText","linkPrefixMatch","linkSuffix","skipEncoding","definitionLinkPrefixMatch","referenceLinkPrefixMatch","anchorMatch","insertionRange","replacementRange","TableOfContents","createForContainingDoc","completionItem","labelDetails","filePath","slug","tocs","toDoc","isHeaderInCurrentDocument","rawPath","computeRelativePath","normalizedPath","filterText","sortText","valueBeforeLastSlash","parentDir","pathSegmentStart","pathSegmentEnd","dirInfo","readDirectory","isDir","looksLikeMarkdownFilePath","workspaceFolder","Schemes","getReferencesAtPosition","includeDeclaration","isDefinition","references","Header","isTriggerLocation","headerText","headerTextLocation","fromHeading","triggerPosition","areRangesEqual","pathRange","allLinks","refToFind","allRefsInfo","triggerRef","declaration","newName","triggerDocument","triggerHref","rawNewFilePath","resolvedNewFilePath","arePositionsEqual","newPath","preferDotSlash","createHeaderRange","isClosestHeaderToPosition","onHeaderLine","startOfChildRange","contentRange","lineDelta","makeSelectionRange","createBlockRange","block","cursorLine","onFenceLine","fenceRange","createFencedRange","createBoldRange","lineText","cursorChar","matches","bold","cursorOnStars","contentAndStars","createOtherInlineRange","isItalic","italicRegexes","cursorOnType","contentAndType","getFirstChildHeader","childRange","t1","positions","headerRange","blockRange","cursorPosition","boldSelection","italicSelection","comboSelection","linkSelection","linkRange","nearestType","indexOfType","contentAndNearestType","createLinkRange","createInlineRange","blockTokens","enclosingTokens","isBlockElement","token1","token2","getBlockTokensForPosition","currentRange","headerInfo","header1","header2","headerOnThisLine","getHeadersForPosition","symbolProvider","provideDocumentSymbolInformation","query","allSymbols","normalizedQueryStr","symbolInformation","docSymbols","Slug","heading","slugifiedHeading","existingSlugEntries","currentHeader","lineNumber","bodyText","existingSlugEntry","markup","headerTitleParts","isBeforeOrEqual","isAfter","isPosition","isRange","thing","startOrStartLine","endOrStartCharacter","$uri","DisposableStore","disposeAll","MultiDisposeError","errors","_disposables","resourceKey","looksLikeMarkdownExt","rawExt","fileName","lazy","LazyValue","getValue","maxDegreeOfParalellism","factory","iLimitedTask","maybeChild","authority","fromDoc","untitled","newLink","defaultResourceToKey","toKey","raw","decodeURI","linkUri","possibleWorkspaces","out_statCache","lazy_1","onDidChangeMarkdownDocument","finally","cts","onDidCreateMarkdownDocument","docs","markdownDocuments","getAllMarkdownDocuments","LIB","_makeLong","dir","navigator","userAgent","isUri","C","revive","_formatted","external","_fsPath","_sep","$mid","fromCharCode","A","w","O","P","j","U","resolvePath","ConfigurationManager","settings","getSettings","defaultDiagnosticOptions","md","convertDiagnosticLevel","enabled","ls","diagnosticOptions","updateDiagnosticsSetting","markdown","validate","fileLinks","referenceLinks","markdownFragmentLinks","unusedLinkDefinitions","duplicateLinkDefinitions","ignoredLinks","getDiagnosticsOptions","subs","manager","emptyDiagnosticsResponse","onDidClose","LogFunctionLogger","getUTCHours","padStart","getMinutes","getUTCSeconds","getMilliseconds","startVsCodeServer","fs_readFile","fs_readDirectory","fs_stat","fs_watcher_create","fs_watcher_delete","findMarkdownFilesInWorkspace","getEditForFileRenames","fs_watcher_onChange","organizeLinkDefKind","startServer","serverConfig","mdLs","initOptions","initializationOptions","mdConfig","workspaceFactory","configurationManager","includeExtension","getIncludeWorkspaceHeaderCompletions","suggest","paths","never","registerDynamicClientFeature","triggerCharacters","registerCompletionsSupport","occurrencesHighlight","registerDocumentHighlightSupport","registerValidateSupport","diagnosticProvider","identifier","interFileDependencies","workspaceDiagnostics","codeActionProvider","resolveProvider","definitionProvider","documentLinkProvider","documentSymbolProvider","foldingRangeProvider","prepareProvider","selectionRangeProvider","supported","codeAction","rename","isEnabled","VsCodeClientWorkspace","AggregateError","notebookCell","VsCodeDocument","inMemoryDoc","onDiskDoc","hasInMemoryDoc","isDetached","setInMemoryDoc","setOnDiskDoc","onDidOpen","q","onDidChangeContent","onDidChange","onDidChangeWorkspaceFolders","openTextDocumentResults","allDocs","resources","strResource","matchingDocument","looksLikeMarkdownPath","bytes","Uint8Array","nb","watchParentDirs","isMarkdownFile","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","obj","l10nLog","i10lLocation","setupMain"],"mappings":"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","file":"workerMain.js","sourcesContent":["\"use strict\";\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// node_modules/request-light/lib/node/main.js\nvar require_main = __commonJS({\n  \"node_modules/request-light/lib/node/main.js\"(exports) {\n    (() => {\n      var e = { 46: (e2, t3) => {\n        \"use strict\";\n        Object.defineProperty(t3, \"__esModule\", { value: true }), t3.default = function(e3, t4, { signal: o2 } = {}) {\n          return new Promise((r2, n2) => {\n            function s() {\n              null == o2 || o2.removeEventListener(\"abort\", s), e3.removeListener(t4, a), e3.removeListener(\"error\", u);\n            }\n            function a(...e4) {\n              s(), r2(e4);\n            }\n            function u(e4) {\n              s(), n2(e4);\n            }\n            null == o2 || o2.addEventListener(\"abort\", s), e3.on(t4, a), e3.on(\"error\", u);\n          });\n        };\n      }, 54: function(e2, t3, o2) {\n        \"use strict\";\n        var r2 = this && this.__importDefault || function(e3) {\n          return e3 && e3.__esModule ? e3 : { default: e3 };\n        };\n        const n2 = o2(361), s = r2(o2(374)), a = r2(o2(304)), u = s.default(\"agent-base\");\n        function i() {\n          const { stack: e3 } = new Error();\n          return \"string\" == typeof e3 && e3.split(\"\\n\").some((e4) => -1 !== e4.indexOf(\"(https.js:\") || -1 !== e4.indexOf(\"node:https:\"));\n        }\n        function c(e3, t4) {\n          return new c.Agent(e3, t4);\n        }\n        !function(e3) {\n          class t4 extends n2.EventEmitter {\n            constructor(e4, t5) {\n              super();\n              let o3 = t5;\n              \"function\" == typeof e4 ? this.callback = e4 : e4 && (o3 = e4), this.timeout = null, o3 && \"number\" == typeof o3.timeout && (this.timeout = o3.timeout), this.maxFreeSockets = 1, this.maxSockets = 1, this.maxTotalSockets = 1 / 0, this.sockets = {}, this.freeSockets = {}, this.requests = {}, this.options = {};\n            }\n            get defaultPort() {\n              return \"number\" == typeof this.explicitDefaultPort ? this.explicitDefaultPort : i() ? 443 : 80;\n            }\n            set defaultPort(e4) {\n              this.explicitDefaultPort = e4;\n            }\n            get protocol() {\n              return \"string\" == typeof this.explicitProtocol ? this.explicitProtocol : i() ? \"https:\" : \"http:\";\n            }\n            set protocol(e4) {\n              this.explicitProtocol = e4;\n            }\n            callback(e4, t5, o3) {\n              throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`');\n            }\n            addRequest(e4, t5) {\n              const o3 = Object.assign({}, t5);\n              \"boolean\" != typeof o3.secureEndpoint && (o3.secureEndpoint = i()), null == o3.host && (o3.host = \"localhost\"), null == o3.port && (o3.port = o3.secureEndpoint ? 443 : 80), null == o3.protocol && (o3.protocol = o3.secureEndpoint ? \"https:\" : \"http:\"), o3.host && o3.path && delete o3.path, delete o3.agent, delete o3.hostname, delete o3._defaultAgent, delete o3.defaultPort, delete o3.createConnection, e4._last = true, e4.shouldKeepAlive = false;\n              let r3 = false, n3 = null;\n              const s2 = o3.timeout || this.timeout, c2 = (t6) => {\n                e4._hadError || (e4.emit(\"error\", t6), e4._hadError = true);\n              }, l = () => {\n                n3 = null, r3 = true;\n                const e5 = new Error(`A \"socket\" was not created for HTTP request before ${s2}ms`);\n                e5.code = \"ETIMEOUT\", c2(e5);\n              }, d = (e5) => {\n                r3 || (null !== n3 && (clearTimeout(n3), n3 = null), c2(e5));\n              }, f = (t6) => {\n                if (r3)\n                  return;\n                if (null != n3 && (clearTimeout(n3), n3 = null), s3 = t6, Boolean(s3) && \"function\" == typeof s3.addRequest)\n                  return u(\"Callback returned another Agent instance %o\", t6.constructor.name), void t6.addRequest(e4, o3);\n                var s3;\n                if (t6)\n                  return t6.once(\"free\", () => {\n                    this.freeSocket(t6, o3);\n                  }), void e4.onSocket(t6);\n                const a2 = new Error(`no Duplex stream was returned to agent-base for \\`${e4.method} ${e4.path}\\``);\n                c2(a2);\n              };\n              if (\"function\" == typeof this.callback) {\n                this.promisifiedCallback || (this.callback.length >= 3 ? (u(\"Converting legacy callback function to promise\"), this.promisifiedCallback = a.default(this.callback)) : this.promisifiedCallback = this.callback), \"number\" == typeof s2 && s2 > 0 && (n3 = setTimeout(l, s2)), \"port\" in o3 && \"number\" != typeof o3.port && (o3.port = Number(o3.port));\n                try {\n                  u(\"Resolving socket for %o request: %o\", o3.protocol, `${e4.method} ${e4.path}`), Promise.resolve(this.promisifiedCallback(e4, o3)).then(f, d);\n                } catch (e5) {\n                  Promise.reject(e5).catch(d);\n                }\n              } else\n                c2(new Error(\"`callback` is not defined\"));\n            }\n            freeSocket(e4, t5) {\n              u(\"Freeing socket %o %o\", e4.constructor.name, t5), e4.destroy();\n            }\n            destroy() {\n              u(\"Destroying agent %o\", this.constructor.name);\n            }\n          }\n          e3.Agent = t4, e3.prototype = e3.Agent.prototype;\n        }(c || (c = {})), e2.exports = c;\n      }, 304: (e2, t3) => {\n        \"use strict\";\n        Object.defineProperty(t3, \"__esModule\", { value: true }), t3.default = function(e3) {\n          return function(t4, o2) {\n            return new Promise((r2, n2) => {\n              e3.call(this, t4, o2, (e4, t5) => {\n                e4 ? n2(e4) : r2(t5);\n              });\n            });\n          };\n        };\n      }, 370: function(e2, t3, o2) {\n        \"use strict\";\n        var r2 = this && this.__awaiter || function(e3, t4, o3, r3) {\n          return new (o3 || (o3 = Promise))(function(n3, s2) {\n            function a2(e4) {\n              try {\n                i2(r3.next(e4));\n              } catch (e5) {\n                s2(e5);\n              }\n            }\n            function u2(e4) {\n              try {\n                i2(r3.throw(e4));\n              } catch (e5) {\n                s2(e5);\n              }\n            }\n            function i2(e4) {\n              var t5;\n              e4.done ? n3(e4.value) : (t5 = e4.value, t5 instanceof o3 ? t5 : new o3(function(e5) {\n                e5(t5);\n              })).then(a2, u2);\n            }\n            i2((r3 = r3.apply(e3, t4 || [])).next());\n          });\n        }, n2 = this && this.__importDefault || function(e3) {\n          return e3 && e3.__esModule ? e3 : { default: e3 };\n        };\n        Object.defineProperty(t3, \"__esModule\", { value: true });\n        const s = n2(o2(808)), a = n2(o2(404)), u = n2(o2(310)), i = n2(o2(374)), c = n2(o2(46)), l = o2(54), d = (0, i.default)(\"http-proxy-agent\");\n        class f extends l.Agent {\n          constructor(e3) {\n            let t4;\n            if (t4 = \"string\" == typeof e3 ? u.default.parse(e3) : e3, !t4)\n              throw new Error(\"an HTTP(S) proxy server `host` and `port` must be specified!\");\n            d(\"Creating new HttpProxyAgent instance: %o\", t4), super(t4);\n            const o3 = Object.assign({}, t4);\n            var r3;\n            this.secureProxy = t4.secureProxy || \"string\" == typeof (r3 = o3.protocol) && /^https:?$/i.test(r3), o3.host = o3.hostname || o3.host, \"string\" == typeof o3.port && (o3.port = parseInt(o3.port, 10)), !o3.port && o3.host && (o3.port = this.secureProxy ? 443 : 80), o3.host && o3.path && (delete o3.path, delete o3.pathname), this.proxy = o3;\n          }\n          callback(e3, t4) {\n            return r2(this, void 0, void 0, function* () {\n              const { proxy: o3, secureProxy: r3 } = this, n3 = u.default.parse(e3.path);\n              let i2;\n              if (n3.protocol || (n3.protocol = \"http:\"), n3.hostname || (n3.hostname = t4.hostname || t4.host || null), null == n3.port && (t4.port, 1) && (n3.port = String(t4.port)), \"80\" === n3.port && (n3.port = \"\"), e3.path = u.default.format(n3), o3.auth && e3.setHeader(\"Proxy-Authorization\", `Basic ${Buffer.from(o3.auth).toString(\"base64\")}`), r3 ? (d(\"Creating `tls.Socket`: %o\", o3), i2 = a.default.connect(o3)) : (d(\"Creating `net.Socket`: %o\", o3), i2 = s.default.connect(o3)), e3._header) {\n                let t5, o4;\n                d(\"Regenerating stored HTTP header string for request\"), e3._header = null, e3._implicitHeader(), e3.output && e3.output.length > 0 ? (d(\"Patching connection write() output buffer with updated header\"), t5 = e3.output[0], o4 = t5.indexOf(\"\\r\\n\\r\\n\") + 4, e3.output[0] = e3._header + t5.substring(o4), d(\"Output buffer: %o\", e3.output)) : e3.outputData && e3.outputData.length > 0 && (d(\"Patching connection write() output buffer with updated header\"), t5 = e3.outputData[0].data, o4 = t5.indexOf(\"\\r\\n\\r\\n\") + 4, e3.outputData[0].data = e3._header + t5.substring(o4), d(\"Output buffer: %o\", e3.outputData[0].data));\n              }\n              return yield (0, c.default)(i2, \"connect\"), i2;\n            });\n          }\n        }\n        t3.default = f;\n      }, 201: function(e2, t3, o2) {\n        \"use strict\";\n        const r2 = (this && this.__importDefault || function(e3) {\n          return e3 && e3.__esModule ? e3 : { default: e3 };\n        })(o2(370));\n        function n2(e3) {\n          return new r2.default(e3);\n        }\n        !function(e3) {\n          e3.HttpProxyAgent = r2.default, e3.prototype = r2.default.prototype;\n        }(n2 || (n2 = {})), e2.exports = n2;\n      }, 146: function(e2, t3, o2) {\n        \"use strict\";\n        var r2 = this && this.__awaiter || function(e3, t4, o3, r3) {\n          return new (o3 || (o3 = Promise))(function(n3, s2) {\n            function a2(e4) {\n              try {\n                i2(r3.next(e4));\n              } catch (e5) {\n                s2(e5);\n              }\n            }\n            function u2(e4) {\n              try {\n                i2(r3.throw(e4));\n              } catch (e5) {\n                s2(e5);\n              }\n            }\n            function i2(e4) {\n              var t5;\n              e4.done ? n3(e4.value) : (t5 = e4.value, t5 instanceof o3 ? t5 : new o3(function(e5) {\n                e5(t5);\n              })).then(a2, u2);\n            }\n            i2((r3 = r3.apply(e3, t4 || [])).next());\n          });\n        }, n2 = this && this.__importDefault || function(e3) {\n          return e3 && e3.__esModule ? e3 : { default: e3 };\n        };\n        Object.defineProperty(t3, \"__esModule\", { value: true });\n        const s = n2(o2(808)), a = n2(o2(404)), u = n2(o2(310)), i = n2(o2(491)), c = n2(o2(374)), l = o2(54), d = n2(o2(829)), f = c.default(\"https-proxy-agent:agent\");\n        class p extends l.Agent {\n          constructor(e3) {\n            let t4;\n            if (t4 = \"string\" == typeof e3 ? u.default.parse(e3) : e3, !t4)\n              throw new Error(\"an HTTP(S) proxy server `host` and `port` must be specified!\");\n            f(\"creating new HttpsProxyAgent instance: %o\", t4), super(t4);\n            const o3 = Object.assign({}, t4);\n            var r3;\n            this.secureProxy = t4.secureProxy || \"string\" == typeof (r3 = o3.protocol) && /^https:?$/i.test(r3), o3.host = o3.hostname || o3.host, \"string\" == typeof o3.port && (o3.port = parseInt(o3.port, 10)), !o3.port && o3.host && (o3.port = this.secureProxy ? 443 : 80), this.secureProxy && !(\"ALPNProtocols\" in o3) && (o3.ALPNProtocols = [\"http 1.1\"]), o3.host && o3.path && (delete o3.path, delete o3.pathname), this.proxy = o3;\n          }\n          callback(e3, t4) {\n            return r2(this, void 0, void 0, function* () {\n              const { proxy: o3, secureProxy: r3 } = this;\n              let n3;\n              r3 ? (f(\"Creating `tls.Socket`: %o\", o3), n3 = a.default.connect(o3)) : (f(\"Creating `net.Socket`: %o\", o3), n3 = s.default.connect(o3));\n              const u2 = Object.assign({}, o3.headers);\n              let c2 = `CONNECT ${t4.host}:${t4.port} HTTP/1.1\\r\n`;\n              o3.auth && (u2[\"Proxy-Authorization\"] = `Basic ${Buffer.from(o3.auth).toString(\"base64\")}`);\n              let { host: l2, port: p2, secureEndpoint: g } = t4;\n              (function(e4, t5) {\n                return Boolean(!t5 && 80 === e4 || t5 && 443 === e4);\n              })(p2, g) || (l2 += `:${p2}`), u2.Host = l2, u2.Connection = \"close\";\n              for (const e4 of Object.keys(u2))\n                c2 += `${e4}: ${u2[e4]}\\r\n`;\n              const v = d.default(n3);\n              n3.write(`${c2}\\r\n`);\n              const { statusCode: m, buffered: y } = yield v;\n              if (200 === m) {\n                if (e3.once(\"socket\", h), t4.secureEndpoint) {\n                  f(\"Upgrading socket connection to TLS\");\n                  const e4 = t4.servername || t4.host;\n                  return a.default.connect(Object.assign(Object.assign({}, function(e5, ...t5) {\n                    const o4 = {};\n                    let r4;\n                    for (r4 in e5)\n                      t5.includes(r4) || (o4[r4] = e5[r4]);\n                    return o4;\n                  }(t4, \"host\", \"hostname\", \"path\", \"port\")), { socket: n3, servername: e4 }));\n                }\n                return n3;\n              }\n              n3.destroy();\n              const b = new s.default.Socket({ writable: false });\n              return b.readable = true, e3.once(\"socket\", (e4) => {\n                f(\"replaying proxy buffer for failed request\"), i.default(e4.listenerCount(\"data\") > 0), e4.push(y), e4.push(null);\n              }), b;\n            });\n          }\n        }\n        function h(e3) {\n          e3.resume();\n        }\n        t3.default = p;\n      }, 18: function(e2, t3, o2) {\n        \"use strict\";\n        const r2 = (this && this.__importDefault || function(e3) {\n          return e3 && e3.__esModule ? e3 : { default: e3 };\n        })(o2(146));\n        function n2(e3) {\n          return new r2.default(e3);\n        }\n        !function(e3) {\n          e3.HttpsProxyAgent = r2.default, e3.prototype = r2.default.prototype;\n        }(n2 || (n2 = {})), e2.exports = n2;\n      }, 829: function(e2, t3, o2) {\n        \"use strict\";\n        var r2 = this && this.__importDefault || function(e3) {\n          return e3 && e3.__esModule ? e3 : { default: e3 };\n        };\n        Object.defineProperty(t3, \"__esModule\", { value: true });\n        const n2 = r2(o2(374)).default(\"https-proxy-agent:parse-proxy-response\");\n        t3.default = function(e3) {\n          return new Promise((t4, o3) => {\n            let r3 = 0;\n            const s = [];\n            function a() {\n              const o4 = e3.read();\n              o4 ? function(e4) {\n                s.push(e4), r3 += e4.length;\n                const o5 = Buffer.concat(s, r3);\n                if (-1 === o5.indexOf(\"\\r\\n\\r\\n\"))\n                  return n2(\"have not received end of HTTP headers yet...\"), void a();\n                const u2 = o5.toString(\"ascii\", 0, o5.indexOf(\"\\r\\n\")), i2 = +u2.split(\" \")[1];\n                n2(\"got proxy server response: %o\", u2), t4({ statusCode: i2, buffered: o5 });\n              }(o4) : e3.once(\"readable\", a);\n            }\n            function u(e4) {\n              n2(\"onclose had error %o\", e4);\n            }\n            function i() {\n              n2(\"onend\");\n            }\n            e3.on(\"error\", function t5(r4) {\n              e3.removeListener(\"end\", i), e3.removeListener(\"error\", t5), e3.removeListener(\"close\", u), e3.removeListener(\"readable\", a), n2(\"onerror %o\", r4), o3(r4);\n            }), e3.on(\"close\", u), e3.on(\"end\", i), a();\n          });\n        };\n      }, 539: function(e2, t3, o2) {\n        \"use strict\";\n        var r2, n2 = this && this.__extends || (r2 = function(e3, t4) {\n          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e4, t5) {\n            e4.__proto__ = t5;\n          } || function(e4, t5) {\n            for (var o3 in t5)\n              Object.prototype.hasOwnProperty.call(t5, o3) && (e4[o3] = t5[o3]);\n          }, r2(e3, t4);\n        }, function(e3, t4) {\n          if (\"function\" != typeof t4 && null !== t4)\n            throw new TypeError(\"Class extends value \" + String(t4) + \" is not a constructor or null\");\n          function o3() {\n            this.constructor = e3;\n          }\n          r2(e3, t4), e3.prototype = null === t4 ? Object.create(t4) : (o3.prototype = t4.prototype, new o3());\n        }), s = this && this.__assign || function() {\n          return s = Object.assign || function(e3) {\n            for (var t4, o3 = 1, r3 = arguments.length; o3 < r3; o3++)\n              for (var n3 in t4 = arguments[o3])\n                Object.prototype.hasOwnProperty.call(t4, n3) && (e3[n3] = t4[n3]);\n            return e3;\n          }, s.apply(this, arguments);\n        };\n        Object.defineProperty(t3, \"__esModule\", { value: true }), t3.getErrorStatusDescription = t3.xhr = t3.configure = void 0;\n        var a = o2(685), u = o2(687), i = o2(310), c = o2(472), l = o2(796), d = o2(201), f = o2(18);\n        if (process.env.VSCODE_NLS_CONFIG) {\n          var p = process.env.VSCODE_NLS_CONFIG;\n          c.config(JSON.parse(p));\n        }\n        var h = c.loadMessageBundle(), g = void 0, v = true;\n        function m(e3) {\n          var t4;\n          return new Promise(function(o3, r3) {\n            var n3 = (0, i.parse)(e3.url), s2 = { hostname: n3.hostname, agent: !!e3.agent && e3.agent, port: n3.port ? parseInt(n3.port) : \"https:\" === n3.protocol ? 443 : 80, path: n3.path, method: e3.type || \"GET\", headers: e3.headers, rejectUnauthorized: \"boolean\" != typeof e3.strictSSL || e3.strictSSL };\n            e3.user && e3.password && (s2.auth = e3.user + \":\" + e3.password);\n            var c2 = function(r4) {\n              if (r4.statusCode >= 300 && r4.statusCode < 400 && e3.followRedirects && e3.followRedirects > 0 && r4.headers.location) {\n                var s3 = r4.headers.location;\n                s3.startsWith(\"/\") && (s3 = (0, i.format)({ protocol: n3.protocol, hostname: n3.hostname, port: n3.port, pathname: s3 })), o3(m(function(e4) {\n                  for (var t5 = [], o4 = 1; o4 < arguments.length; o4++)\n                    t5[o4 - 1] = arguments[o4];\n                  return t5.forEach(function(t6) {\n                    return Object.keys(t6).forEach(function(o5) {\n                      return e4[o5] = t6[o5];\n                    });\n                  }), e4;\n                }({}, e3, { url: s3, followRedirects: e3.followRedirects - 1 })));\n              } else\n                o3({ req: t4, res: r4 });\n            };\n            (t4 = \"https:\" === n3.protocol ? u.request(s2, c2) : a.request(s2, c2)).on(\"error\", r3), e3.timeout && t4.setTimeout(e3.timeout), e3.data && t4.write(e3.data), t4.end(), e3.token && (e3.token.isCancellationRequested && t4.destroy(new y()), e3.token.onCancellationRequested(function() {\n              t4.destroy(new y());\n            }));\n          });\n        }\n        t3.configure = function(e3, t4) {\n          g = e3, v = t4;\n        }, t3.xhr = function(e3) {\n          return \"boolean\" != typeof (e3 = s({}, e3)).strictSSL && (e3.strictSSL = v), e3.agent || (e3.agent = function(e4, t4) {\n            void 0 === t4 && (t4 = {});\n            var o3 = (0, i.parse)(e4), r3 = t4.proxyUrl || function(e5) {\n              return \"http:\" === e5.protocol ? process.env.HTTP_PROXY || process.env.http_proxy || null : \"https:\" === e5.protocol && (process.env.HTTPS_PROXY || process.env.https_proxy || process.env.HTTP_PROXY || process.env.http_proxy) || null;\n            }(o3);\n            if (!r3)\n              return null;\n            var n3 = (0, i.parse)(r3);\n            if (!/^https?:$/.test(n3.protocol))\n              return null;\n            var s2 = { host: n3.hostname, port: Number(n3.port), auth: n3.auth, rejectUnauthorized: \"boolean\" != typeof t4.strictSSL || t4.strictSSL, protocol: n3.protocol };\n            return \"http:\" === o3.protocol ? d(s2) : f(s2);\n          }(e3.url, { proxyUrl: g, strictSSL: v })), \"number\" != typeof e3.followRedirects && (e3.followRedirects = 5), m(e3).then(function(o3) {\n            return new Promise(function(r3, n3) {\n              var s2, a2, u2 = o3.res, c2 = u2, d2 = false, f2 = u2.headers && u2.headers[\"content-encoding\"];\n              if (f2 && (s2 = e3.type, a2 = o3.res.statusCode, !(\"HEAD\" === s2 || a2 >= 100 && a2 < 200 || 204 === a2 || 304 === a2))) {\n                var p2 = { flush: l.constants.Z_SYNC_FLUSH, finishFlush: l.constants.Z_SYNC_FLUSH };\n                if (\"gzip\" === f2) {\n                  var g2 = l.createGunzip(p2);\n                  u2.pipe(g2), c2 = g2;\n                } else if (\"deflate\" === f2) {\n                  var v2 = l.createInflate(p2);\n                  u2.pipe(v2), c2 = v2;\n                }\n              }\n              var m2 = [];\n              c2.on(\"data\", function(e4) {\n                return m2.push(e4);\n              }), c2.on(\"end\", function() {\n                if (!d2) {\n                  if (d2 = true, e3.followRedirects > 0 && (u2.statusCode >= 300 && u2.statusCode <= 303 || 307 === u2.statusCode)) {\n                    var o4 = u2.headers.location;\n                    if (o4.startsWith(\"/\")) {\n                      var s3 = (0, i.parse)(e3.url);\n                      o4 = (0, i.format)({ protocol: s3.protocol, hostname: s3.hostname, port: s3.port, pathname: o4 });\n                    }\n                    if (o4) {\n                      var a3 = { type: e3.type, url: o4, user: e3.user, password: e3.password, headers: e3.headers, timeout: e3.timeout, followRedirects: e3.followRedirects - 1, data: e3.data, token: e3.token };\n                      return void (0, t3.xhr)(a3).then(r3, n3);\n                    }\n                  }\n                  var c3 = Buffer.concat(m2), l2 = { responseText: c3.toString(), body: c3, status: u2.statusCode, headers: u2.headers || {} };\n                  u2.statusCode >= 200 && u2.statusCode < 300 || 1223 === u2.statusCode ? r3(l2) : n3(l2);\n                }\n              }), c2.on(\"error\", function(t4) {\n                var o4;\n                o4 = y.is(t4) ? t4 : { responseText: h(\"error\", \"Unable to access {0}. Error: {1}\", e3.url, t4.message), body: Buffer.concat(m2), status: 500, headers: {} }, d2 = true, n3(o4);\n              }), e3.token && (e3.token.isCancellationRequested && c2.destroy(new y()), e3.token.onCancellationRequested(function() {\n                c2.destroy(new y());\n              }));\n            });\n          }, function(t4) {\n            var o3;\n            return o3 = y.is(t4) ? t4 : { responseText: e3.agent ? h(\"error.cannot.connect.proxy\", \"Unable to connect to {0} through a proxy. Error: {1}\", e3.url, t4.message) : h(\"error.cannot.connect\", \"Unable to connect to {0}. Error: {1}\", e3.url, t4.message), body: Buffer.concat([]), status: 404, headers: {} }, Promise.reject(o3);\n          });\n        }, t3.getErrorStatusDescription = function(e3) {\n          if (!(e3 < 400))\n            switch (e3) {\n              case 400:\n                return h(\"status.400\", \"Bad request. The request cannot be fulfilled due to bad syntax.\");\n              case 401:\n                return h(\"status.401\", \"Unauthorized. The server is refusing to respond.\");\n              case 403:\n                return h(\"status.403\", \"Forbidden. The server is refusing to respond.\");\n              case 404:\n                return h(\"status.404\", \"Not Found. The requested location could not be found.\");\n              case 405:\n                return h(\"status.405\", \"Method not allowed. A request was made using a request method not supported by that location.\");\n              case 406:\n                return h(\"status.406\", \"Not Acceptable. The server can only generate a response that is not accepted by the client.\");\n              case 407:\n                return h(\"status.407\", \"Proxy Authentication Required. The client must first authenticate itself with the proxy.\");\n              case 408:\n                return h(\"status.408\", \"Request Timeout. The server timed out waiting for the request.\");\n              case 409:\n                return h(\"status.409\", \"Conflict. The request could not be completed because of a conflict in the request.\");\n              case 410:\n                return h(\"status.410\", \"Gone. The requested page is no longer available.\");\n              case 411:\n                return h(\"status.411\", 'Length Required. The \"Content-Length\" is not defined.');\n              case 412:\n                return h(\"status.412\", \"Precondition Failed. The precondition given in the request evaluated to false by the server.\");\n              case 413:\n                return h(\"status.413\", \"Request Entity Too Large. The server will not accept the request, because the request entity is too large.\");\n              case 414:\n                return h(\"status.414\", \"Request-URI Too Long. The server will not accept the request, because the URL is too long.\");\n              case 415:\n                return h(\"status.415\", \"Unsupported Media Type. The server will not accept the request, because the media type is not supported.\");\n              case 500:\n                return h(\"status.500\", \"Internal Server Error.\");\n              case 501:\n                return h(\"status.501\", \"Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.\");\n              case 503:\n                return h(\"status.503\", \"Service Unavailable. The server is currently unavailable (overloaded or down).\");\n              default:\n                return h(\"status.416\", \"HTTP status code {0}\", e3);\n            }\n        };\n        var y = function(e3) {\n          function t4() {\n            var o3 = e3.call(this, \"The user aborted a request\") || this;\n            return o3.name = \"AbortError\", Object.setPrototypeOf(o3, t4.prototype), o3;\n          }\n          return n2(t4, e3), t4.is = function(e4) {\n            return e4 instanceof t4;\n          }, t4;\n        }(Error);\n      }, 800: (e2, t3, o2) => {\n        \"use strict\";\n        Object.defineProperty(t3, \"__esModule\", { value: true }), t3.config = t3.loadMessageBundle = t3.localize = t3.format = t3.setPseudo = t3.isPseudo = t3.isDefined = t3.BundleFormat = t3.MessageFormat = void 0;\n        var r2, n2, s, a = o2(926);\n        function u(e3) {\n          return void 0 !== e3;\n        }\n        function i(e3, o3) {\n          return t3.isPseudo && (e3 = \"\\uFF3B\" + e3.replace(/[aouei]/g, \"$&$&\") + \"\\uFF3D\"), 0 === o3.length ? e3 : e3.replace(/\\{(\\d+)\\}/g, function(e4, t4) {\n            var r3 = t4[0], n3 = o3[r3], s2 = e4;\n            return \"string\" == typeof n3 ? s2 = n3 : \"number\" != typeof n3 && \"boolean\" != typeof n3 && null != n3 || (s2 = String(n3)), s2;\n          });\n        }\n        (s = t3.MessageFormat || (t3.MessageFormat = {})).file = \"file\", s.bundle = \"bundle\", s.both = \"both\", (n2 = t3.BundleFormat || (t3.BundleFormat = {})).standalone = \"standalone\", n2.languagePack = \"languagePack\", function(e3) {\n          e3.is = function(e4) {\n            var t4 = e4;\n            return t4 && u(t4.key) && u(t4.comment);\n          };\n        }(r2 || (r2 = {})), t3.isDefined = u, t3.isPseudo = false, t3.setPseudo = function(e3) {\n          t3.isPseudo = e3;\n        }, t3.format = i, t3.localize = function(e3, t4) {\n          for (var o3 = [], r3 = 2; r3 < arguments.length; r3++)\n            o3[r3 - 2] = arguments[r3];\n          return i(t4, o3);\n        }, t3.loadMessageBundle = function(e3) {\n          return (0, a.default)().loadMessageBundle(e3);\n        }, t3.config = function(e3) {\n          return (0, a.default)().config(e3);\n        };\n      }, 926: (e2, t3) => {\n        \"use strict\";\n        var o2;\n        function r2() {\n          if (void 0 === o2)\n            throw new Error(\"No runtime abstraction layer installed\");\n          return o2;\n        }\n        Object.defineProperty(t3, \"__esModule\", { value: true }), function(e3) {\n          e3.install = function(e4) {\n            if (void 0 === e4)\n              throw new Error(\"No runtime abstraction layer provided\");\n            o2 = e4;\n          };\n        }(r2 || (r2 = {})), t3.default = r2;\n      }, 472: (e2, t3, o2) => {\n        \"use strict\";\n        Object.defineProperty(t3, \"__esModule\", { value: true }), t3.config = t3.loadMessageBundle = t3.BundleFormat = t3.MessageFormat = void 0;\n        var r2 = o2(17), n2 = o2(147), s = o2(926), a = o2(800), u = o2(800);\n        Object.defineProperty(t3, \"MessageFormat\", { enumerable: true, get: function() {\n          return u.MessageFormat;\n        } }), Object.defineProperty(t3, \"BundleFormat\", { enumerable: true, get: function() {\n          return u.BundleFormat;\n        } });\n        var i, c, l = Object.prototype.toString;\n        function d(e3) {\n          return \"[object Number]\" === l.call(e3);\n        }\n        function f(e3) {\n          return \"[object String]\" === l.call(e3);\n        }\n        function p(e3) {\n          return JSON.parse(n2.readFileSync(e3, \"utf8\"));\n        }\n        function h(e3) {\n          return function(t4, o3) {\n            for (var r3 = [], n3 = 2; n3 < arguments.length; n3++)\n              r3[n3 - 2] = arguments[n3];\n            return d(t4) ? t4 >= e3.length ? void console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \".concat(new Error(\"\").stack)) : (0, a.format)(e3[t4], r3) : f(o3) ? (console.warn(\"Message \".concat(o3, \" didn't get externalized correctly.\")), (0, a.format)(o3, r3)) : void console.error(\"Broken localize call found. Stacktrace is\\n: \".concat(new Error(\"\").stack));\n          };\n        }\n        function g(e3, t4) {\n          return i[e3] = t4, t4;\n        }\n        function v(e3) {\n          try {\n            return function(e4) {\n              var t4 = p(r2.join(e4, \"nls.metadata.json\")), o3 = /* @__PURE__ */ Object.create(null);\n              for (var n3 in t4) {\n                var s2 = t4[n3];\n                o3[n3] = s2.messages;\n              }\n              return o3;\n            }(e3);\n          } catch (e4) {\n            return void console.log(\"Generating default bundle from meta data failed.\", e4);\n          }\n        }\n        function m(e3, t4) {\n          var o3;\n          if (true === c.languagePackSupport && void 0 !== c.cacheRoot && void 0 !== c.languagePackId && void 0 !== c.translationsConfigFile && void 0 !== c.translationsConfig)\n            try {\n              o3 = function(e4, t5) {\n                var o4, s3, a2, u2 = r2.join(c.cacheRoot, \"\".concat(e4.id, \"-\").concat(e4.hash, \".json\")), i2 = false, l2 = false;\n                try {\n                  return o4 = JSON.parse(n2.readFileSync(u2, { encoding: \"utf8\", flag: \"r\" })), s3 = u2, a2 = new Date(), n2.utimes(s3, a2, a2, function() {\n                  }), o4;\n                } catch (e5) {\n                  if (\"ENOENT\" === e5.code)\n                    l2 = true;\n                  else {\n                    if (!(e5 instanceof SyntaxError))\n                      throw e5;\n                    console.log(\"Syntax error parsing message bundle: \".concat(e5.message, \".\")), n2.unlink(u2, function(e6) {\n                      e6 && console.error(\"Deleting corrupted bundle \".concat(u2, \" failed.\"));\n                    }), i2 = true;\n                  }\n                }\n                if (o4 = function(e5, t6) {\n                  var o5 = c.translationsConfig[e5.id];\n                  if (o5) {\n                    var n3 = p(o5).contents, s4 = p(r2.join(t6, \"nls.metadata.json\")), a3 = /* @__PURE__ */ Object.create(null);\n                    for (var u3 in s4) {\n                      var i3 = s4[u3], l3 = n3[\"\".concat(e5.outDir, \"/\").concat(u3)];\n                      if (l3) {\n                        for (var d2 = [], h2 = 0; h2 < i3.keys.length; h2++) {\n                          var g2 = i3.keys[h2], v2 = l3[f(g2) ? g2 : g2.key];\n                          void 0 === v2 && (v2 = i3.messages[h2]), d2.push(v2);\n                        }\n                        a3[u3] = d2;\n                      } else\n                        a3[u3] = i3.messages;\n                    }\n                    return a3;\n                  }\n                }(e4, t5), !o4 || i2)\n                  return o4;\n                if (l2)\n                  try {\n                    n2.writeFileSync(u2, JSON.stringify(o4), { encoding: \"utf8\", flag: \"wx\" });\n                  } catch (e5) {\n                    if (\"EEXIST\" === e5.code)\n                      return o4;\n                    throw e5;\n                  }\n                return o4;\n              }(e3, t4);\n            } catch (e4) {\n              console.log(\"Load or create bundle failed \", e4);\n            }\n          if (!o3) {\n            if (c.languagePackSupport)\n              return v(t4);\n            var s2 = function(e4) {\n              for (var t5 = c.language; t5; ) {\n                var o4 = r2.join(e4, \"nls.bundle.\".concat(t5, \".json\"));\n                if (n2.existsSync(o4))\n                  return o4;\n                var s3 = t5.lastIndexOf(\"-\");\n                t5 = s3 > 0 ? t5.substring(0, s3) : void 0;\n              }\n              if (void 0 === t5 && (o4 = r2.join(e4, \"nls.bundle.json\"), n2.existsSync(o4)))\n                return o4;\n            }(t4);\n            if (s2)\n              try {\n                return p(s2);\n              } catch (e4) {\n                console.log(\"Loading in the box message bundle failed.\", e4);\n              }\n            o3 = v(t4);\n          }\n          return o3;\n        }\n        function y(e3) {\n          if (!e3)\n            return a.localize;\n          var t4 = r2.extname(e3);\n          if (t4 && (e3 = e3.substr(0, e3.length - t4.length)), c.messageFormat === a.MessageFormat.both || c.messageFormat === a.MessageFormat.bundle) {\n            var o3 = function(e4) {\n              for (var t5, o4 = r2.dirname(e4); t5 = r2.join(o4, \"nls.metadata.header.json\"), !n2.existsSync(t5); ) {\n                var s3 = r2.dirname(o4);\n                if (s3 === o4) {\n                  t5 = void 0;\n                  break;\n                }\n                o4 = s3;\n              }\n              return t5;\n            }(e3);\n            if (o3) {\n              var s2 = r2.dirname(o3), u2 = i[s2];\n              if (void 0 === u2)\n                try {\n                  var l2 = JSON.parse(n2.readFileSync(o3, \"utf8\"));\n                  try {\n                    var d2 = m(l2, s2);\n                    u2 = g(s2, d2 ? { header: l2, nlsBundle: d2 } : null);\n                  } catch (e4) {\n                    console.error(\"Failed to load nls bundle\", e4), u2 = g(s2, null);\n                  }\n                } catch (e4) {\n                  console.error(\"Failed to read header file\", e4), u2 = g(s2, null);\n                }\n              if (u2) {\n                var f2 = e3.substr(s2.length + 1).replace(/\\\\/g, \"/\"), v2 = u2.nlsBundle[f2];\n                return void 0 === v2 ? (console.error(\"Messages for file \".concat(e3, \" not found. See console for details.\")), function() {\n                  return \"Messages not found.\";\n                }) : h(v2);\n              }\n            }\n          }\n          if (c.messageFormat === a.MessageFormat.both || c.messageFormat === a.MessageFormat.file)\n            try {\n              var y2 = p(function(e4) {\n                var t5;\n                if (c.cacheLanguageResolution && t5)\n                  ;\n                else {\n                  if (a.isPseudo || !c.language)\n                    t5 = \".nls.json\";\n                  else\n                    for (var o4 = c.language; o4; ) {\n                      var r3 = \".nls.\" + o4 + \".json\";\n                      if (n2.existsSync(e4 + r3)) {\n                        t5 = r3;\n                        break;\n                      }\n                      var s3 = o4.lastIndexOf(\"-\");\n                      s3 > 0 ? o4 = o4.substring(0, s3) : (t5 = \".nls.json\", o4 = null);\n                    }\n                  c.cacheLanguageResolution;\n                }\n                return e4 + t5;\n              }(e3));\n              return Array.isArray(y2) ? h(y2) : (0, a.isDefined)(y2.messages) && (0, a.isDefined)(y2.keys) ? h(y2.messages) : (console.error(\"String bundle '\".concat(e3, \"' uses an unsupported format.\")), function() {\n                return \"File bundle has unsupported format. See console for details\";\n              });\n            } catch (e4) {\n              \"ENOENT\" !== e4.code && console.error(\"Failed to load single file bundle\", e4);\n            }\n          return console.error(\"Failed to load message bundle for file \".concat(e3)), function() {\n            return \"Failed to load message bundle. See console for details.\";\n          };\n        }\n        function b(e3) {\n          return e3 && (f(e3.locale) && (c.locale = e3.locale.toLowerCase(), c.language = c.locale, i = /* @__PURE__ */ Object.create(null)), void 0 !== e3.messageFormat && (c.messageFormat = e3.messageFormat), e3.bundleFormat === a.BundleFormat.standalone && true === c.languagePackSupport && (c.languagePackSupport = false)), (0, a.setPseudo)(\"pseudo\" === c.locale), y;\n        }\n        !function() {\n          if (c = { locale: void 0, language: void 0, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: a.MessageFormat.bundle }, f(process.env.VSCODE_NLS_CONFIG))\n            try {\n              var e3 = JSON.parse(process.env.VSCODE_NLS_CONFIG), t4 = void 0;\n              if (e3.availableLanguages) {\n                var o3 = e3.availableLanguages[\"*\"];\n                f(o3) && (t4 = o3);\n              }\n              if (f(e3.locale) && (c.locale = e3.locale.toLowerCase()), void 0 === t4 ? c.language = c.locale : \"en\" !== t4 && (c.language = t4), function(e4) {\n                return true === e4 || false === e4;\n              }(e3._languagePackSupport) && (c.languagePackSupport = e3._languagePackSupport), f(e3._cacheRoot) && (c.cacheRoot = e3._cacheRoot), f(e3._languagePackId) && (c.languagePackId = e3._languagePackId), f(e3._translationsConfigFile)) {\n                c.translationsConfigFile = e3._translationsConfigFile;\n                try {\n                  c.translationsConfig = p(c.translationsConfigFile);\n                } catch (t5) {\n                  if (e3._corruptedFile) {\n                    var s2 = r2.dirname(e3._corruptedFile);\n                    n2.exists(s2, function(t6) {\n                      t6 && n2.writeFile(e3._corruptedFile, \"corrupted\", \"utf8\", function(e4) {\n                        console.error(e4);\n                      });\n                    });\n                  }\n                }\n              }\n            } catch (e4) {\n            }\n          (0, a.setPseudo)(\"pseudo\" === c.locale), i = /* @__PURE__ */ Object.create(null);\n        }(), t3.loadMessageBundle = y, t3.config = b, s.default.install(Object.freeze({ loadMessageBundle: y, config: b }));\n      }, 374: (e2, t3) => {\n        function o2() {\n        }\n        Object.defineProperty(t3, \"__esModule\", { value: true }), t3.default = function(e3) {\n          return o2;\n        };\n      }, 491: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"assert\");\n      }, 361: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"events\");\n      }, 147: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"fs\");\n      }, 685: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"http\");\n      }, 687: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"https\");\n      }, 808: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"net\");\n      }, 17: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"path\");\n      }, 404: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"tls\");\n      }, 310: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"url\");\n      }, 796: (e2) => {\n        \"use strict\";\n        e2.exports = require(\"zlib\");\n      } }, t2 = {}, o = function o2(r2) {\n        var n2 = t2[r2];\n        if (void 0 !== n2)\n          return n2.exports;\n        var s = t2[r2] = { exports: {} };\n        return e[r2].call(s.exports, s, s.exports, o2), s.exports;\n      }(539), r = exports;\n      for (var n in o)\n        r[n] = o[n];\n      o.__esModule && Object.defineProperty(r, \"__esModule\", { value: true });\n    })();\n  }\n});\n\n// src/main.ts\nvar main_exports = {};\n__export(main_exports, {\n  config: () => config,\n  t: () => t\n});\nmodule.exports = __toCommonJS(main_exports);\n\n// src/node/reader.ts\nvar import_fs = require(\"fs\");\nvar import_promises = require(\"fs/promises\");\nvar import_request_light = __toESM(require_main());\nasync function readFileFromUri(uri) {\n  if (uri.protocol === \"file:\") {\n    return await (0, import_promises.readFile)(uri, \"utf8\");\n  }\n  if (uri.protocol === \"http:\" || uri.protocol === \"https:\") {\n    try {\n      const res = await (0, import_request_light.xhr)({\n        url: uri.toString(),\n        followRedirects: 5,\n        headers: {\n          \"Accept-Encoding\": \"gzip, deflate\",\n          \"Accept\": \"application/json\"\n        }\n      });\n      const decoded = new TextDecoder().decode(res.body);\n      return decoded;\n    } catch (e) {\n      throw new Error(e.responseText ?? (0, import_request_light.getErrorStatusDescription)(e.status) ?? e.toString());\n    }\n  }\n  throw new Error(\"Unsupported protocol\");\n}\nfunction readFileFromFsPath(fsPath) {\n  return (0, import_fs.readFileSync)(fsPath, \"utf8\");\n}\n\n// src/main.ts\nvar bundle;\nfunction config(config2) {\n  if (\"contents\" in config2) {\n    if (typeof config2.contents === \"string\") {\n      bundle = JSON.parse(config2.contents);\n    } else {\n      bundle = config2.contents;\n    }\n    return;\n  }\n  if (\"fsPath\" in config2) {\n    const fileContent = readFileFromFsPath(config2.fsPath);\n    const content = JSON.parse(fileContent);\n    bundle = isBuiltinExtension(content) ? content.contents.bundle : content;\n    return;\n  }\n  if (config2.uri) {\n    let uri = config2.uri;\n    if (typeof config2.uri === \"string\") {\n      uri = new URL(config2.uri);\n    }\n    return new Promise((resolve, reject) => {\n      const p = readFileFromUri(uri).then((uriContent) => {\n        try {\n          const content = JSON.parse(uriContent);\n          bundle = isBuiltinExtension(content) ? content.contents.bundle : content;\n        } catch (err) {\n          reject(err);\n        }\n      }).catch((err) => {\n        reject(err);\n      });\n      resolve(p);\n    });\n  }\n}\nfunction t(...args) {\n  const firstArg = args[0];\n  let key;\n  let message;\n  let formatArgs;\n  if (typeof firstArg === \"string\") {\n    key = firstArg;\n    message = firstArg;\n    args.splice(0, 1);\n    formatArgs = !args || typeof args[0] !== \"object\" ? args : args[0];\n  } else {\n    message = firstArg.message;\n    key = message;\n    if (firstArg.comment && firstArg.comment.length > 0) {\n      key += `/${Array.isArray(firstArg.comment) ? firstArg.comment.join() : firstArg.comment}`;\n    }\n    formatArgs = firstArg.args ?? {};\n  }\n  if (!bundle) {\n    return format(message, formatArgs);\n  }\n  const messageFromBundle = bundle[key];\n  if (!messageFromBundle) {\n    return format(message, formatArgs);\n  }\n  if (typeof messageFromBundle === \"string\") {\n    return format(messageFromBundle, formatArgs);\n  }\n  if (messageFromBundle.comment) {\n    return format(messageFromBundle.message, formatArgs);\n  }\n  return format(message, formatArgs);\n}\nvar _format2Regexp = /{([^}]+)}/g;\nfunction format(template, values) {\n  return template.replace(_format2Regexp, (match, group) => values[group] ?? match);\n}\nfunction isBuiltinExtension(json) {\n  return !!(typeof json?.contents?.bundle === \"object\" && typeof json?.version === \"string\");\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  config,\n  t\n});\n","'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceFormat = exports.TraceValues = exports.Trace = exports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.Message.isRequest(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.Message.isNotification(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.Message.isResponse(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch(() => logger.error(`Sending notification failed.`));\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage).catch(() => logger.error(`Sending request failed.`));\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises.set(id, responsePromise);\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection = exports.MessageDirection || (exports.MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n//# sourceMappingURL=protocol.diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type [InlayHintsParams](#InlayHintsParams), the response is of type\n * [InlayHint[]](#InlayHint[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type [InlayHint](#InlayHint), the response is\n * of type [InlayHint](#InlayHint) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlayHint.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type [InlineValueParams](#InlineValueParams), the response is of type\n * [InlineValue[]](#InlineValue[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * [TextDocumentFilter](#TextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * [NotebookDocumentFilter](#NotebookDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * [NotebookCellTextDocumentFilter](#NotebookCellTextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units.\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode code points,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n//# sourceMappingURL=protocol.notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n//# sourceMappingURL=protocol.typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolder.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (let change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            let startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        let ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        let ch = text.charCodeAt(i);\n        if (ch === 13 /* CharCode.CarriageReturn */ || ch === 10 /* CharCode.LineFeed */) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n    };\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n//# sourceMappingURL=diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n//# sourceMappingURL=fileOperations.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n//# sourceMappingURL=inlayHint.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n//# sourceMappingURL=inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n//# sourceMappingURL=moniker.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nCellTextDocumentConnection.NULL_DISPOSE = Object.freeze({ dispose: () => { } });\nclass NotebookDocuments {\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument((params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n//# sourceMappingURL=notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this._data)).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl))))))));\nclass _NotebooksImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            if (arguments.length === 1) {\n                return connection.sendNotification(method);\n            }\n            else {\n                return connection.sendNotification(method, param);\n            }\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n//# sourceMappingURL=server.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n//# sourceMappingURL=showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n//# sourceMappingURL=textDocuments.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n//# sourceMappingURL=typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = require(\"url\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    let parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    let segments = parsed.path.split('/');\n    for (var i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        let first = segments[0];\n        let second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        let env = process.env;\n        let newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            let cp = (0, child_process_1.fork)('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            let message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let stdout = (0, child_process_1.spawnSync)(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        let prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    let options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let results = (0, child_process_1.spawnSync)(yarnCommand, ['global', 'dir', '--json'], options);\n        let stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        let lines = stdout.trim().split(/\\r?\\n/);\n        for (let line of lines) {\n            try {\n                let yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n//# sourceMappingURL=files.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst Is = require(\"../common/utils/is\");\nconst server_1 = require(\"../common/server\");\nconst fm = require(\"./files\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files = exports.Files || (exports.Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            let processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        let arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            let args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    if (!input && !output && process.argv.length > 2) {\n        let port = void 0;\n        let pipeName = void 0;\n        let argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            let arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                var args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            let transport = (0, node_1.createServerSocketTransport)(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            let transport = (0, node_1.createServerPipeTransport)(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        let inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = (0, node_1.createProtocolConnection)(input, output, logger, options);\n        return result;\n    };\n    return (0, server_1.createConnection)(connectionFactory, watchDog, factories);\n}\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","async function g(r){if(r.protocol===\"http\"||r.protocol===\"https\")return await(await fetch(r)).text();throw new Error(\"Unsupported protocol\")}function m(r){throw new Error(\"Unsupported in browser\")}var o;function f(r){if(\"contents\"in r){typeof r.contents==\"string\"?o=JSON.parse(r.contents):o=r.contents;return}if(\"fsPath\"in r){let n=m(r.fsPath);o=JSON.parse(n);return}if(r.uri){let n=r.uri;return typeof r.uri==\"string\"&&(n=new URL(r.uri)),g(n).then(t=>{o=JSON.parse(t)})}}function p(...r){let n=r[0],t,e,s;if(typeof n==\"string\"?(t=n,e=n,r.splice(0,1),s=!r||typeof r[0]!=\"object\"?r:r[0]):(e=n.message,t=e,n.comment&&n.comment.length>0&&(t+=`/${Array.isArray(n.comment)?n.comment.join():n.comment}`),s=n.args??{}),!o)return a(e,s);let i=o[t];return i?typeof i==\"string\"?a(i,s):i.comment?a(i.message,s):a(e,s):a(e,s)}var u=/{([^}]+)}/g;function a(r,n){return r.replace(u,(t,e)=>n[e]??t)}export{f as config,p as t};\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isExcludedPath = exports.getLsConfiguration = exports.defaultMarkdownFileExtension = exports.PreferredMdPathExtensionStyle = void 0;\nconst picomatch = require(\"picomatch\");\n/**\n * Preferred style for file paths to {@link markdownFileExtensions markdown files}.\n */\nvar PreferredMdPathExtensionStyle;\n(function (PreferredMdPathExtensionStyle) {\n    /**\n     * Try to maintain the existing of the path.\n     */\n    PreferredMdPathExtensionStyle[\"auto\"] = \"auto\";\n    /**\n     * Include the file extension when possible.\n     */\n    PreferredMdPathExtensionStyle[\"includeExtension\"] = \"includeExtension\";\n    /**\n     * Drop the file extension when possible.\n     */\n    PreferredMdPathExtensionStyle[\"removeExtension\"] = \"removeExtension\";\n})(PreferredMdPathExtensionStyle = exports.PreferredMdPathExtensionStyle || (exports.PreferredMdPathExtensionStyle = {}));\nexports.defaultMarkdownFileExtension = 'md';\nconst defaultConfig = {\n    markdownFileExtensions: [exports.defaultMarkdownFileExtension],\n    knownLinkedToFileExtensions: [\n        'jpg',\n        'jpeg',\n        'png',\n        'gif',\n        'webp',\n        'bmp',\n        'tiff',\n    ],\n    excludePaths: [\n        '**/.*',\n        '**/node_modules/**',\n    ]\n};\nfunction getLsConfiguration(overrides) {\n    return new Proxy(Object.create(null), {\n        get(_target, p, _receiver) {\n            return p in overrides ? overrides[p] : defaultConfig[p];\n        },\n    });\n}\nexports.getLsConfiguration = getLsConfiguration;\nfunction isExcludedPath(configuration, uri) {\n    return configuration.excludePaths.some(excludePath => picomatch.isMatch(uri.path, excludePath));\n}\nexports.isExcludedPath = isExcludedPath;\n//# sourceMappingURL=config.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLanguageService = exports.githubSlugifier = exports.LogLevel = exports.RenameNotSupportedAtLocationError = exports.IncludeWorkspaceHeaderCompletions = exports.DiagnosticLevel = exports.DiagnosticCode = exports.PreferredMdPathExtensionStyle = void 0;\nconst config_1 = require(\"./config\");\nconst extractLinkDef_1 = require(\"./languageFeatures/codeActions/extractLinkDef\");\nconst removeLinkDefinition_1 = require(\"./languageFeatures/codeActions/removeLinkDefinition\");\nconst definitions_1 = require(\"./languageFeatures/definitions\");\nconst diagnostics_1 = require(\"./languageFeatures/diagnostics\");\nconst documentHighlights_1 = require(\"./languageFeatures/documentHighlights\");\nconst documentLinks_1 = require(\"./languageFeatures/documentLinks\");\nconst documentSymbols_1 = require(\"./languageFeatures/documentSymbols\");\nconst fileRename_1 = require(\"./languageFeatures/fileRename\");\nconst folding_1 = require(\"./languageFeatures/folding\");\nconst organizeLinkDefs_1 = require(\"./languageFeatures/organizeLinkDefs\");\nconst pathCompletions_1 = require(\"./languageFeatures/pathCompletions\");\nconst references_1 = require(\"./languageFeatures/references\");\nconst rename_1 = require(\"./languageFeatures/rename\");\nconst smartSelect_1 = require(\"./languageFeatures/smartSelect\");\nconst workspaceSymbols_1 = require(\"./languageFeatures/workspaceSymbols\");\nconst tableOfContents_1 = require(\"./tableOfContents\");\nconst workspace_1 = require(\"./workspace\");\nvar config_2 = require(\"./config\");\nObject.defineProperty(exports, \"PreferredMdPathExtensionStyle\", { enumerable: true, get: function () { return config_2.PreferredMdPathExtensionStyle; } });\nvar diagnostics_2 = require(\"./languageFeatures/diagnostics\");\nObject.defineProperty(exports, \"DiagnosticCode\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticCode; } });\nObject.defineProperty(exports, \"DiagnosticLevel\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticLevel; } });\nvar pathCompletions_2 = require(\"./languageFeatures/pathCompletions\");\nObject.defineProperty(exports, \"IncludeWorkspaceHeaderCompletions\", { enumerable: true, get: function () { return pathCompletions_2.IncludeWorkspaceHeaderCompletions; } });\nvar rename_2 = require(\"./languageFeatures/rename\");\nObject.defineProperty(exports, \"RenameNotSupportedAtLocationError\", { enumerable: true, get: function () { return rename_2.RenameNotSupportedAtLocationError; } });\nvar logging_1 = require(\"./logging\");\nObject.defineProperty(exports, \"LogLevel\", { enumerable: true, get: function () { return logging_1.LogLevel; } });\nvar slugify_1 = require(\"./slugify\");\nObject.defineProperty(exports, \"githubSlugifier\", { enumerable: true, get: function () { return slugify_1.githubSlugifier; } });\n/**\n * Create a new instance of the {@link IMdLanguageService language service}.\n */\nfunction createLanguageService(init) {\n    const config = (0, config_1.getLsConfiguration)(init);\n    const logger = init.logger;\n    const tocProvider = new tableOfContents_1.MdTableOfContentsProvider(init.parser, init.workspace, logger);\n    const smartSelectProvider = new smartSelect_1.MdSelectionRangeProvider(init.parser, tocProvider, logger);\n    const foldingProvider = new folding_1.MdFoldingProvider(init.parser, tocProvider, logger);\n    const linkProvider = new documentLinks_1.MdLinkProvider(config, init.parser, init.workspace, tocProvider, logger);\n    const pathCompletionProvider = new pathCompletions_1.MdPathCompletionProvider(config, init.workspace, init.parser, linkProvider, tocProvider);\n    const linkCache = (0, documentLinks_1.createWorkspaceLinkCache)(init.parser, init.workspace);\n    const referencesProvider = new references_1.MdReferencesProvider(config, init.parser, init.workspace, tocProvider, linkCache, logger);\n    const definitionsProvider = new definitions_1.MdDefinitionProvider(config, init.workspace, tocProvider, linkCache);\n    const renameProvider = new rename_1.MdRenameProvider(config, init.workspace, referencesProvider, init.parser.slugifier, logger);\n    const fileRenameProvider = new fileRename_1.MdFileRenameProvider(config, init.workspace, linkCache, referencesProvider);\n    const diagnosticsComputer = new diagnostics_1.DiagnosticComputer(config, init.workspace, linkProvider, tocProvider, logger);\n    const docSymbolProvider = new documentSymbols_1.MdDocumentSymbolProvider(tocProvider, linkProvider, logger);\n    const workspaceSymbolProvider = new workspaceSymbols_1.MdWorkspaceSymbolProvider(init.workspace, docSymbolProvider);\n    const organizeLinkDefinitions = new organizeLinkDefs_1.MdOrganizeLinkDefinitionProvider(linkProvider);\n    const documentHighlightProvider = new documentHighlights_1.MdDocumentHighlightProvider(config, tocProvider, linkProvider);\n    const extractCodeActionProvider = new extractLinkDef_1.MdExtractLinkDefinitionCodeActionProvider(linkProvider);\n    const removeLinkDefinitionActionProvider = new removeLinkDefinition_1.MdRemoveLinkDefinitionCodeActionProvider();\n    return Object.freeze({\n        dispose: () => {\n            linkCache.dispose();\n            tocProvider.dispose();\n            workspaceSymbolProvider.dispose();\n            linkProvider.dispose();\n            referencesProvider.dispose();\n        },\n        getDocumentLinks: linkProvider.provideDocumentLinks.bind(linkProvider),\n        resolveDocumentLink: linkProvider.resolveDocumentLink.bind(linkProvider),\n        resolveLinkTarget: linkProvider.resolveLinkTarget.bind(linkProvider),\n        getDocumentSymbols: docSymbolProvider.provideDocumentSymbols.bind(docSymbolProvider),\n        getFoldingRanges: foldingProvider.provideFoldingRanges.bind(foldingProvider),\n        getSelectionRanges: smartSelectProvider.provideSelectionRanges.bind(smartSelectProvider),\n        getWorkspaceSymbols: workspaceSymbolProvider.provideWorkspaceSymbols.bind(workspaceSymbolProvider),\n        getCompletionItems: pathCompletionProvider.provideCompletionItems.bind(pathCompletionProvider),\n        getReferences: referencesProvider.provideReferences.bind(referencesProvider),\n        getFileReferences: async (resource, token) => {\n            return (await referencesProvider.getReferencesToFileInWorkspace(resource, token)).map(x => x.location);\n        },\n        getDefinition: definitionsProvider.provideDefinition.bind(definitionsProvider),\n        organizeLinkDefinitions: organizeLinkDefinitions.getOrganizeLinkDefinitionEdits.bind(organizeLinkDefinitions),\n        prepareRename: renameProvider.prepareRename.bind(renameProvider),\n        getRenameEdit: renameProvider.provideRenameEdits.bind(renameProvider),\n        getRenameFilesInWorkspaceEdit: fileRenameProvider.getRenameFilesInWorkspaceEdit.bind(fileRenameProvider),\n        getCodeActions: async (doc, range, context, token) => {\n            return (await Promise.all([\n                extractCodeActionProvider.getActions(doc, range, context, token),\n                Array.from(removeLinkDefinitionActionProvider.getActions(doc, range, context)),\n            ])).flat();\n        },\n        getDocumentHighlights: (document, position, token) => {\n            return documentHighlightProvider.getDocumentHighlights(document, position, token);\n        },\n        computeDiagnostics: async (doc, options, token) => {\n            return (await diagnosticsComputer.compute(doc, options, token))?.diagnostics;\n        },\n        createPullDiagnosticsManager: () => {\n            if (!(0, workspace_1.isWorkspaceWithFileWatching)(init.workspace)) {\n                throw new Error(`Workspace does not support file watching. Diagnostics manager not supported`);\n            }\n            return new diagnostics_1.DiagnosticsManager(config, init.workspace, linkProvider, tocProvider, logger);\n        }\n    });\n}\nexports.createLanguageService = createLanguageService;\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdExtractLinkDefinitionCodeActionProvider = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst position_1 = require(\"../../types/position\");\nconst range_1 = require(\"../../types/range\");\nconst textDocument_1 = require(\"../../types/textDocument\");\nconst editBuilder_1 = require(\"../../util/editBuilder\");\nconst documentLinks_1 = require(\"../documentLinks\");\nconst organizeLinkDefs_1 = require(\"../organizeLinkDefs\");\nconst util_1 = require(\"./util\");\nclass MdExtractLinkDefinitionCodeActionProvider {\n    static genericTitle = l10n.t('Extract to link definition');\n    static #kind = lsp.CodeActionKind.RefactorExtract + '.linkDefinition';\n    static notOnLinkAction = {\n        title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n        kind: MdExtractLinkDefinitionCodeActionProvider.#kind,\n        disabled: {\n            reason: l10n.t('Not on link'),\n        }\n    };\n    static alreadyRefLinkAction = {\n        title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n        kind: MdExtractLinkDefinitionCodeActionProvider.#kind,\n        disabled: {\n            reason: l10n.t('Link is already a reference'),\n        }\n    };\n    #linkProvider;\n    constructor(linkProvider) {\n        this.#linkProvider = linkProvider;\n    }\n    async getActions(doc, range, context, token) {\n        if (!this.#isEnabled(context)) {\n            return [];\n        }\n        const linkInfo = await this.#linkProvider.getLinks(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const linksInRange = linkInfo.links.filter(link => link.kind !== documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeIntersects)(range, link.source.range));\n        if (!linksInRange.length) {\n            return [MdExtractLinkDefinitionCodeActionProvider.notOnLinkAction];\n        }\n        // Sort by range start to get most specific link\n        linksInRange.sort((a, b) => (0, position_1.comparePosition)(b.source.range.start, a.source.range.start));\n        // Even though multiple links may be in the selection, we only generate an action for the first link we find.\n        // Creating actions for every link is overwhelming when users select all in a file\n        const targetLink = linksInRange.find(link => link.href.kind === documentLinks_1.HrefKind.External || link.href.kind === documentLinks_1.HrefKind.Internal);\n        if (!targetLink) {\n            return [MdExtractLinkDefinitionCodeActionProvider.alreadyRefLinkAction];\n        }\n        return [this.#getExtractLinkAction(doc, linkInfo, targetLink)];\n    }\n    #isEnabled(context) {\n        if (typeof context.only === 'undefined') {\n            return true;\n        }\n        return context.only.some(kind => (0, util_1.codeActionKindContains)(lsp.CodeActionKind.Refactor, kind));\n    }\n    #getExtractLinkAction(doc, linkInfo, targetLink) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const resource = (0, textDocument_1.getDocUri)(doc);\n        const placeholder = this.#getPlaceholder(linkInfo.definitions);\n        // Rewrite all inline occurrences of the link\n        for (const link of linkInfo.links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Link && this.#matchesHref(targetLink.href, link)) {\n                builder.replace(resource, link.source.targetRange, `[${placeholder}]`);\n            }\n        }\n        // And append new definition to link definition block\n        const definitionText = this.#getLinkTargetText(doc, targetLink).trim();\n        const definitions = linkInfo.links.filter(link => link.kind === documentLinks_1.MdLinkKind.Definition);\n        const defBlock = (0, organizeLinkDefs_1.getExistingDefinitionBlock)(doc, definitions);\n        if (!defBlock) {\n            builder.insert(resource, { line: doc.lineCount, character: 0 }, `\\n\\n[${placeholder}]: ${definitionText}`);\n        }\n        else {\n            const line = (0, textDocument_1.getLine)(doc, defBlock.endLine);\n            builder.insert(resource, { line: defBlock.endLine, character: line.length }, `\\n[${placeholder}]: ${definitionText}`);\n        }\n        const renamePosition = (0, position_1.translatePosition)(targetLink.source.targetRange.start, { characterDelta: 1 });\n        return {\n            title: MdExtractLinkDefinitionCodeActionProvider.genericTitle,\n            kind: MdExtractLinkDefinitionCodeActionProvider.#kind,\n            edit: builder.getEdit(),\n            command: {\n                command: 'vscodeMarkdownLanguageservice.rename',\n                title: 'Rename',\n                arguments: [(0, textDocument_1.getDocUri)(doc), renamePosition],\n            }\n        };\n    }\n    #getLinkTargetText(doc, link) {\n        const afterHrefRange = (0, range_1.makeRange)((0, position_1.translatePosition)(link.source.targetRange.start, { characterDelta: 1 }), (0, position_1.translatePosition)(link.source.targetRange.end, { characterDelta: -1 }));\n        return doc.getText(afterHrefRange);\n    }\n    #getPlaceholder(definitions) {\n        const base = 'def';\n        for (let i = 1;; ++i) {\n            const name = i === 1 ? base : `${base}${i}`;\n            if (typeof definitions.lookup(name) === 'undefined') {\n                return name;\n            }\n        }\n    }\n    #matchesHref(href, link) {\n        if (link.href.kind === documentLinks_1.HrefKind.External && href.kind === documentLinks_1.HrefKind.External) {\n            return link.href.uri.toString() === href.uri.toString();\n        }\n        if (link.href.kind === documentLinks_1.HrefKind.Internal && href.kind === documentLinks_1.HrefKind.Internal) {\n            return link.href.path.toString() === href.path.toString() && link.href.fragment === href.fragment;\n        }\n        return false;\n    }\n}\nexports.MdExtractLinkDefinitionCodeActionProvider = MdExtractLinkDefinitionCodeActionProvider;\n//# sourceMappingURL=extractLinkDef.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdRemoveLinkDefinitionCodeActionProvider = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst range_1 = require(\"../../types/range\");\nconst textDocument_1 = require(\"../../types/textDocument\");\nconst editBuilder_1 = require(\"../../util/editBuilder\");\nconst diagnostics_1 = require(\"../diagnostics\");\nconst util_1 = require(\"./util\");\nclass MdRemoveLinkDefinitionCodeActionProvider {\n    static #removeUnusedDefTitle = l10n.t('Remove unused link definition');\n    static #removeDuplicateDefTitle = l10n.t('Remove duplicate link definition');\n    *getActions(doc, range, context) {\n        if (!this.#isEnabled(context)) {\n            return;\n        }\n        const unusedDiagnosticLines = new Set();\n        for (const diag of context.diagnostics) {\n            if (diag.code === diagnostics_1.DiagnosticCode.link_unusedDefinition && diag.data && (0, range_1.rangeIntersects)(diag.range, range)) {\n                const link = diag.data;\n                yield this.#getRemoveDefinitionAction(doc, link, MdRemoveLinkDefinitionCodeActionProvider.#removeUnusedDefTitle);\n                unusedDiagnosticLines.add(link.source.range.start.line);\n            }\n        }\n        for (const diag of context.diagnostics) {\n            if (diag.code === diagnostics_1.DiagnosticCode.link_duplicateDefinition && diag.data && (0, range_1.rangeIntersects)(diag.range, range)) {\n                const link = diag.data;\n                if (!unusedDiagnosticLines.has(link.source.range.start.line)) {\n                    yield this.#getRemoveDefinitionAction(doc, link, MdRemoveLinkDefinitionCodeActionProvider.#removeDuplicateDefTitle);\n                }\n            }\n        }\n    }\n    #isEnabled(context) {\n        if (typeof context.only === 'undefined') {\n            return true;\n        }\n        return context.only.some(kind => (0, util_1.codeActionKindContains)(lsp.CodeActionKind.QuickFix, kind));\n    }\n    #getRemoveDefinitionAction(doc, definition, title) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const range = definition.source.range;\n        builder.replace((0, textDocument_1.getDocUri)(doc), (0, range_1.makeRange)(range.start.line, 0, range.start.line + 1, 0), '');\n        return { title, kind: lsp.CodeActionKind.QuickFix, edit: builder.getEdit() };\n    }\n}\nexports.MdRemoveLinkDefinitionCodeActionProvider = MdRemoveLinkDefinitionCodeActionProvider;\n//# sourceMappingURL=removeLinkDefinition.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.codeActionKindContains = void 0;\nfunction codeActionKindContains(kindA, kindB) {\n    return kindA === kindB || kindB.startsWith(kindA + '.');\n}\nexports.codeActionKindContains = codeActionKindContains;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDefinitionProvider = void 0;\nconst range_1 = require(\"../types/range\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdDefinitionProvider {\n    #configuration;\n    #workspace;\n    #tocProvider;\n    #linkCache;\n    constructor(configuration, workspace, tocProvider, linkCache) {\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#tocProvider = tocProvider;\n        this.#linkCache = linkCache;\n    }\n    async provideDefinition(document, position, token) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return header.headerLocation;\n        }\n        return this.#getDefinitionOfLinkAtPosition(document, position, token);\n    }\n    async #getDefinitionOfLinkAtPosition(document, position, token) {\n        const docLinks = (await this.#linkCache.getForDocs([document]))[0];\n        for (const link of docLinks) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(link.ref.range, position)) {\n                return this.#getDefinitionOfRef(link.ref.text, docLinks);\n            }\n            if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                return this.#getDefinitionOfLink(link, docLinks, token);\n            }\n        }\n        return undefined;\n    }\n    async #getDefinitionOfLink(sourceLink, allLinksInFile, token) {\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.Reference) {\n            return this.#getDefinitionOfRef(sourceLink.href.ref, allLinksInFile);\n        }\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.External || !sourceLink.href.fragment) {\n            return undefined;\n        }\n        const resolvedResource = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, sourceLink.href.path);\n        if (!resolvedResource || token.isCancellationRequested) {\n            return undefined;\n        }\n        const toc = await this.#tocProvider.get(resolvedResource);\n        return toc.lookup(sourceLink.href.fragment)?.headerLocation;\n    }\n    #getDefinitionOfRef(ref, allLinksInFile) {\n        const allDefinitions = new documentLinks_1.LinkDefinitionSet(allLinksInFile);\n        const def = allDefinitions.lookup(ref);\n        return def ? { range: def.source.range, uri: def.source.resource.toString() } : undefined;\n    }\n}\nexports.MdDefinitionProvider = MdDefinitionProvider;\n//# sourceMappingURL=definitions.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticsManager = exports.DiagnosticComputer = exports.DiagnosticCode = exports.DiagnosticLevel = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst picomatch = require(\"picomatch\");\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst limiter_1 = require(\"../util/limiter\");\nconst resourceMap_1 = require(\"../util/resourceMap\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst logging_1 = require(\"../logging\");\n/**\n * The severity at which diagnostics are reported\n */\nvar DiagnosticLevel;\n(function (DiagnosticLevel) {\n    /** Don't report this diagnostic. */\n    DiagnosticLevel[\"ignore\"] = \"ignore\";\n    /**\n     * Report the diagnostic at a hint level.\n     *\n     * Hints will typically not be directly reported by editors, but may show up as unused spans.\n     */\n    DiagnosticLevel[\"hint\"] = \"hint\";\n    /** Report the diagnostic as a warning. */\n    DiagnosticLevel[\"warning\"] = \"warning\";\n    /** Report the diagnostic as an error. */\n    DiagnosticLevel[\"error\"] = \"error\";\n})(DiagnosticLevel = exports.DiagnosticLevel || (exports.DiagnosticLevel = {}));\nfunction toSeverity(level) {\n    switch (level) {\n        case DiagnosticLevel.error: return vscode_languageserver_1.DiagnosticSeverity.Error;\n        case DiagnosticLevel.warning: return vscode_languageserver_1.DiagnosticSeverity.Warning;\n        case DiagnosticLevel.hint: return vscode_languageserver_1.DiagnosticSeverity.Hint;\n        case DiagnosticLevel.ignore: return undefined;\n        case undefined: return undefined;\n    }\n}\n/**\n * Error codes of Markdown diagnostics\n */\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    /** The linked to reference does not exist. */\n    DiagnosticCode[\"link_noSuchReferences\"] = \"link.no-such-reference\";\n    /** The linked to heading does not exist in the current file. */\n    DiagnosticCode[\"link_noSuchHeaderInOwnFile\"] = \"link.no-such-header-in-own-file\";\n    /** The linked to local file does not exist. */\n    DiagnosticCode[\"link_noSuchFile\"] = \"link.no-such-file\";\n    /** The linked to heading does not exist in the another file. */\n    DiagnosticCode[\"link_noSuchHeaderInFile\"] = \"link.no-such-header-in-file\";\n    /** The link definition is not used anywhere. */\n    DiagnosticCode[\"link_unusedDefinition\"] = \"link.unused-definition\";\n    /** The link definition is not used anywhere. */\n    DiagnosticCode[\"link_duplicateDefinition\"] = \"link.duplicate-definition\";\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\n/**\n * Map of file paths to markdown links to that file.\n */\nclass FileLinkMap {\n    #filesToLinksMap = new resourceMap_1.ResourceMap();\n    constructor(links) {\n        for (const link of links) {\n            if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n                continue;\n            }\n            const existingFileEntry = this.#filesToLinksMap.get(link.href.path);\n            const linkData = { source: link.source, fragment: link.href.fragment };\n            if (existingFileEntry) {\n                existingFileEntry.outgoingLinks.push(linkData);\n            }\n            else {\n                this.#filesToLinksMap.set(link.href.path, { outgoingLinks: [linkData] });\n            }\n        }\n    }\n    get size() {\n        return this.#filesToLinksMap.size;\n    }\n    entries() {\n        return this.#filesToLinksMap.entries();\n    }\n}\nclass DiagnosticComputer {\n    #configuration;\n    #workspace;\n    #linkProvider;\n    #tocProvider;\n    #logger;\n    constructor(configuration, workspace, linkProvider, tocProvider, logger) {\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#linkProvider = linkProvider;\n        this.#tocProvider = tocProvider;\n        this.#logger = logger;\n    }\n    async compute(doc, options, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'DiagnosticComputer.compute', { document: doc.uri, version: doc.version });\n        const { links, definitions } = await this.#linkProvider.getLinks(doc);\n        const statCache = new resourceMap_1.ResourceMap();\n        if (token.isCancellationRequested) {\n            return { links, diagnostics: [], statCache };\n        }\n        // Current doc always implicitly exists\n        statCache.set((0, textDocument_1.getDocUri)(doc), { exists: true });\n        return {\n            links: links,\n            statCache,\n            diagnostics: (await Promise.all([\n                this.#validateFileLinks(options, links, statCache, token),\n                this.#validateFragmentLinks(doc, options, links, token),\n                Array.from(this.#validateReferenceLinks(options, links, definitions)),\n                Array.from(this.#validateUnusedLinkDefinitions(options, links)),\n                Array.from(this.#validateDuplicateLinkDefinitions(options, links)),\n            ])).flat()\n        };\n    }\n    async #validateFragmentLinks(doc, options, links, token) {\n        const severity = toSeverity(options.validateFragmentLinks);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        const toc = await this.#tocProvider.getForDocument(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const diagnostics = [];\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && link.source.hrefText.startsWith('#')\n                && link.href.path.toString() === doc.uri.toString()\n                && link.href.fragment\n                && !toc.lookup(link.href.fragment)) {\n                // Don't validate line number links\n                if ((0, documentLinks_1.parseLocationInfoFromFragment)(link.href.fragment)) {\n                    continue;\n                }\n                if (!this.#isIgnoredLink(options, link.source.hrefText)) {\n                    diagnostics.push({\n                        code: DiagnosticCode.link_noSuchHeaderInOwnFile,\n                        message: l10n.t('No header found: \\'{0}\\'', link.href.fragment),\n                        range: link.source.hrefRange,\n                        severity,\n                        data: {\n                            hrefText: link.source.hrefText\n                        }\n                    });\n                }\n            }\n        }\n        return diagnostics;\n    }\n    *#validateReferenceLinks(options, links, definitions) {\n        const severity = toSeverity(options.validateReferences);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Reference && !definitions.lookup(link.href.ref)) {\n                yield {\n                    code: DiagnosticCode.link_noSuchReferences,\n                    message: l10n.t('No link definition found: \\'{0}\\'', link.href.ref),\n                    range: link.source.hrefRange,\n                    severity,\n                    data: {\n                        ref: link.href.ref,\n                    },\n                };\n            }\n        }\n    }\n    *#validateUnusedLinkDefinitions(options, links) {\n        const errorSeverity = toSeverity(options.validateUnusedLinkDefinitions);\n        if (typeof errorSeverity === 'undefined') {\n            return;\n        }\n        const usedRefs = new documentLinks_1.ReferenceLinkMap();\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Link && link.href.kind === documentLinks_1.HrefKind.Reference) {\n                usedRefs.set(link.href.ref, true);\n            }\n        }\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition && !usedRefs.lookup(link.ref.text)) {\n                yield {\n                    code: DiagnosticCode.link_unusedDefinition,\n                    message: l10n.t('Link definition is unused'),\n                    range: link.source.range,\n                    severity: errorSeverity,\n                    tags: [\n                        lsp.DiagnosticTag.Unnecessary,\n                    ],\n                    data: link\n                };\n            }\n        }\n    }\n    *#validateDuplicateLinkDefinitions(options, links) {\n        const errorSeverity = toSeverity(options.validateDuplicateLinkDefinitions);\n        if (typeof errorSeverity === 'undefined') {\n            return;\n        }\n        const definitionMultiMap = new Map();\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                const existing = definitionMultiMap.get(link.ref.text);\n                if (existing) {\n                    existing.push(link);\n                }\n                else {\n                    definitionMultiMap.set(link.ref.text, [link]);\n                }\n            }\n        }\n        for (const [ref, defs] of definitionMultiMap) {\n            if (defs.length <= 1) {\n                continue;\n            }\n            for (const duplicateDef of defs) {\n                yield {\n                    code: DiagnosticCode.link_duplicateDefinition,\n                    message: l10n.t('Link definition for \\'{0}\\' already exists', ref),\n                    range: duplicateDef.ref.range,\n                    severity: errorSeverity,\n                    relatedInformation: defs\n                        .filter(x => x !== duplicateDef)\n                        .map(def => lsp.DiagnosticRelatedInformation.create({ uri: def.source.resource.toString(), range: def.ref.range }, l10n.t('Link is also defined here'))),\n                    data: duplicateDef\n                };\n            }\n        }\n    }\n    async #validateFileLinks(options, links, statCache, token) {\n        const pathErrorSeverity = toSeverity(options.validateFileLinks);\n        if (typeof pathErrorSeverity === 'undefined') {\n            return [];\n        }\n        const fragmentErrorSeverity = toSeverity(typeof options.validateMarkdownFileLinkFragments === 'undefined' ? options.validateFragmentLinks : options.validateMarkdownFileLinkFragments);\n        // We've already validated our own fragment links in `validateOwnHeaderLinks`\n        const linkSet = new FileLinkMap(links.filter(link => !link.source.hrefText.startsWith('#')));\n        if (linkSet.size === 0) {\n            return [];\n        }\n        const limiter = new limiter_1.Limiter(10);\n        const diagnostics = [];\n        await Promise.all(Array.from(linkSet.entries()).map(([path, { outgoingLinks: links }]) => {\n            return limiter.queue(async () => {\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                const resolvedHrefPath = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, path, statCache);\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                if (!resolvedHrefPath) {\n                    for (const link of links) {\n                        if (!this.#isIgnoredLink(options, link.source.pathText)) {\n                            diagnostics.push({\n                                code: DiagnosticCode.link_noSuchFile,\n                                message: l10n.t('File does not exist at path: {0}', path.fsPath),\n                                range: link.source.hrefRange,\n                                severity: pathErrorSeverity,\n                                data: {\n                                    fsPath: path.fsPath,\n                                    hrefText: link.source.pathText,\n                                }\n                            });\n                        }\n                    }\n                }\n                else if (typeof fragmentErrorSeverity !== 'undefined' && this.#isMarkdownPath(resolvedHrefPath)) {\n                    // Validate each of the links to headers in the file\n                    const fragmentLinks = links.filter(x => x.fragment);\n                    if (fragmentLinks.length) {\n                        const toc = await this.#tocProvider.get(resolvedHrefPath);\n                        if (token.isCancellationRequested) {\n                            return;\n                        }\n                        for (const link of fragmentLinks) {\n                            // Don't validate line number links\n                            if ((0, documentLinks_1.parseLocationInfoFromFragment)(link.fragment)) {\n                                continue;\n                            }\n                            if (!toc.lookup(link.fragment) && !this.#isIgnoredLink(options, link.source.pathText) && !this.#isIgnoredLink(options, link.source.hrefText)) {\n                                const range = (link.source.fragmentRange && (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }), undefined)) ?? link.source.hrefRange;\n                                diagnostics.push({\n                                    code: DiagnosticCode.link_noSuchHeaderInFile,\n                                    message: l10n.t('Header does not exist in file: {0}', link.fragment),\n                                    range: range,\n                                    severity: fragmentErrorSeverity,\n                                    data: {\n                                        fragment: link.fragment,\n                                        hrefText: link.source.hrefText\n                                    },\n                                });\n                            }\n                        }\n                    }\n                }\n            });\n        }));\n        return diagnostics;\n    }\n    #isMarkdownPath(resolvedHrefPath) {\n        return this.#workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownUri)(this.#configuration, resolvedHrefPath);\n    }\n    #isIgnoredLink(options, link) {\n        return options.ignoreLinks.some(glob => picomatch.isMatch(link, glob));\n    }\n}\nexports.DiagnosticComputer = DiagnosticComputer;\nclass FileLinkState extends dispose_1.Disposable {\n    #onDidChangeLinkedToFile = this._register(new vscode_languageserver_1.Emitter);\n    /**\n     * Event fired with a list of document uri when one of the links in the document changes\n     */\n    onDidChangeLinkedToFile = this.#onDidChangeLinkedToFile.event;\n    #linkedToFile = new resourceMap_1.ResourceMap();\n    #workspace;\n    #logger;\n    constructor(workspace, logger) {\n        super();\n        this.#workspace = workspace;\n        this.#logger = logger;\n    }\n    dispose() {\n        super.dispose();\n        for (const entry of this.#linkedToFile.values()) {\n            entry.watcher.dispose();\n        }\n        this.#linkedToFile.clear();\n    }\n    /**\n     * Set the known links in a markdown document, adding and removing file watchers as needed\n     */\n    updateLinksForDocument(document, links, statCache) {\n        const linkedToResource = new Set(links\n            .filter(link => link.href.kind === documentLinks_1.HrefKind.Internal)\n            .map(link => ({ path: link.href.path, exists: !!(statCache.get(link.href.path)?.exists) })));\n        // First decrement watcher counter for previous document state\n        for (const entry of this.#linkedToFile.values()) {\n            entry.documents.delete(document);\n        }\n        // Then create/update watchers for new document state\n        for (const { path, exists } of linkedToResource) {\n            let entry = this.#linkedToFile.get(path);\n            if (!entry) {\n                entry = {\n                    watcher: this.#startWatching(path),\n                    documents: new resourceMap_1.ResourceMap(),\n                    exists\n                };\n                this.#linkedToFile.set(path, entry);\n            }\n            entry.documents.set(document, document);\n        }\n        // Finally clean up watchers for links that are no longer are referenced anywhere\n        for (const [key, value] of this.#linkedToFile) {\n            if (value.documents.size === 0) {\n                value.watcher.dispose();\n                this.#linkedToFile.delete(key);\n            }\n        }\n    }\n    deleteDocument(resource) {\n        this.updateLinksForDocument(resource, [], new resourceMap_1.ResourceMap());\n    }\n    tryStatFileLink(link) {\n        const entry = this.#linkedToFile.get(link);\n        if (!entry) {\n            return undefined;\n        }\n        return { exists: entry.exists };\n    }\n    #startWatching(path) {\n        const watcher = this.#workspace.watchFile(path, { ignoreChange: true });\n        const deleteReg = watcher.onDidDelete((resource) => this.#onLinkedResourceChanged(resource, false));\n        const createReg = watcher.onDidCreate((resource) => this.#onLinkedResourceChanged(resource, true));\n        return {\n            dispose: () => {\n                watcher.dispose();\n                deleteReg.dispose();\n                createReg.dispose();\n            }\n        };\n    }\n    #onLinkedResourceChanged(resource, exists) {\n        this.#logger.log(logging_1.LogLevel.Trace, 'FileLinkState.onLinkedResourceChanged', { resource, exists });\n        const entry = this.#linkedToFile.get(resource);\n        if (entry) {\n            entry.exists = exists;\n            this.#onDidChangeLinkedToFile.fire({\n                changedResource: resource,\n                linkingFiles: entry.documents.values(),\n                exists,\n            });\n        }\n    }\n}\nclass DiagnosticsManager extends dispose_1.Disposable {\n    #computer;\n    #linkWatcher;\n    #onLinkedToFileChanged = this._register(new vscode_languageserver_1.Emitter());\n    onLinkedToFileChanged = this.#onLinkedToFileChanged.event;\n    constructor(configuration, workspace, linkProvider, tocProvider, logger) {\n        super();\n        const linkWatcher = new FileLinkState(workspace, logger);\n        this.#linkWatcher = this._register(linkWatcher);\n        this._register(this.#linkWatcher.onDidChangeLinkedToFile(e => {\n            logger.log(logging_1.LogLevel.Trace, 'DiagnosticsManager.onDidChangeLinkedToFile', { resource: e.changedResource });\n            this.#onLinkedToFileChanged.fire({\n                changedResource: e.changedResource,\n                linkingResources: Array.from(e.linkingFiles),\n            });\n        }));\n        const stateCachedWorkspace = new Proxy(workspace, {\n            get(target, p, receiver) {\n                if (p !== 'stat') {\n                    const value = Reflect.get(target, p, receiver);\n                    return typeof value === 'function' ? value.bind(workspace) : value;\n                }\n                return async function (resource) {\n                    const stat = linkWatcher.tryStatFileLink(resource);\n                    if (stat) {\n                        if (stat.exists) {\n                            return { isDirectory: false };\n                        }\n                        else {\n                            return undefined;\n                        }\n                    }\n                    return workspace.stat.call(this === receiver ? target : this, resource);\n                };\n            },\n        });\n        this.#computer = new DiagnosticComputer(configuration, stateCachedWorkspace, linkProvider, tocProvider, logger);\n        this._register(workspace.onDidDeleteMarkdownDocument(uri => {\n            this.#linkWatcher.deleteDocument(uri);\n        }));\n    }\n    async computeDiagnostics(doc, options, token) {\n        const results = await this.#computer.compute(doc, options, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        this.#linkWatcher.updateLinksForDocument((0, textDocument_1.getDocUri)(doc), results.links, results.statCache);\n        return results.diagnostics;\n    }\n    disposeDocumentResources(uri) {\n        this.#linkWatcher.deleteDocument(uri);\n    }\n}\nexports.DiagnosticsManager = DiagnosticsManager;\n//# sourceMappingURL=diagnostics.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDocumentHighlightProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst rename_1 = require(\"./rename\");\nclass MdDocumentHighlightProvider {\n    #configuration;\n    #tocProvider;\n    #linkProvider;\n    constructor(configuration, tocProvider, linkProvider) {\n        this.#configuration = configuration;\n        this.#tocProvider = tocProvider;\n        this.#linkProvider = linkProvider;\n    }\n    async getDocumentHighlights(document, position, token) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const { links } = await this.#linkProvider.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return [...this.#getHighlightsForHeader(document, header, links, toc)];\n        }\n        return [...this.#getHighlightsForLinkAtPosition(document, position, links, toc)];\n    }\n    *#getHighlightsForHeader(document, header, links, toc) {\n        yield { range: header.headerLocation.range, kind: lsp.DocumentHighlightKind.Write };\n        const docUri = document.uri.toString();\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && toc.lookup(link.href.fragment) === header\n                && link.source.fragmentRange\n                && link.href.path.toString() === docUri) {\n                yield {\n                    range: (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 })),\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n    #getHighlightsForLinkAtPosition(document, position, links, toc) {\n        const link = links.find(link => (0, range_1.rangeContains)(link.source.hrefRange, position) || (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(link.ref.range, position)));\n        if (!link) {\n            return [];\n        }\n        if (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(link.ref.range, position)) {\n            // We are on the reference text inside the link definition\n            return this.#getHighlightsForReference(link.ref.text, links);\n        }\n        switch (link.href.kind) {\n            case documentLinks_1.HrefKind.Reference: {\n                return this.#getHighlightsForReference(link.href.ref, links);\n            }\n            case documentLinks_1.HrefKind.Internal: {\n                if (link.source.fragmentRange && (0, range_1.rangeContains)(link.source.fragmentRange, position)) {\n                    return this.#getHighlightsForLinkFragment(document, link.href, links, toc);\n                }\n                return this.#getHighlightsForLinkPath(link.href.path, links);\n            }\n            case documentLinks_1.HrefKind.External: {\n                return this.#getHighlightsForExternalLink(link.href.uri, links);\n            }\n        }\n    }\n    *#getHighlightsForLinkFragment(document, href, links, toc) {\n        const targetDoc = (0, workspace_1.tryAppendMarkdownFileExtension)(this.#configuration, href.path);\n        if (!targetDoc) {\n            return;\n        }\n        const fragment = href.fragment.toLowerCase();\n        if (targetDoc.toString() === document.uri) {\n            const header = toc.lookup(fragment);\n            if (header) {\n                yield { range: header.headerLocation.range, kind: lsp.DocumentHighlightKind.Write };\n            }\n        }\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal && (0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, targetDoc)) {\n                if (link.source.fragmentRange && link.href.fragment.toLowerCase() === fragment) {\n                    yield {\n                        range: (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 })),\n                        kind: lsp.DocumentHighlightKind.Read,\n                    };\n                }\n            }\n        }\n    }\n    *#getHighlightsForLinkPath(path, links) {\n        const targetDoc = (0, workspace_1.tryAppendMarkdownFileExtension)(this.#configuration, path) ?? path;\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal && (0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, targetDoc)) {\n                yield {\n                    range: (0, rename_1.getFilePathRange)(link),\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n    *#getHighlightsForExternalLink(uri, links) {\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.External && link.href.uri.toString() === uri.toString()) {\n                yield {\n                    range: (0, rename_1.getFilePathRange)(link),\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n    *#getHighlightsForReference(ref, links) {\n        for (const link of links) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition && link.ref.text === ref) {\n                yield {\n                    range: link.ref.range,\n                    kind: lsp.DocumentHighlightKind.Write,\n                };\n            }\n            else if (link.href.kind === documentLinks_1.HrefKind.Reference && link.href.ref === ref) {\n                yield {\n                    range: link.source.hrefRange,\n                    kind: lsp.DocumentHighlightKind.Read,\n                };\n            }\n        }\n    }\n}\nexports.MdDocumentHighlightProvider = MdDocumentHighlightProvider;\n//# sourceMappingURL=documentHighlights.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.looksLikeLinkToResource = exports.createWorkspaceLinkCache = exports.parseLocationInfoFromFragment = exports.MdLinkProvider = exports.LinkDefinitionSet = exports.ReferenceLinkMap = exports.MdLinkComputer = exports.MdLinkKind = exports.resolveInternalDocumentLink = exports.HrefKind = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst arrays_1 = require(\"../util/arrays\");\nconst dispose_1 = require(\"../util/dispose\");\nconst string_1 = require(\"../util/string\");\nconst uri_1 = require(\"../util/uri\");\nconst workspace_1 = require(\"../workspace\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nvar HrefKind;\n(function (HrefKind) {\n    HrefKind[HrefKind[\"External\"] = 0] = \"External\";\n    HrefKind[HrefKind[\"Internal\"] = 1] = \"Internal\";\n    HrefKind[HrefKind[\"Reference\"] = 2] = \"Reference\";\n})(HrefKind = exports.HrefKind || (exports.HrefKind = {}));\nfunction resolveInternalDocumentLink(sourceDocUri, linkText, workspace) {\n    // Assume it must be an relative or absolute file path\n    // Use a fake scheme to avoid parse warnings\n    const tempUri = vscode_uri_1.URI.parse(`vscode-resource:${linkText}`);\n    const docUri = workspace.getContainingDocument?.(sourceDocUri)?.uri ?? sourceDocUri;\n    let resourceUri;\n    if (!tempUri.path) {\n        // Looks like a fragment only link\n        if (typeof tempUri.fragment !== 'string') {\n            return undefined;\n        }\n        resourceUri = sourceDocUri;\n    }\n    else if (tempUri.path[0] === '/') {\n        const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n        if (root) {\n            resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n        }\n    }\n    else {\n        if (docUri.scheme === 'untitled') {\n            const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n            if (root) {\n                resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n            }\n        }\n        else {\n            const base = vscode_uri_1.Utils.dirname(docUri);\n            resourceUri = vscode_uri_1.Utils.joinPath(base, tempUri.path);\n        }\n    }\n    if (!resourceUri) {\n        return undefined;\n    }\n    return {\n        resource: resourceUri,\n        linkFragment: tempUri.fragment,\n    };\n}\nexports.resolveInternalDocumentLink = resolveInternalDocumentLink;\nvar MdLinkKind;\n(function (MdLinkKind) {\n    MdLinkKind[MdLinkKind[\"Link\"] = 1] = \"Link\";\n    MdLinkKind[MdLinkKind[\"Definition\"] = 2] = \"Definition\";\n})(MdLinkKind = exports.MdLinkKind || (exports.MdLinkKind = {}));\nfunction createHref(sourceDocUri, link, workspace) {\n    if (/^[a-z\\-][a-z\\-]+:/i.test(link)) {\n        // Looks like a uri\n        return { kind: HrefKind.External, uri: vscode_uri_1.URI.parse((0, uri_1.tryDecodeUri)(link)) };\n    }\n    const resolved = resolveInternalDocumentLink(sourceDocUri, link, workspace);\n    if (!resolved) {\n        return undefined;\n    }\n    return {\n        kind: HrefKind.Internal,\n        path: resolved.resource,\n        fragment: resolved.linkFragment,\n    };\n}\nfunction createMdLink(document, targetText, preHrefText, rawLink, matchIndex, fullMatch, workspace) {\n    const isAngleBracketLink = rawLink.startsWith('<');\n    const link = stripAngleBrackets(rawLink);\n    let linkTarget;\n    try {\n        linkTarget = createHref((0, textDocument_1.getDocUri)(document), link, workspace);\n    }\n    catch {\n        return undefined;\n    }\n    if (!linkTarget) {\n        return undefined;\n    }\n    const pre = targetText + preHrefText;\n    const linkStart = document.positionAt(matchIndex);\n    const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: fullMatch.length });\n    const targetStart = (0, position_1.translatePosition)(linkStart, { characterDelta: targetText.length });\n    const targetRange = { start: targetStart, end: linkEnd };\n    const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n    const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n    const hrefRange = { start: hrefStart, end: hrefEnd };\n    return {\n        kind: MdLinkKind.Link,\n        href: linkTarget,\n        source: {\n            hrefText: link,\n            resource: (0, textDocument_1.getDocUri)(document),\n            range: { start: linkStart, end: linkEnd },\n            targetRange,\n            hrefRange,\n            ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n        }\n    };\n}\nfunction getFragmentRange(text, start, end) {\n    const index = text.indexOf('#');\n    if (index < 0) {\n        return undefined;\n    }\n    return { start: (0, position_1.translatePosition)(start, { characterDelta: index + 1 }), end };\n}\nfunction getLinkSourceFragmentInfo(document, link, linkStart, linkEnd) {\n    const fragmentRange = getFragmentRange(link, linkStart, linkEnd);\n    return {\n        pathText: document.getText({ start: linkStart, end: fragmentRange ? (0, position_1.translatePosition)(fragmentRange.start, { characterDelta: -1 }) : linkEnd }),\n        fragmentRange,\n    };\n}\nconst angleBracketLinkRe = /^<(.*)>$/;\n/**\n * Used to strip brackets from the markdown link\n *\n * <http://example.com> will be transformed to http://example.com\n*/\nfunction stripAngleBrackets(link) {\n    return link.replace(angleBracketLinkRe, '$1');\n}\n/**\n * Matches `[text](link)` or `[text](<link>)`\n */\nconst linkPattern = new RegExp(\n// text\n(0, string_1.r) `(!?\\[` + // open prefix match -->\n    /**/ (0, string_1.r) `(?:` +\n    /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n    /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n    /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n    /**/ (0, string_1.r) `)*` +\n    (0, string_1.r) `\\])` + // <-- close prefix match\n    // Destination\n    (0, string_1.r) `(\\(\\s*)` + // Pre href\n    /**/ (0, string_1.r) `(` +\n    /*****/ (0, string_1.r) `[^\\s\\(\\)\\<](?:[^\\s\\(\\)]|\\([^\\s\\(\\)]*?\\))*|` + // Link without whitespace, or...\n    /*****/ (0, string_1.r) `<[^<>]+>` + // In angle brackets\n    /**/ (0, string_1.r) `)` +\n    // Title\n    /**/ (0, string_1.r) `\\s*(?:\"[^\"]*\"|'[^']*'|\\([^\\(\\)]*\\))?\\s*` +\n    (0, string_1.r) `\\)`, 'g');\n/**\n* Matches `[text][ref]` or `[shorthand]` or `[shorthand][]`\n*/\nconst referenceLinkPattern = new RegExp((0, string_1.r) `(^|[^\\]\\\\])` + // Must not start with another bracket (workaround for lack of support for negative look behinds)\n    (0, string_1.r) `(?:` +\n    /**/ (0, string_1.r) `(?:` +\n    /****/ (0, string_1.r) `(` + // Start link prefix\n    /******/ (0, string_1.r) `!?` + // Optional image ref\n    /******/ (0, string_1.r) `\\[((?:` + // Link text\n    /********/ (0, string_1.r) `\\\\\\]|` + // escaped bracket, or...\n    /********/ (0, string_1.r) `[^\\[\\]]|` + //non bracket char, or...\n    /********/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // matched bracket pair\n    /******/ `+)*)\\]` + // end link  text\n    /******/ (0, string_1.r) `\\[\\s*?` + // Start of link def\n    /****/ (0, string_1.r) `)` + // end link prefix\n    /****/ (0, string_1.r) `(` +\n    /******/ (0, string_1.r) `[^\\]]*?)\\]` + //link def\n    /******/ (0, string_1.r) `|` +\n    /******/ (0, string_1.r) `\\[\\s*?([^\\\\\\]]*?)\\s*\\])(?![\\(])` +\n    (0, string_1.r) `)`, 'gm');\n/**\n * Matches `<http://example.com>`\n */\nconst autoLinkPattern = /\\<(\\w+:[^\\>\\s]+)\\>/g;\n/**\n * Matches `[text]: link`\n */\nconst definitionPattern = /^([\\t ]*\\[(?!\\^)((?:\\\\\\]|[^\\]])+)\\]:\\s*)([^<]\\S*|<[^>]+>)/gm;\nconst inlineCodePattern = /(^|[^`])(`+)((?:.+?|.*?(?:(?:\\r?\\n).+?)*?)(?:\\r?\\n)?\\2)(?:$|[^`])/gm;\nclass NoLinkRanges {\n    multiline;\n    inline;\n    static #empty = new NoLinkRanges([], new Map());\n    static async compute(tokenizer, document, token) {\n        const tokens = await tokenizer.tokenize(document);\n        if (token.isCancellationRequested) {\n            return NoLinkRanges.#empty;\n        }\n        const multiline = tokens.filter(t => (t.type === 'code_block' || t.type === 'fence' || t.type === 'html_block') && !!t.map).map(t => t.map);\n        const inlineRanges = new Map();\n        const text = document.getText();\n        for (const match of text.matchAll(inlineCodePattern)) {\n            const startOffset = (match.index ?? 0) + match[1].length;\n            const startPosition = document.positionAt(startOffset);\n            const range = { start: startPosition, end: document.positionAt(startOffset + match[3].length) };\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = inlineRanges.get(line);\n                if (!entry) {\n                    entry = [];\n                    inlineRanges.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(multiline, inlineRanges);\n    }\n    constructor(\n    /**\n     * code blocks and fences each represented by [line_start,line_end).\n     */\n    multiline, \n    /**\n     * Inline code spans where links should not be detected\n     */\n    inline) {\n        this.multiline = multiline;\n        this.inline = inline;\n    }\n    contains(position) {\n        return this.multiline.some(interval => position.line >= interval[0] && position.line < interval[1]) ||\n            !!this.inline.get(position.line)?.some(inlineRange => (0, range_1.rangeContains)(inlineRange, position));\n    }\n    concatInline(inlineRanges) {\n        const newInline = new Map(this.inline);\n        for (const range of inlineRanges) {\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = newInline.get(line);\n                if (!entry) {\n                    entry = [];\n                    newInline.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(this.multiline, newInline);\n    }\n}\n/**\n * Stateless object that extracts link information from markdown files.\n */\nclass MdLinkComputer {\n    #tokenizer;\n    #workspace;\n    constructor(tokenizer, workspace) {\n        this.#tokenizer = tokenizer;\n        this.#workspace = workspace;\n    }\n    async getAllLinks(document, token) {\n        const noLinkRanges = await NoLinkRanges.compute(this.#tokenizer, document, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const inlineLinks = Array.from(this.#getInlineLinks(document, noLinkRanges));\n        return [\n            ...inlineLinks,\n            ...this.#getReferenceLinks(document, noLinkRanges.concatInline(inlineLinks.map(x => x.source.range))),\n            ...this.#getLinkDefinitions(document, noLinkRanges),\n            ...this.#getAutoLinks(document, noLinkRanges),\n        ];\n    }\n    *#getInlineLinks(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(linkPattern)) {\n            const linkTextIncludingBrackets = match[1];\n            const matchLinkData = createMdLink(document, linkTextIncludingBrackets, match[2], match[3], match.index ?? 0, match[0], this.#workspace);\n            if (matchLinkData && !noLinkRanges.contains(matchLinkData.source.hrefRange.start)) {\n                yield matchLinkData;\n                // Also check for images in link text\n                if (/\\![\\[\\(]/.test(linkTextIncludingBrackets)) {\n                    const linkText = linkTextIncludingBrackets.slice(1, -1);\n                    const startOffset = (match.index ?? 0) + 1;\n                    for (const innerMatch of linkText.matchAll(linkPattern)) {\n                        const innerData = createMdLink(document, innerMatch[1], innerMatch[2], innerMatch[3], startOffset + (innerMatch.index ?? 0), innerMatch[0], this.#workspace);\n                        if (innerData) {\n                            yield innerData;\n                        }\n                    }\n                    yield* this.#getReferenceLinksInText(document, linkText, startOffset, noLinkRanges);\n                }\n            }\n        }\n    }\n    *#getAutoLinks(document, noLinkRanges) {\n        const text = document.getText();\n        const docUri = (0, textDocument_1.getDocUri)(document);\n        for (const match of text.matchAll(autoLinkPattern)) {\n            const linkOffset = (match.index ?? 0);\n            const linkStart = document.positionAt(linkOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const link = match[1];\n            const linkTarget = createHref(docUri, link, this.#workspace);\n            if (!linkTarget) {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length });\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            yield {\n                kind: MdLinkKind.Link,\n                href: linkTarget,\n                source: {\n                    hrefText: link,\n                    resource: docUri,\n                    targetRange: hrefRange,\n                    hrefRange: hrefRange,\n                    range: { start: linkStart, end: linkEnd },\n                    ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n                }\n            };\n        }\n    }\n    #getReferenceLinks(document, noLinkRanges) {\n        const text = document.getText();\n        return this.#getReferenceLinksInText(document, text, 0, noLinkRanges);\n    }\n    *#getReferenceLinksInText(document, text, startingOffset, noLinkRanges) {\n        for (const match of text.matchAll(referenceLinkPattern)) {\n            const linkStartOffset = startingOffset + (match.index ?? 0) + match[1].length;\n            const linkStart = document.positionAt(linkStartOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            let hrefStart;\n            let hrefEnd;\n            let reference = match[4];\n            if (reference === '') { // [ref][],\n                reference = match[3];\n                if (!reference) {\n                    continue;\n                }\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (reference) { // [text][ref]\n                const text = match[3];\n                if (!text) {\n                    // Handle the case ![][cat]\n                    if (!match[0].startsWith('!')) {\n                        // Empty links are not valid\n                        continue;\n                    }\n                }\n                if (!match[0].startsWith('!')) {\n                    // Also get links in text\n                    yield* this.#getReferenceLinksInText(document, match[3], linkStartOffset + 1, noLinkRanges);\n                }\n                const pre = match[2];\n                const offset = linkStartOffset + pre.length;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (match[5]) { // [ref]\n                reference = match[5];\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                const line = (0, textDocument_1.getLine)(document, hrefStart.line);\n                // See if link looks like link definition\n                if (linkStart.character === 0 && line[match[0].length - match[1].length] === ':') {\n                    continue;\n                }\n                // See if link looks like a checkbox\n                const checkboxMatch = line.match(/^\\s*[\\-\\*]\\s*\\[x\\]/i);\n                if (checkboxMatch && hrefStart.character <= checkboxMatch[0].length) {\n                    continue;\n                }\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length - match[1].length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            yield {\n                kind: MdLinkKind.Link,\n                source: {\n                    hrefText: reference,\n                    pathText: reference,\n                    resource: (0, textDocument_1.getDocUri)(document),\n                    range: { start: linkStart, end: linkEnd },\n                    targetRange: hrefRange,\n                    hrefRange: hrefRange,\n                    fragmentRange: undefined,\n                },\n                href: {\n                    kind: HrefKind.Reference,\n                    ref: reference,\n                }\n            };\n        }\n    }\n    *#getLinkDefinitions(document, noLinkRanges) {\n        const text = document.getText();\n        const docUri = (0, textDocument_1.getDocUri)(document);\n        for (const match of text.matchAll(definitionPattern)) {\n            const offset = (match.index ?? 0);\n            const linkStart = document.positionAt(offset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const pre = match[1];\n            const reference = match[2];\n            const rawLinkText = match[3].trim();\n            const isAngleBracketLink = angleBracketLinkRe.test(rawLinkText);\n            const linkText = stripAngleBrackets(rawLinkText);\n            const target = createHref(docUri, linkText, this.#workspace);\n            if (!target) {\n                continue;\n            }\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: linkText.length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            const refStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const refRange = { start: refStart, end: (0, position_1.translatePosition)(refStart, { characterDelta: reference.length }) };\n            const line = (0, textDocument_1.getLine)(document, linkStart.line);\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: line.length });\n            yield {\n                kind: MdLinkKind.Definition,\n                source: {\n                    hrefText: linkText,\n                    resource: docUri,\n                    range: { start: linkStart, end: linkEnd },\n                    targetRange: hrefRange,\n                    hrefRange,\n                    ...getLinkSourceFragmentInfo(document, rawLinkText, hrefStart, hrefEnd),\n                },\n                ref: { text: reference, range: refRange },\n                href: target,\n            };\n        }\n    }\n}\nexports.MdLinkComputer = MdLinkComputer;\nclass ReferenceLinkMap {\n    #map = new Map();\n    set(ref, link) {\n        this.#map.set(this.#normalizeRefName(ref), link);\n    }\n    lookup(ref) {\n        return this.#map.get(this.#normalizeRefName(ref));\n    }\n    has(ref) {\n        return this.#map.has(this.#normalizeRefName(ref));\n    }\n    [Symbol.iterator]() {\n        return this.#map.values();\n    }\n    /**\n     * Normalizes a link reference. Link references are case-insensitive, so this lowercases the reference too so you can\n     * correctly compare two normalized references.\n     */\n    #normalizeRefName(ref) {\n        return ref.normalize().trim().toLowerCase();\n    }\n}\nexports.ReferenceLinkMap = ReferenceLinkMap;\nclass LinkDefinitionSet {\n    #map = new ReferenceLinkMap();\n    constructor(links) {\n        for (const link of links) {\n            if (link.kind === MdLinkKind.Definition) {\n                if (!this.#map.has(link.ref.text)) {\n                    this.#map.set(link.ref.text, link);\n                }\n            }\n        }\n    }\n    [Symbol.iterator]() {\n        return this.#map[Symbol.iterator]();\n    }\n    lookup(ref) {\n        return this.#map.lookup(ref);\n    }\n}\nexports.LinkDefinitionSet = LinkDefinitionSet;\n/**\n * Stateful object which provides links for markdown files the workspace.\n */\nclass MdLinkProvider extends dispose_1.Disposable {\n    #linkCache;\n    #linkComputer;\n    #config;\n    #workspace;\n    #tocProvider;\n    constructor(config, tokenizer, workspace, tocProvider, logger) {\n        super();\n        this.#config = config;\n        this.#workspace = workspace;\n        this.#tocProvider = tocProvider;\n        this.#linkComputer = new MdLinkComputer(tokenizer, this.#workspace);\n        this.#linkCache = this._register(new workspaceCache_1.MdDocumentInfoCache(this.#workspace, async (doc, token) => {\n            logger.log(logging_1.LogLevel.Debug, 'LinkProvider.compute', { document: doc.uri, version: doc.version });\n            const links = await this.#linkComputer.getAllLinks(doc, token);\n            return {\n                links,\n                definitions: new LinkDefinitionSet(links),\n            };\n        }));\n    }\n    getLinks(document) {\n        return this.#linkCache.getForDocument(document);\n    }\n    async provideDocumentLinks(document, token) {\n        const { links, definitions } = await this.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return (0, arrays_1.coalesce)(links.map(data => this.#toValidDocumentLink(data, definitions)));\n    }\n    async resolveDocumentLink(link, token) {\n        const href = this.#reviveLinkHrefData(link);\n        if (!href) {\n            return undefined;\n        }\n        const target = await this.#resolveInternalLinkTarget(href.path, href.fragment, token);\n        switch (target.kind) {\n            case 'folder':\n                link.target = this.#createCommandUri('revealInExplorer', href.path);\n                break;\n            case 'external':\n                link.target = target.uri.toString(true);\n                break;\n            case 'file':\n                if (target.position) {\n                    link.target = this.#createOpenAtPosCommand(target.uri, target.position);\n                }\n                else {\n                    link.target = target.uri.toString(true);\n                }\n                break;\n        }\n        return link;\n    }\n    async resolveLinkTarget(linkText, sourceDoc, token) {\n        const href = createHref(sourceDoc, linkText, this.#workspace);\n        if (href?.kind !== HrefKind.Internal) {\n            return undefined;\n        }\n        const resolved = resolveInternalDocumentLink(sourceDoc, linkText, this.#workspace);\n        if (!resolved) {\n            return undefined;\n        }\n        return this.#resolveInternalLinkTarget(resolved.resource, resolved.linkFragment, token);\n    }\n    async #resolveInternalLinkTarget(linkPath, linkFragment, token) {\n        let target = linkPath;\n        // If there's a containing document, don't bother with trying to resolve the\n        // link to a workspace file as one will not exist\n        const containingContext = this.#workspace.getContainingDocument?.(target);\n        if (!containingContext) {\n            const stat = await this.#workspace.stat(target);\n            if (stat?.isDirectory) {\n                return { kind: 'folder', uri: target };\n            }\n            if (token.isCancellationRequested) {\n                return { kind: 'folder', uri: target };\n            }\n            if (!stat) {\n                // We don't think the file exists. If it doesn't already have an extension, try tacking on a `.md` and using that instead\n                let found = false;\n                const dotMdResource = (0, workspace_1.tryAppendMarkdownFileExtension)(this.#config, target);\n                if (dotMdResource) {\n                    if (await this.#workspace.stat(dotMdResource)) {\n                        target = dotMdResource;\n                        found = true;\n                    }\n                }\n                if (!found) {\n                    return { kind: 'file', uri: target };\n                }\n            }\n        }\n        if (!linkFragment) {\n            return { kind: 'file', uri: target };\n        }\n        // Try navigating with fragment that sets line number\n        const locationLinkPosition = parseLocationInfoFromFragment(linkFragment);\n        if (locationLinkPosition) {\n            return { kind: 'file', uri: target, position: locationLinkPosition };\n        }\n        // Try navigating to header in file\n        const doc = await this.#workspace.openMarkdownDocument(target);\n        if (token.isCancellationRequested) {\n            return { kind: 'file', uri: target };\n        }\n        if (doc) {\n            const toc = await this.#tocProvider.getForContainingDoc(doc, token);\n            const entry = toc.lookup(linkFragment);\n            if (entry) {\n                return { kind: 'file', uri: vscode_uri_1.URI.parse(entry.headerLocation.uri), position: entry.headerLocation.range.start, fragment: linkFragment };\n            }\n        }\n        return { kind: 'file', uri: target };\n    }\n    #reviveLinkHrefData(link) {\n        if (!link.data) {\n            return undefined;\n        }\n        const mdLink = link.data;\n        if (mdLink.href.kind !== HrefKind.Internal) {\n            return undefined;\n        }\n        return { path: vscode_uri_1.URI.from(mdLink.href.path), fragment: mdLink.href.fragment };\n    }\n    #toValidDocumentLink(link, definitionSet) {\n        switch (link.href.kind) {\n            case HrefKind.External: {\n                return {\n                    range: link.source.hrefRange,\n                    target: link.href.uri.toString(true),\n                };\n            }\n            case HrefKind.Internal: {\n                return {\n                    range: link.source.hrefRange,\n                    target: undefined,\n                    tooltip: l10n.t('Follow link'),\n                    data: link,\n                };\n            }\n            case HrefKind.Reference: {\n                // We only render reference links in the editor if they are actually defined.\n                // This matches how reference links are rendered by markdown-it.\n                const def = definitionSet.lookup(link.href.ref);\n                if (!def) {\n                    return undefined;\n                }\n                const target = this.#createOpenAtPosCommand(link.source.resource, def.source.hrefRange.start);\n                return {\n                    range: link.source.hrefRange,\n                    tooltip: l10n.t('Go to link definition'),\n                    target: target,\n                    data: link\n                };\n            }\n        }\n    }\n    #createCommandUri(command, ...args) {\n        return `command:${command}?${encodeURIComponent(JSON.stringify(args))}`;\n    }\n    #createOpenAtPosCommand(resource, pos) {\n        // If the resource itself already has a fragment, we need to handle opening specially \n        // instead of using `file://path.md#L123` style uris\n        if (resource.fragment) {\n            // Match the args of `vscode.open`\n            return this.#createCommandUri('vscodeMarkdownLanguageservice.open', resource, {\n                selection: (0, range_1.makeRange)(pos, pos),\n            });\n        }\n        return resource.with({\n            fragment: `L${pos.line + 1},${pos.character + 1}`\n        }).toString(true);\n    }\n}\nexports.MdLinkProvider = MdLinkProvider;\n/**\n * Extract position info from link fragments that look like `#L5,3`\n */\nfunction parseLocationInfoFromFragment(fragment) {\n    const match = fragment.match(/^L(\\d+)(?:,(\\d+))?$/i);\n    if (!match) {\n        return undefined;\n    }\n    const line = +match[1] - 1;\n    if (isNaN(line)) {\n        return undefined;\n    }\n    const column = +match[2] - 1;\n    return { line, character: isNaN(column) ? 0 : column };\n}\nexports.parseLocationInfoFromFragment = parseLocationInfoFromFragment;\nfunction createWorkspaceLinkCache(parser, workspace) {\n    const linkComputer = new MdLinkComputer(parser, workspace);\n    return new workspaceCache_1.MdWorkspaceInfoCache(workspace, (doc, token) => linkComputer.getAllLinks(doc, token));\n}\nexports.createWorkspaceLinkCache = createWorkspaceLinkCache;\nfunction looksLikeLinkToResource(configuration, href, targetResource) {\n    if (href.path.fsPath === targetResource.fsPath) {\n        return true;\n    }\n    return configuration.markdownFileExtensions.some(ext => href.path.with({ path: href.path.path + '.' + ext }).fsPath === targetResource.fsPath);\n}\nexports.looksLikeLinkToResource = looksLikeLinkToResource;\n//# sourceMappingURL=documentLinks.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDocumentSymbolProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdDocumentSymbolProvider {\n    #tocProvider;\n    #linkProvider;\n    #logger;\n    constructor(tocProvider, linkProvider, logger) {\n        this.#tocProvider = tocProvider;\n        this.#linkProvider = linkProvider;\n        this.#logger = logger;\n    }\n    async provideDocumentSymbols(document, options, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'DocumentSymbolProvider.provideDocumentSymbols', { document: document.uri, version: document.version });\n        const linkSymbols = await (options.includeLinkDefinitions ? this.#provideLinkDefinitionSymbols(document, token) : []);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return this.#toSymbolTree(document, linkSymbols, toc);\n    }\n    #toSymbolTree(document, linkSymbols, toc) {\n        const root = {\n            level: -Infinity,\n            children: [],\n            parent: undefined,\n            range: (0, range_1.makeRange)(0, 0, document.lineCount + 1, 0),\n        };\n        const additionalSymbols = [...linkSymbols];\n        this.#buildTocSymbolTree(root, toc.entries, additionalSymbols);\n        // Put remaining link definitions into top level document instead of last header\n        root.children.push(...additionalSymbols);\n        return root.children;\n    }\n    async #provideLinkDefinitionSymbols(document, token) {\n        const { links } = await this.#linkProvider.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return links\n            .filter(link => link.kind === documentLinks_1.MdLinkKind.Definition)\n            .map((link) => this.#definitionToDocumentSymbol(link));\n    }\n    #definitionToDocumentSymbol(def) {\n        return {\n            kind: lsp.SymbolKind.Constant,\n            name: `[${def.ref.text}]`,\n            selectionRange: def.ref.range,\n            range: def.source.range,\n        };\n    }\n    #buildTocSymbolTree(parent, entries, additionalSymbols) {\n        if (entries.length) {\n            while (additionalSymbols.length && (0, position_1.isBefore)(additionalSymbols[0].range.end, entries[0].sectionLocation.range.start)) {\n                parent.children.push(additionalSymbols.shift());\n            }\n        }\n        if (!entries.length) {\n            return;\n        }\n        const entry = entries[0];\n        const symbol = this.#tocToDocumentSymbol(entry);\n        symbol.children = [];\n        while (entry.level <= parent.level) {\n            parent = parent.parent;\n        }\n        parent.children.push(symbol);\n        this.#buildTocSymbolTree({ level: entry.level, children: symbol.children, parent, range: entry.sectionLocation.range }, entries.slice(1), additionalSymbols);\n    }\n    #tocToDocumentSymbol(entry) {\n        return {\n            name: this.#getTocSymbolName(entry),\n            kind: lsp.SymbolKind.String,\n            range: entry.sectionLocation.range,\n            selectionRange: entry.sectionLocation.range\n        };\n    }\n    #getTocSymbolName(entry) {\n        return '#'.repeat(entry.level) + ' ' + entry.text;\n    }\n}\nexports.MdDocumentSymbolProvider = MdDocumentSymbolProvider;\n//# sourceMappingURL=documentSymbols.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdFileRenameProvider = void 0;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst path = require(\"path\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst editBuilder_1 = require(\"../util/editBuilder\");\nconst file_1 = require(\"../util/file\");\nconst path_1 = require(\"../util/path\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst references_1 = require(\"./references\");\nconst rename_1 = require(\"./rename\");\nclass MdFileRenameProvider extends dispose_1.Disposable {\n    #config;\n    #workspace;\n    #linkCache;\n    #referencesProvider;\n    constructor(config, workspace, linkCache, referencesProvider) {\n        super();\n        this.#config = config;\n        this.#workspace = workspace;\n        this.#linkCache = linkCache;\n        this.#referencesProvider = referencesProvider;\n    }\n    async getRenameFilesInWorkspaceEdit(edits, token) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const participatingRenames = [];\n        for (const edit of edits) {\n            const stat = await this.#workspace.stat(edit.newUri);\n            if (token.isCancellationRequested) {\n                return undefined;\n            }\n            if (await (stat?.isDirectory ? this.#addDirectoryRenameEdits(edit, builder, token) : this.#addSingleFileRenameEdits(edit, edits, builder, token))) {\n                participatingRenames.push(edit);\n            }\n            if (token.isCancellationRequested) {\n                return undefined;\n            }\n        }\n        return { participatingRenames, edit: builder.getEdit() };\n    }\n    async #addSingleFileRenameEdits(edit, allEdits, builder, token) {\n        let didParticipate = false;\n        // Update all references to the file\n        if (await this.#addEditsForReferencesToFile(edit, builder, token)) {\n            didParticipate = true;\n        }\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        // If the file moved was markdown, we also need to update links in the file itself\n        if (await this.#tryAddEditsInSelf(edit, allEdits, builder)) {\n            didParticipate = true;\n        }\n        return didParticipate;\n    }\n    async #addDirectoryRenameEdits(edit, builder, token) {\n        // First update every link that points to something in the moved dir\n        const allLinksInWorkspace = await this.#linkCache.entries();\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        let didParticipate = false;\n        for (const [docUri, links] of allLinksInWorkspace) {\n            for (const link of links) {\n                if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n                    continue;\n                }\n                // Update links to the moved dir\n                if ((0, path_1.isParentDir)(edit.oldUri, link.href.path)) {\n                    const relative = path.posix.relative(edit.oldUri.path, link.href.path.path);\n                    const newUri = edit.newUri.with({\n                        path: path.posix.join(edit.newUri.path, relative)\n                    });\n                    if (this.#addLinkRenameEdit(docUri, link, newUri, builder)) {\n                        didParticipate = true;\n                        continue;\n                    }\n                }\n                // If the link was within a file in the moved dir but traversed out of it, we also need to update the path\n                if (link.source.pathText.startsWith('..') && (0, path_1.isParentDir)(edit.newUri, docUri)) {\n                    // Resolve the link relative to the old file path\n                    const oldDocUri = docUri.with({\n                        path: vscode_uri_1.Utils.joinPath(edit.oldUri, path.posix.relative(edit.newUri.path, docUri.path)).path\n                    });\n                    const oldLink = (0, documentLinks_1.resolveInternalDocumentLink)(oldDocUri, link.source.hrefText, this.#workspace);\n                    if (oldLink) {\n                        let newPathText;\n                        if ((0, path_1.isParentDir)(edit.oldUri, oldLink.resource)) {\n                            // The link still points within the directory being moved.\n                            // This means we just need to normalize the path it in case it was referencing any old names.\n                            const rootDir = vscode_uri_1.Utils.dirname(oldDocUri);\n                            newPathText = './' + path.posix.relative(rootDir.path, oldLink.resource.path);\n                        }\n                        else {\n                            const rootDir = vscode_uri_1.Utils.dirname(docUri);\n                            newPathText = path.posix.relative(rootDir.path, oldLink.resource.path);\n                        }\n                        didParticipate = true;\n                        builder.replace(docUri, (0, rename_1.getFilePathRange)(link), encodeURI(newPathText));\n                    }\n                }\n            }\n        }\n        return didParticipate;\n    }\n    /**\n     * Try to add edits for when a markdown file has been renamed.\n     * In this case we also need to update links within the file.\n     */\n    async #tryAddEditsInSelf(edit, allEdits, builder) {\n        if (!(0, file_1.looksLikeMarkdownUri)(this.#config, edit.newUri)) {\n            return false;\n        }\n        if ((0, config_1.isExcludedPath)(this.#config, edit.newUri)) {\n            return false;\n        }\n        const doc = await this.#workspace.openMarkdownDocument(edit.newUri);\n        if (!doc) {\n            return false;\n        }\n        const links = (await this.#linkCache.getForDocs([doc]))[0];\n        let didParticipate = false;\n        for (const link of links) {\n            if (await this.#addEditsForLinksInSelf(doc, link, edit, allEdits, builder)) {\n                didParticipate = true;\n            }\n        }\n        return didParticipate;\n    }\n    async #addEditsForLinksInSelf(doc, link, edit, allEdits, builder) {\n        if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n            return false;\n        }\n        if (link.source.hrefText.startsWith('#')) {\n            // No rewrite needed as we are referencing the current doc implicitly\n            return false;\n        }\n        if (link.source.hrefText.startsWith('/')) {\n            // We likely don't need to update anything since an absolute path is used\n            return false;\n        }\n        // Resolve the link relative to the old file path\n        let oldLink = (0, documentLinks_1.resolveInternalDocumentLink)(edit.oldUri, link.source.hrefText, this.#workspace);\n        if (!oldLink) {\n            return false;\n        }\n        // See if the old link was effected by one of the renames\n        for (const edit of allEdits) {\n            if (edit.oldUri.toString() === oldLink.resource.toString() || (0, path_1.isParentDir)(edit.oldUri, oldLink.resource)) {\n                oldLink = { resource: vscode_uri_1.Utils.joinPath(edit.newUri, path.posix.relative(edit.oldUri.path, oldLink.resource.path)), linkFragment: oldLink.linkFragment };\n                break;\n            }\n        }\n        return this.#addLinkRenameEdit((0, textDocument_1.getDocUri)(doc), link, oldLink.resource, builder);\n    }\n    /**\n     * Update links across the workspace for the new file name\n     */\n    async #addEditsForReferencesToFile(edit, builder, token) {\n        if ((0, config_1.isExcludedPath)(this.#config, edit.newUri)) {\n            return false;\n        }\n        const refs = await this.#referencesProvider.getReferencesToFileInWorkspace(edit.oldUri, token);\n        if (token.isCancellationRequested) {\n            return false;\n        }\n        let didParticipate = false;\n        for (const ref of refs) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                if (this.#addLinkRenameEdit(vscode_uri_1.URI.parse(ref.location.uri), ref.link, edit.newUri, builder)) {\n                    didParticipate = true;\n                }\n            }\n        }\n        return didParticipate;\n    }\n    #addLinkRenameEdit(doc, link, newUri, builder) {\n        if (link.href.kind !== documentLinks_1.HrefKind.Internal) {\n            return false;\n        }\n        let newFilePath = newUri;\n        if (this.#shouldRemoveFileExtensionForRename(link.href, newUri)) {\n            const editExt = vscode_uri_1.Utils.extname(newUri);\n            newFilePath = newUri.with({\n                path: newUri.path.slice(0, newUri.path.length - editExt.length)\n            });\n        }\n        const newLinkText = (0, rename_1.getLinkRenameText)(this.#workspace, link.source, newFilePath, link.source.pathText.startsWith('.'));\n        if (typeof newLinkText === 'string') {\n            builder.replace(doc, (0, rename_1.getFilePathRange)(link), encodeURI(newLinkText));\n            return true;\n        }\n        return false;\n    }\n    #shouldRemoveFileExtensionForRename(originalHref, newUri) {\n        if (!(0, file_1.looksLikeMarkdownUri)(this.#config, newUri)) {\n            return false;\n        }\n        if (this.#config.preferredMdPathExtensionStyle === config_1.PreferredMdPathExtensionStyle.removeExtension) {\n            return true;\n        }\n        // If the original markdown link did not use a file extension, remove ours too\n        return !vscode_uri_1.Utils.extname(originalHref.path);\n    }\n}\nexports.MdFileRenameProvider = MdFileRenameProvider;\n//# sourceMappingURL=fileRename.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdFoldingProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nconst rangeLimit = 5000;\nclass MdFoldingProvider {\n    #parser;\n    #tocProvider;\n    #logger;\n    constructor(parser, tocProvider, logger) {\n        this.#parser = parser;\n        this.#tocProvider = tocProvider;\n        this.#logger = logger;\n    }\n    async provideFoldingRanges(document, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'MdFoldingProvider.provideFoldingRanges', { document: document.uri, version: document.version });\n        const foldables = await Promise.all([\n            this.#getRegions(document, token),\n            this.#getHeaderFoldingRanges(document, token),\n            this.#getBlockFoldingRanges(document, token)\n        ]);\n        const result = foldables.flat();\n        return result.length > rangeLimit ? result.slice(0, rangeLimit) : result;\n    }\n    async #getRegions(document, token) {\n        const tokens = await this.#parser.tokenize(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.#getRegionsFromTokens(tokens));\n    }\n    *#getRegionsFromTokens(tokens) {\n        const nestingStack = [];\n        for (const token of tokens) {\n            const marker = asRegionMarker(token);\n            if (marker) {\n                if (marker.isStart) {\n                    nestingStack.push(marker);\n                }\n                else if (nestingStack.length && nestingStack[nestingStack.length - 1].isStart) {\n                    yield { startLine: nestingStack.pop().token.map[0], endLine: marker.token.map[0], kind: lsp.FoldingRangeKind.Region };\n                }\n                else {\n                    // noop: invalid nesting (i.e. [end, start] or [start, end, end])\n                }\n            }\n        }\n    }\n    async #getHeaderFoldingRanges(document, token) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return toc.entries.map((entry) => {\n            let endLine = entry.sectionLocation.range.end.line;\n            if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine)) && endLine >= entry.line + 1) {\n                endLine = endLine - 1;\n            }\n            return { startLine: entry.line, endLine };\n        });\n    }\n    async #getBlockFoldingRanges(document, token) {\n        const tokens = await this.#parser.tokenize(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.#getBlockFoldingRangesFromTokens(document, tokens));\n    }\n    *#getBlockFoldingRangesFromTokens(document, tokens) {\n        for (const token of tokens) {\n            if (isFoldableToken(token)) {\n                const startLine = token.map[0];\n                let endLine = token.map[1] - 1;\n                if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine)) && endLine >= startLine + 1) {\n                    endLine = endLine - 1;\n                }\n                if (endLine > startLine) {\n                    yield { startLine, endLine, kind: this.#getFoldingRangeKind(token) };\n                }\n            }\n        }\n    }\n    #getFoldingRangeKind(listItem) {\n        return listItem.type === 'html_block' && listItem.content.startsWith('<!--')\n            ? lsp.FoldingRangeKind.Comment\n            : undefined;\n    }\n}\nexports.MdFoldingProvider = MdFoldingProvider;\nfunction isStartRegion(t) { return /^\\s*<!--\\s*#?region\\b.*-->/.test(t); }\nfunction isEndRegion(t) { return /^\\s*<!--\\s*#?endregion\\b.*-->/.test(t); }\nfunction asRegionMarker(token) {\n    if (!token.map || token.type !== 'html_block') {\n        return undefined;\n    }\n    if (isStartRegion(token.content)) {\n        return { token: token, isStart: true };\n    }\n    if (isEndRegion(token.content)) {\n        return { token: token, isStart: false };\n    }\n    return undefined;\n}\nfunction isFoldableToken(token) {\n    if (!token.map) {\n        return false;\n    }\n    switch (token.type) {\n        case 'fence':\n        case 'list_item_open':\n        case 'table_open':\n        case 'blockquote_open':\n            return token.map[1] > token.map[0];\n        case 'html_block':\n            if (asRegionMarker(token)) {\n                return false;\n            }\n            return token.map[1] > token.map[0] + 1;\n        default:\n            return false;\n    }\n}\n//# sourceMappingURL=folding.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getExistingDefinitionBlock = exports.MdOrganizeLinkDefinitionProvider = void 0;\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nconst documentLinks_1 = require(\"./documentLinks\");\nclass MdOrganizeLinkDefinitionProvider {\n    #linkProvider;\n    constructor(linkProvider) {\n        this.#linkProvider = linkProvider;\n    }\n    async getOrganizeLinkDefinitionEdits(doc, options, token) {\n        const links = await this.#linkProvider.getLinks(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const definitions = links.links.filter(link => link.kind === documentLinks_1.MdLinkKind.Definition);\n        if (!definitions.length) {\n            return [];\n        }\n        const existingDefBlockRange = getExistingDefinitionBlock(doc, definitions);\n        const edits = [];\n        // First replace all inline definitions that are not the definition block\n        for (const group of this.#getDefinitionBlockGroups(doc, definitions)) {\n            if (!existingDefBlockRange || group.startLine < existingDefBlockRange.startLine) {\n                // Don't replace trailing newline of last definition in group\n                edits.push({\n                    newText: '',\n                    range: (0, range_1.makeRange)(group.startLine, 0, group.endLine, (0, textDocument_1.getLine)(doc, group.endLine).length),\n                });\n            }\n        }\n        // Then replace the actual block\n        const sortedDefs = [...definitions];\n        sortedDefs.sort((a, b) => a.ref.text.localeCompare(b.ref.text));\n        const newDefs = sortedDefs\n            .filter(def => {\n            if (!options.removeUnused) {\n                return true;\n            }\n            return links.links.some(link => {\n                return link.kind === documentLinks_1.MdLinkKind.Link && link.href.kind === documentLinks_1.HrefKind.Reference && link.href.ref === def.ref.text;\n            });\n        });\n        const defBlock = newDefs\n            .map((def => `[${def.ref.text}]: ${def.source.hrefText}`))\n            .join('\\n');\n        if (existingDefBlockRange) {\n            // We still may need to insert a newline\n            const hasLeadingWhiteSpace = existingDefBlockRange.startLine <= 0\n                || (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(doc, existingDefBlockRange.startLine - 1));\n            // See if we already have the expected definitions in order\n            if (!edits.length && newDefs.length === definitions.length && definitions.every((def, i) => def.ref === newDefs[i].ref)) {\n                return [];\n            }\n            edits.push({\n                newText: (hasLeadingWhiteSpace ? '' : '\\n') + defBlock,\n                range: (0, range_1.makeRange)(existingDefBlockRange.startLine, 0, existingDefBlockRange.endLine, (0, textDocument_1.getLine)(doc, existingDefBlockRange.endLine).length)\n            });\n        }\n        else {\n            const line = this.#getLastNonWhitespaceLine(doc, definitions);\n            edits.push({\n                newText: (line === doc.lineCount - 1 ? '\\n\\n' : '\\n') + defBlock,\n                range: (0, range_1.makeRange)(line + 1, 0, doc.lineCount, 0),\n            });\n        }\n        return edits;\n    }\n    *#getDefinitionBlockGroups(doc, definitions) {\n        if (!definitions.length) {\n            return;\n        }\n        let i = 0;\n        const startDef = definitions[i];\n        let endDef = startDef;\n        for (; i < definitions.length - 1; ++i) {\n            const nextDef = definitions[i + 1];\n            if (nextDef.source.range.start.line === endDef.source.range.start.line + 1) {\n                endDef = nextDef;\n            }\n            else {\n                break;\n            }\n        }\n        yield { startLine: startDef.source.range.start.line, endLine: endDef.source.range.start.line };\n        yield* this.#getDefinitionBlockGroups(doc, definitions.slice(i + 1));\n    }\n    #getLastNonWhitespaceLine(doc, orderedDefinitions) {\n        const lastDef = orderedDefinitions[orderedDefinitions.length - 1];\n        const textAfter = doc.getText((0, range_1.makeRange)(lastDef.source.range.end.line + 1, 0, Infinity, 0));\n        const lines = textAfter.split(/\\r\\n|\\n/g);\n        for (let i = lines.length - 1; i >= 0; --i) {\n            if (!(0, string_1.isEmptyOrWhitespace)(lines[i])) {\n                return lastDef.source.range.start.line + 1 + i;\n            }\n        }\n        return lastDef.source.range.start.line;\n    }\n}\nexports.MdOrganizeLinkDefinitionProvider = MdOrganizeLinkDefinitionProvider;\nfunction getExistingDefinitionBlock(doc, orderedDefinitions) {\n    if (!orderedDefinitions.length) {\n        return undefined;\n    }\n    const lastDef = orderedDefinitions[orderedDefinitions.length - 1];\n    const textAfter = doc.getText((0, range_1.makeRange)(lastDef.source.range.end.line + 1, 0, Infinity, 0));\n    if ((0, string_1.isEmptyOrWhitespace)(textAfter)) {\n        let prevDef = lastDef;\n        for (let i = orderedDefinitions.length - 1; i >= 0; --i) {\n            const def = orderedDefinitions[i];\n            if (def.source.range.start.line < prevDef.source.range.start.line - 1) {\n                break;\n            }\n            prevDef = def;\n        }\n        return {\n            startLine: prevDef.source.range.start.line,\n            endLine: lastDef.source.range.start.line\n        };\n    }\n    return undefined;\n}\nexports.getExistingDefinitionBlock = getExistingDefinitionBlock;\n//# sourceMappingURL=organizeLinkDefs.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdPathCompletionProvider = exports.IncludeWorkspaceHeaderCompletions = void 0;\nconst l10n = require(\"@vscode/l10n\");\nconst path_1 = require(\"path\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst tableOfContents_1 = require(\"../tableOfContents\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst file_1 = require(\"../util/file\");\nconst path_2 = require(\"../util/path\");\nconst schemes_1 = require(\"../util/schemes\");\nconst string_1 = require(\"../util/string\");\nconst workspace_1 = require(\"../workspace\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nvar CompletionContextKind;\n(function (CompletionContextKind) {\n    /** `[...](|)` */\n    CompletionContextKind[CompletionContextKind[\"Link\"] = 0] = \"Link\";\n    /** `[...][|]` */\n    CompletionContextKind[CompletionContextKind[\"ReferenceLink\"] = 1] = \"ReferenceLink\";\n    /** `[]: |` */\n    CompletionContextKind[CompletionContextKind[\"LinkDefinition\"] = 2] = \"LinkDefinition\";\n})(CompletionContextKind || (CompletionContextKind = {}));\nfunction tryDecodeUriComponent(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch {\n        return str;\n    }\n}\n/**\n * Controls if header completions for other files in the workspace be returned.\n */\nvar IncludeWorkspaceHeaderCompletions;\n(function (IncludeWorkspaceHeaderCompletions) {\n    /**\n     * Never return workspace header completions.\n     */\n    IncludeWorkspaceHeaderCompletions[\"never\"] = \"never\";\n    /**\n     * Return workspace header completions after `##` is typed.\n     *\n     * This lets the user signal\n     */\n    IncludeWorkspaceHeaderCompletions[\"onDoubleHash\"] = \"onDoubleHash\";\n    /**\n     * Return workspace header completions after either a single `#` is typed or after `##`\n     *\n     * For a single hash, this means the workspace header completions will be returned along side the current file header completions.\n     */\n    IncludeWorkspaceHeaderCompletions[\"onSingleOrDoubleHash\"] = \"onSingleOrDoubleHash\";\n})(IncludeWorkspaceHeaderCompletions = exports.IncludeWorkspaceHeaderCompletions || (exports.IncludeWorkspaceHeaderCompletions = {}));\nconst sortTexts = Object.freeze({\n    localHeader: '1',\n    workspaceHeader: '2',\n});\n/**\n * Adds path completions in markdown files.\n */\nclass MdPathCompletionProvider {\n    #configuration;\n    #workspace;\n    #parser;\n    #linkProvider;\n    #workspaceTocCache;\n    constructor(configuration, workspace, parser, linkProvider, tocProvider) {\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#parser = parser;\n        this.#linkProvider = linkProvider;\n        this.#workspaceTocCache = new workspaceCache_1.MdWorkspaceInfoCache(workspace, (doc) => tocProvider.getForDocument(doc));\n    }\n    async provideCompletionItems(document, position, context, token) {\n        const pathContext = this.#getPathCompletionContext(document, position);\n        if (!pathContext) {\n            return [];\n        }\n        const items = [];\n        for await (const item of this.#provideCompletionItems(document, position, pathContext, context, token)) {\n            items.push(item);\n        }\n        return items;\n    }\n    async *#provideCompletionItems(document, position, context, options, token) {\n        switch (context.kind) {\n            case CompletionContextKind.ReferenceLink: {\n                yield* this.#provideReferenceSuggestions(document, position, context, token);\n                return;\n            }\n            case CompletionContextKind.LinkDefinition:\n            case CompletionContextKind.Link: {\n                if ((context.linkPrefix.startsWith('#') && options.includeWorkspaceHeaderCompletions === IncludeWorkspaceHeaderCompletions.onSingleOrDoubleHash) ||\n                    (context.linkPrefix.startsWith('##') && (options.includeWorkspaceHeaderCompletions === IncludeWorkspaceHeaderCompletions.onDoubleHash || options.includeWorkspaceHeaderCompletions === IncludeWorkspaceHeaderCompletions.onSingleOrDoubleHash))) {\n                    const insertRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n                    yield* this.#provideWorkspaceHeaderSuggestions(document, position, context, insertRange, token);\n                    return;\n                }\n                const isAnchorInCurrentDoc = context.anchorInfo && context.anchorInfo.beforeAnchor.length === 0;\n                // Add anchor #links in current doc\n                if (context.linkPrefix.length === 0 || isAnchorInCurrentDoc) {\n                    const insertRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n                    yield* this.#provideHeaderSuggestions(document, position, context, insertRange, token);\n                }\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                if (!isAnchorInCurrentDoc) {\n                    if (context.anchorInfo) { // Anchor to a different document\n                        const rawUri = this.#resolveReference(document, context.anchorInfo.beforeAnchor);\n                        if (rawUri) {\n                            const otherDoc = await (0, workspace_1.openLinkToMarkdownFile)(this.#configuration, this.#workspace, rawUri);\n                            if (token.isCancellationRequested) {\n                                return;\n                            }\n                            if (otherDoc) {\n                                const anchorStartPosition = (0, position_1.translatePosition)(position, { characterDelta: -(context.anchorInfo.anchorPrefix.length + 1) });\n                                const range = (0, range_1.makeRange)(anchorStartPosition, position);\n                                yield* this.#provideHeaderSuggestions(otherDoc, position, context, range, token);\n                            }\n                        }\n                    }\n                    else { // Normal path suggestions\n                        yield* this.#providePathSuggestions(document, position, context, token);\n                    }\n                }\n            }\n        }\n    }\n    /// [...](...|\n    #linkStartPattern = new RegExp(\n    // text\n    (0, string_1.r) `\\[` +\n        /**/ (0, string_1.r) `(?:` +\n        /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n        /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n        /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n        /**/ (0, string_1.r) `)*` +\n        (0, string_1.r) `\\]` +\n        // Destination start\n        (0, string_1.r) `\\(\\s*(<[^\\>\\)]*|[^\\s\\(\\)]*)` +\n        (0, string_1.r) `$` // Must match cursor position\n    );\n    /// [...][...|\n    #referenceLinkStartPattern = /\\[([^\\]]*?)\\]\\[\\s*([^\\s\\(\\)]*)$/;\n    /// [id]: |\n    #definitionPattern = /^\\s*\\[[\\w\\-]+\\]:\\s*([^\\s]*)$/m;\n    #getPathCompletionContext(document, position) {\n        const line = (0, textDocument_1.getLine)(document, position.line);\n        const linePrefixText = line.slice(0, position.character);\n        const lineSuffixText = line.slice(position.character);\n        const linkPrefixMatch = linePrefixText.match(this.#linkStartPattern);\n        if (linkPrefixMatch) {\n            const isAngleBracketLink = linkPrefixMatch[1].startsWith('<');\n            const prefix = linkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.#refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\)\\s][^\\)\\s\\>]*/);\n            return {\n                kind: CompletionContextKind.Link,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.#getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const definitionLinkPrefixMatch = linePrefixText.match(this.#definitionPattern);\n        if (definitionLinkPrefixMatch) {\n            const isAngleBracketLink = definitionLinkPrefixMatch[1].startsWith('<');\n            const prefix = definitionLinkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.#refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\s]*/);\n            return {\n                kind: CompletionContextKind.LinkDefinition,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.#getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const referenceLinkPrefixMatch = linePrefixText.match(this.#referenceLinkStartPattern);\n        if (referenceLinkPrefixMatch) {\n            const prefix = referenceLinkPrefixMatch[2];\n            const suffix = lineSuffixText.match(/^[^\\]\\s]*/);\n            return {\n                kind: CompletionContextKind.ReferenceLink,\n                linkPrefix: prefix,\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n            };\n        }\n        return undefined;\n    }\n    /**\n     * Check if {@param ref} looks like a 'http:' style url.\n     */\n    #refLooksLikeUrl(prefix) {\n        return /^\\s*[\\w\\d\\-]+:/.test(prefix);\n    }\n    #getAnchorContext(prefix) {\n        const anchorMatch = prefix.match(/^(.*)#([\\w\\d\\-]*)$/);\n        if (!anchorMatch) {\n            return undefined;\n        }\n        return {\n            beforeAnchor: anchorMatch[1],\n            anchorPrefix: anchorMatch[2],\n        };\n    }\n    async *#provideReferenceSuggestions(document, position, context, token) {\n        const insertionRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n        const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n        const { definitions } = await this.#linkProvider.getLinks(document);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        for (const def of definitions) {\n            yield {\n                kind: lsp.CompletionItemKind.Reference,\n                label: def.ref.text,\n                detail: l10n.t(`Reference link '{0}'`, def.ref.text),\n                textEdit: {\n                    newText: def.ref.text,\n                    insert: insertionRange,\n                    replace: replacementRange,\n                },\n            };\n        }\n    }\n    async *#provideHeaderSuggestions(document, position, context, insertionRange, token) {\n        const toc = await tableOfContents_1.TableOfContents.createForContainingDoc(this.#parser, this.#workspace, document, token);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n        for (const entry of toc.entries) {\n            const completionItem = this.#createHeaderCompletion(entry, insertionRange, replacementRange);\n            completionItem.labelDetails = {};\n            yield completionItem;\n        }\n    }\n    #createHeaderCompletion(entry, insertionRange, replacementRange, filePath = '') {\n        const label = '#' + decodeURIComponent(entry.slug.value);\n        const newText = filePath + '#' + decodeURIComponent(entry.slug.value);\n        return {\n            kind: lsp.CompletionItemKind.Reference,\n            label,\n            detail: this.#ownHeaderEntryDetails(entry),\n            textEdit: {\n                newText,\n                insert: insertionRange,\n                replace: replacementRange,\n            },\n        };\n    }\n    #ownHeaderEntryDetails(entry) {\n        return l10n.t(`Link to '{0}'`, '#'.repeat(entry.level) + ' ' + entry.text);\n    }\n    /**\n     * Suggestions for headers across  all md files in the workspace\n     */\n    async *#provideWorkspaceHeaderSuggestions(document, position, context, insertionRange, token) {\n        const tocs = await this.#workspaceTocCache.entries();\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n        for (const [toDoc, toc] of tocs) {\n            const isHeaderInCurrentDocument = toDoc.toString() === (0, textDocument_1.getDocUri)(document).toString();\n            const rawPath = isHeaderInCurrentDocument ? '' : (0, path_2.computeRelativePath)((0, textDocument_1.getDocUri)(document), toDoc);\n            if (typeof rawPath === 'undefined') {\n                continue;\n            }\n            const normalizedPath = this.#normalizeFileNameCompletion(rawPath);\n            const path = context.skipEncoding ? normalizedPath : encodeURI(normalizedPath);\n            for (const entry of toc.entries) {\n                const completionItem = this.#createHeaderCompletion(entry, insertionRange, replacementRange, path);\n                completionItem.filterText = '#' + completionItem.label;\n                completionItem.sortText = isHeaderInCurrentDocument ? sortTexts.localHeader : sortTexts.workspaceHeader;\n                if (isHeaderInCurrentDocument) {\n                    completionItem.detail = this.#ownHeaderEntryDetails(entry);\n                }\n                else if (path) {\n                    completionItem.detail = l10n.t(`Link to '# {0}' in '{1}'`, entry.text, path);\n                    completionItem.labelDetails = { description: path };\n                }\n                yield completionItem;\n            }\n        }\n    }\n    async *#providePathSuggestions(document, position, context, token) {\n        const valueBeforeLastSlash = context.linkPrefix.substring(0, context.linkPrefix.lastIndexOf('/') + 1); // keep the last slash\n        const parentDir = this.#resolveReference(document, valueBeforeLastSlash || '.');\n        if (!parentDir) {\n            return;\n        }\n        const pathSegmentStart = (0, position_1.translatePosition)(position, { characterDelta: valueBeforeLastSlash.length - context.linkPrefix.length });\n        const insertRange = (0, range_1.makeRange)(pathSegmentStart, position);\n        const pathSegmentEnd = (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length });\n        const replacementRange = (0, range_1.makeRange)(pathSegmentStart, pathSegmentEnd);\n        let dirInfo;\n        try {\n            dirInfo = await this.#workspace.readDirectory(parentDir);\n        }\n        catch {\n            return;\n        }\n        if (token.isCancellationRequested) {\n            return;\n        }\n        // eslint-disable-next-line prefer-const\n        for (let [name, type] of dirInfo) {\n            const uri = vscode_uri_1.Utils.joinPath(parentDir, name);\n            if ((0, config_1.isExcludedPath)(this.#configuration, uri)) {\n                continue;\n            }\n            if (!type.isDirectory) {\n                name = this.#normalizeFileNameCompletion(name);\n            }\n            const isDir = type.isDirectory;\n            const newText = (context.skipEncoding ? name : encodeURIComponent(name)) + (isDir ? '/' : '');\n            const label = isDir ? name + '/' : name;\n            yield {\n                label,\n                kind: isDir ? lsp.CompletionItemKind.Folder : lsp.CompletionItemKind.File,\n                detail: l10n.t(`Link to '{0}'`, label),\n                documentation: isDir ? uri.path + '/' : uri.path,\n                textEdit: {\n                    newText,\n                    insert: insertRange,\n                    replace: replacementRange,\n                },\n                command: isDir ? { command: 'editor.action.triggerSuggest', title: '' } : undefined,\n            };\n        }\n    }\n    #normalizeFileNameCompletion(name) {\n        if (this.#configuration.preferredMdPathExtensionStyle === 'removeExtension') {\n            if ((0, file_1.looksLikeMarkdownFilePath)(this.#configuration, name)) {\n                const ext = (0, path_1.extname)(name);\n                name = name.slice(0, -ext.length);\n            }\n        }\n        return name;\n    }\n    #resolveReference(document, ref) {\n        const docUri = this.#getFileUriOfTextDocument(document);\n        if (ref.startsWith('/')) {\n            const workspaceFolder = (0, workspace_1.getWorkspaceFolder)(this.#workspace, docUri);\n            if (workspaceFolder) {\n                return vscode_uri_1.Utils.joinPath(workspaceFolder, ref);\n            }\n            else {\n                return this.#resolvePath(docUri, ref.slice(1));\n            }\n        }\n        return this.#resolvePath(docUri, ref);\n    }\n    #resolvePath(root, ref) {\n        try {\n            if (root.scheme === schemes_1.Schemes.file) {\n                return vscode_uri_1.URI.file((0, path_1.resolve)((0, path_1.dirname)(root.fsPath), ref));\n            }\n            else {\n                return root.with({\n                    path: (0, path_1.resolve)((0, path_1.dirname)(root.path), ref),\n                });\n            }\n        }\n        catch {\n            return undefined;\n        }\n    }\n    #getFileUriOfTextDocument(document) {\n        return this.#workspace.getContainingDocument?.((0, textDocument_1.getDocUri)(document))?.uri ?? (0, textDocument_1.getDocUri)(document);\n    }\n}\nexports.MdPathCompletionProvider = MdPathCompletionProvider;\n//# sourceMappingURL=pathCompletions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdReferencesProvider = exports.MdReferenceKind = void 0;\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nvar MdReferenceKind;\n(function (MdReferenceKind) {\n    MdReferenceKind[MdReferenceKind[\"Link\"] = 1] = \"Link\";\n    MdReferenceKind[MdReferenceKind[\"Header\"] = 2] = \"Header\";\n})(MdReferenceKind = exports.MdReferenceKind || (exports.MdReferenceKind = {}));\n/**\n * Stateful object that computes references for markdown files.\n */\nclass MdReferencesProvider extends dispose_1.Disposable {\n    #configuration;\n    #parser;\n    #workspace;\n    #tocProvider;\n    #linkCache;\n    #logger;\n    constructor(configuration, parser, workspace, tocProvider, linkCache, logger) {\n        super();\n        this.#configuration = configuration;\n        this.#parser = parser;\n        this.#workspace = workspace;\n        this.#tocProvider = tocProvider;\n        this.#linkCache = linkCache;\n        this.#logger = logger;\n    }\n    async provideReferences(document, position, context, token) {\n        const allRefs = await this.getReferencesAtPosition(document, position, token);\n        return allRefs\n            .filter(ref => context.includeDeclaration || !ref.isDefinition)\n            .map(ref => ref.location);\n    }\n    async getReferencesAtPosition(document, position, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'ReferencesProvider.getReferencesAtPosition', { document: document.uri, version: document.version });\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return this.#getReferencesToHeader(document, header, token);\n        }\n        else {\n            return this.#getReferencesToLinkAtPosition(document, position, token);\n        }\n    }\n    async getReferencesToFileInWorkspace(resource, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'ReferencesProvider.getAllReferencesToFileInWorkspace', { resource });\n        const allLinksInWorkspace = await this.#getAllLinksInWorkspace();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.#findLinksToFile(resource, allLinksInWorkspace, undefined));\n    }\n    async #getReferencesToHeader(document, header, token) {\n        const links = await this.#getAllLinksInWorkspace();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const references = [];\n        references.push({\n            kind: MdReferenceKind.Header,\n            isTriggerLocation: true,\n            isDefinition: true,\n            location: header.headerLocation,\n            headerText: header.text,\n            headerTextLocation: header.headerTextLocation\n        });\n        for (const link of links) {\n            if (link.href.kind === documentLinks_1.HrefKind.Internal\n                && (0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, (0, textDocument_1.getDocUri)(document))\n                && this.#parser.slugifier.fromHeading(link.href.fragment).value === header.slug.value) {\n                references.push({\n                    kind: MdReferenceKind.Link,\n                    isTriggerLocation: false,\n                    isDefinition: false,\n                    link,\n                    location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                });\n            }\n        }\n        return references;\n    }\n    async #getReferencesToLinkAtPosition(document, position, token) {\n        const docLinks = (await this.#linkCache.getForDocs([document]))[0];\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        for (const link of docLinks) {\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                // We could be in either the ref name or the definition\n                if ((0, range_1.rangeContains)(link.ref.range, position)) {\n                    return Array.from(this.#getReferencesToLinkReference(docLinks, link.ref.text, { resource: (0, textDocument_1.getDocUri)(document), range: link.ref.range }));\n                }\n                else if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.#getReferencesToLink(docLinks, link, position, token);\n                }\n            }\n            else {\n                if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.#getReferencesToLink(docLinks, link, position, token);\n                }\n            }\n        }\n        return [];\n    }\n    async #getReferencesToLink(docLinks, sourceLink, triggerPosition, token) {\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.Reference) {\n            return Array.from(this.#getReferencesToLinkReference(docLinks, sourceLink.href.ref, { resource: sourceLink.source.resource, range: sourceLink.source.hrefRange }));\n        }\n        // Otherwise find all occurrences of the link in the workspace\n        const allLinksInWorkspace = await this.#getAllLinksInWorkspace();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        if (sourceLink.href.kind === documentLinks_1.HrefKind.External) {\n            const references = [];\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind === documentLinks_1.HrefKind.External && link.href.uri.toString() === sourceLink.href.uri.toString()) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: MdReferenceKind.Link,\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n            return references;\n        }\n        const resolvedResource = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, sourceLink.href.path);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const references = [];\n        if (resolvedResource && this.#isMarkdownPath(resolvedResource) && sourceLink.href.fragment && sourceLink.source.fragmentRange && (0, range_1.rangeContains)(sourceLink.source.fragmentRange, triggerPosition)) {\n            const toc = await this.#tocProvider.get(resolvedResource);\n            const entry = toc.lookup(sourceLink.href.fragment);\n            if (entry) {\n                references.push({\n                    kind: MdReferenceKind.Header,\n                    isTriggerLocation: false,\n                    isDefinition: true,\n                    location: entry.headerLocation,\n                    headerText: entry.text,\n                    headerTextLocation: entry.headerTextLocation\n                });\n            }\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind !== documentLinks_1.HrefKind.Internal || !(0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, resolvedResource)) {\n                    continue;\n                }\n                if (this.#parser.slugifier.fromHeading(link.href.fragment).equals(this.#parser.slugifier.fromHeading(sourceLink.href.fragment))) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: MdReferenceKind.Link,\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n        }\n        else { // Triggered on a link without a fragment so we only require matching the file and ignore fragments\n            references.push(...this.#findLinksToFile(resolvedResource ?? sourceLink.href.path, allLinksInWorkspace, sourceLink));\n        }\n        return references;\n    }\n    async #getAllLinksInWorkspace() {\n        return (await this.#linkCache.values()).flat();\n    }\n    #isMarkdownPath(resolvedHrefPath) {\n        return this.#workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownUri)(this.#configuration, resolvedHrefPath);\n    }\n    *#findLinksToFile(resource, links, sourceLink) {\n        for (const link of links) {\n            if (link.href.kind !== documentLinks_1.HrefKind.Internal || !(0, documentLinks_1.looksLikeLinkToResource)(this.#configuration, link.href, resource)) {\n                continue;\n            }\n            // Exclude cases where the file is implicitly referencing itself\n            if (link.source.hrefText.startsWith('#') && link.source.resource.fsPath === resource.fsPath) {\n                continue;\n            }\n            const isTriggerLocation = !!sourceLink && sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n            const pathRange = this.#getPathRange(link);\n            yield {\n                kind: MdReferenceKind.Link,\n                isTriggerLocation,\n                isDefinition: false,\n                link,\n                location: { uri: link.source.resource.toString(), range: pathRange },\n            };\n        }\n    }\n    *#getReferencesToLinkReference(allLinks, refToFind, from) {\n        for (const link of allLinks) {\n            let ref;\n            if (link.kind === documentLinks_1.MdLinkKind.Definition) {\n                ref = link.ref.text;\n            }\n            else if (link.href.kind === documentLinks_1.HrefKind.Reference) {\n                ref = link.href.ref;\n            }\n            else {\n                continue;\n            }\n            if (ref === refToFind && link.source.resource.fsPath === from.resource.fsPath) {\n                const isTriggerLocation = from.resource.fsPath === link.source.resource.fsPath && ((link.href.kind === documentLinks_1.HrefKind.Reference && (0, range_1.areRangesEqual)(from.range, link.source.hrefRange)) || (link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.areRangesEqual)(from.range, link.ref.range)));\n                const pathRange = this.#getPathRange(link);\n                yield {\n                    kind: MdReferenceKind.Link,\n                    isTriggerLocation,\n                    isDefinition: link.kind === documentLinks_1.MdLinkKind.Definition,\n                    link,\n                    location: { uri: from.resource.toString(), range: pathRange },\n                };\n            }\n        }\n    }\n    /**\n     * Get just the range of the file path, dropping the fragment\n     */\n    #getPathRange(link) {\n        return link.source.fragmentRange\n            ? (0, range_1.modifyRange)(link.source.hrefRange, undefined, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }))\n            : link.source.hrefRange;\n    }\n}\nexports.MdReferencesProvider = MdReferencesProvider;\n//# sourceMappingURL=references.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFilePathRange = exports.getLinkRenameText = exports.MdRenameProvider = exports.RenameNotSupportedAtLocationError = void 0;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst l10n = require(\"@vscode/l10n\");\nconst path = require(\"path\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"../config\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst dispose_1 = require(\"../util/dispose\");\nconst editBuilder_1 = require(\"../util/editBuilder\");\nconst path_1 = require(\"../util/path\");\nconst uri_1 = require(\"../util/uri\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nconst references_1 = require(\"./references\");\n/**\n * Error thrown when rename is not supported performed at the requested location.\n */\nclass RenameNotSupportedAtLocationError extends Error {\n    constructor() {\n        super(l10n.t('Renaming is not supported here. Try renaming a header or link.'));\n    }\n}\nexports.RenameNotSupportedAtLocationError = RenameNotSupportedAtLocationError;\nclass MdRenameProvider extends dispose_1.Disposable {\n    #cachedRefs;\n    #configuration;\n    #workspace;\n    #referencesProvider;\n    #slugifier;\n    #logger;\n    constructor(configuration, workspace, referencesProvider, slugifier, logger) {\n        super();\n        this.#configuration = configuration;\n        this.#workspace = workspace;\n        this.#referencesProvider = referencesProvider;\n        this.#slugifier = slugifier;\n        this.#logger = logger;\n    }\n    async prepareRename(document, position, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'RenameProvider.prepareRename', { document: document.uri, version: document.version });\n        const allRefsInfo = await this.#getAllReferences(document, position, token);\n        if (token.isCancellationRequested) {\n            return undefined;\n        }\n        if (!allRefsInfo || !allRefsInfo.references.length) {\n            throw new RenameNotSupportedAtLocationError();\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        switch (triggerRef.kind) {\n            case references_1.MdReferenceKind.Header: {\n                return { range: triggerRef.headerTextLocation.range, placeholder: triggerRef.headerText };\n            }\n            case references_1.MdReferenceKind.Link: {\n                if (triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition) {\n                    // We may have been triggered on the ref or the definition itself\n                    if ((0, range_1.rangeContains)(triggerRef.link.ref.range, position)) {\n                        return { range: triggerRef.link.ref.range, placeholder: triggerRef.link.ref.text };\n                    }\n                }\n                if (triggerRef.link.href.kind === documentLinks_1.HrefKind.External) {\n                    return { range: triggerRef.link.source.hrefRange, placeholder: document.getText(triggerRef.link.source.hrefRange) };\n                }\n                // See if we are renaming the fragment or the path\n                const { fragmentRange } = triggerRef.link.source;\n                if (fragmentRange && (0, range_1.rangeContains)(fragmentRange, position)) {\n                    const declaration = this.#findHeaderDeclaration(allRefsInfo.references);\n                    return {\n                        range: fragmentRange,\n                        placeholder: declaration ? declaration.headerText : document.getText(fragmentRange),\n                    };\n                }\n                const range = getFilePathRange(triggerRef.link);\n                if (!range) {\n                    throw new RenameNotSupportedAtLocationError();\n                }\n                return { range, placeholder: (0, uri_1.tryDecodeUri)(document.getText(range)) };\n            }\n        }\n    }\n    #findHeaderDeclaration(references) {\n        return references.find(ref => ref.isDefinition && ref.kind === references_1.MdReferenceKind.Header);\n    }\n    async provideRenameEdits(document, position, newName, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'RenameProvider.provideRenameEdits', { document: document.uri, version: document.version });\n        const allRefsInfo = await this.#getAllReferences(document, position, token);\n        if (token.isCancellationRequested || !allRefsInfo || !allRefsInfo.references.length) {\n            return undefined;\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        if (triggerRef.kind === references_1.MdReferenceKind.Link && ((triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition && (0, range_1.rangeContains)(triggerRef.link.ref.range, position)) || triggerRef.link.href.kind === documentLinks_1.HrefKind.Reference)) {\n            return this.#renameReferenceLinks(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Link && triggerRef.link.href.kind === documentLinks_1.HrefKind.External) {\n            return this.#renameExternalLink(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Header || (triggerRef.kind === references_1.MdReferenceKind.Link && triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position) && (triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition || triggerRef.link.kind === documentLinks_1.MdLinkKind.Link && triggerRef.link.href.kind === documentLinks_1.HrefKind.Internal))) {\n            return this.#renameFragment(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === references_1.MdReferenceKind.Link && !(triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position)) && (triggerRef.link.kind === documentLinks_1.MdLinkKind.Link || triggerRef.link.kind === documentLinks_1.MdLinkKind.Definition) && triggerRef.link.href.kind === documentLinks_1.HrefKind.Internal) {\n            return this.#renameFilePath(triggerRef.link.source.resource, triggerRef.link.href, allRefsInfo, newName, token);\n        }\n        return undefined;\n    }\n    async #renameFilePath(triggerDocument, triggerHref, allRefsInfo, newName, token) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        const targetUri = await (0, workspace_1.statLinkToMarkdownFile)(this.#configuration, this.#workspace, triggerHref.path) ?? triggerHref.path;\n        if (token.isCancellationRequested) {\n            return builder.getEdit();\n        }\n        const rawNewFilePath = (0, documentLinks_1.resolveInternalDocumentLink)(triggerDocument, newName, this.#workspace);\n        if (!rawNewFilePath) {\n            return builder.getEdit();\n        }\n        let resolvedNewFilePath = rawNewFilePath.resource;\n        if (!vscode_uri_1.Utils.extname(resolvedNewFilePath)) {\n            // If the newly entered path doesn't have a file extension but the original link did\n            // tack on a .md file extension\n            if (vscode_uri_1.Utils.extname(targetUri)) {\n                resolvedNewFilePath = resolvedNewFilePath.with({\n                    path: resolvedNewFilePath.path + '.' + (this.#configuration.markdownFileExtensions[0] ?? config_1.defaultMarkdownFileExtension)\n                });\n            }\n        }\n        // First rename the file\n        if (await this.#workspace.stat(targetUri)) {\n            builder.renameFile(targetUri, resolvedNewFilePath);\n        }\n        // Then update all refs to it\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                // Try to preserve style of existing links\n                const newLinkText = getLinkRenameText(this.#workspace, ref.link.source, rawNewFilePath.resource, newName.startsWith('./') || newName.startsWith('.\\\\'));\n                builder.replace(ref.link.source.resource, getFilePathRange(ref.link), encodeURI((newLinkText ?? newName).replace(/\\\\/g, '/')));\n            }\n        }\n        return builder.getEdit();\n    }\n    #renameFragment(allRefsInfo, newName) {\n        const slug = this.#slugifier.fromHeading(newName).value;\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            switch (ref.kind) {\n                case references_1.MdReferenceKind.Header:\n                    builder.replace(vscode_uri_1.URI.parse(ref.location.uri), ref.headerTextLocation.range, newName);\n                    break;\n                case references_1.MdReferenceKind.Link:\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, !ref.link.source.fragmentRange || ref.link.href.kind === documentLinks_1.HrefKind.External ? newName : slug);\n                    break;\n            }\n        }\n        return builder.getEdit();\n    }\n    #renameExternalLink(allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                builder.replace(ref.link.source.resource, ref.location.range, newName);\n            }\n        }\n        return builder.getEdit();\n    }\n    #renameReferenceLinks(allRefsInfo, newName) {\n        const builder = new editBuilder_1.WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === references_1.MdReferenceKind.Link) {\n                if (ref.link.kind === documentLinks_1.MdLinkKind.Definition) {\n                    builder.replace(ref.link.source.resource, ref.link.ref.range, newName);\n                }\n                else {\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, newName);\n                }\n            }\n        }\n        return builder.getEdit();\n    }\n    async #getAllReferences(document, position, token) {\n        const version = document.version;\n        if (this.#cachedRefs\n            && this.#cachedRefs.resource.fsPath === (0, textDocument_1.getDocUri)(document).fsPath\n            && this.#cachedRefs.version === document.version\n            && (0, position_1.arePositionsEqual)(this.#cachedRefs.position, position)) {\n            return this.#cachedRefs;\n        }\n        const references = await this.#referencesProvider.getReferencesAtPosition(document, position, token);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const triggerRef = references.find(ref => ref.isTriggerLocation);\n        if (!triggerRef) {\n            return undefined;\n        }\n        this.#cachedRefs = {\n            resource: (0, textDocument_1.getDocUri)(document),\n            version,\n            position,\n            references,\n            triggerRef\n        };\n        return this.#cachedRefs;\n    }\n}\nexports.MdRenameProvider = MdRenameProvider;\nfunction getLinkRenameText(workspace, source, newPath, preferDotSlash = false) {\n    if (source.hrefText.startsWith('/')) {\n        const root = (0, documentLinks_1.resolveInternalDocumentLink)(source.resource, '/', workspace);\n        if (!root) {\n            return undefined;\n        }\n        return '/' + path.posix.relative(root.resource.path, newPath.path);\n    }\n    return (0, path_1.computeRelativePath)(source.resource, newPath, preferDotSlash);\n}\nexports.getLinkRenameText = getLinkRenameText;\nfunction getFilePathRange(link) {\n    if (link.source.fragmentRange) {\n        return (0, range_1.modifyRange)(link.source.hrefRange, undefined, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }));\n    }\n    return link.source.hrefRange;\n}\nexports.getFilePathRange = getFilePathRange;\n//# sourceMappingURL=rename.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdSelectionRangeProvider = void 0;\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst arrays_1 = require(\"../util/arrays\");\nconst string_1 = require(\"../util/string\");\nclass MdSelectionRangeProvider {\n    #parser;\n    #tocProvider;\n    #logger;\n    constructor(parser, tocProvider, logger) {\n        this.#parser = parser;\n        this.#tocProvider = tocProvider;\n        this.#logger = logger;\n    }\n    async provideSelectionRanges(document, positions, token) {\n        this.#logger.log(logging_1.LogLevel.Debug, 'MdSelectionRangeProvider.provideSelectionRanges', { document: document.uri, version: document.version });\n        return (0, arrays_1.coalesce)(await Promise.all(positions.map(position => this.#provideSelectionRange(document, position, token))));\n    }\n    async #provideSelectionRange(document, position, token) {\n        const headerRange = await this.#getHeaderSelectionRange(document, position, token);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const blockRange = await this.#getBlockSelectionRange(document, position, headerRange, token);\n        if (token.isCancellationRequested) {\n            return;\n        }\n        const inlineRange = createInlineRange(document, position, blockRange);\n        return inlineRange ?? blockRange ?? headerRange;\n    }\n    async #getBlockSelectionRange(document, position, parent, token) {\n        const tokens = await this.#parser.tokenize(document);\n        if (token.isCancellationRequested) {\n            return undefined;\n        }\n        const blockTokens = getBlockTokensForPosition(tokens, position, parent);\n        if (blockTokens.length === 0) {\n            return undefined;\n        }\n        let currentRange = parent ?? createBlockRange(blockTokens.shift(), document, position.line, undefined);\n        for (let i = 0; i < blockTokens.length; i++) {\n            currentRange = createBlockRange(blockTokens[i], document, position.line, currentRange);\n        }\n        return currentRange;\n    }\n    async #getHeaderSelectionRange(document, position, token) {\n        const toc = await this.#tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return undefined;\n        }\n        const headerInfo = getHeadersForPosition(toc.entries, position);\n        const headers = headerInfo.headers;\n        let currentRange;\n        for (let i = 0; i < headers.length; i++) {\n            currentRange = createHeaderRange(headers[i], i === headers.length - 1, headerInfo.headerOnThisLine, currentRange, getFirstChildHeader(document, headers[i], toc.entries));\n        }\n        return currentRange;\n    }\n}\nexports.MdSelectionRangeProvider = MdSelectionRangeProvider;\nfunction getHeadersForPosition(toc, position) {\n    const enclosingHeaders = toc.filter(header => header.sectionLocation.range.start.line <= position.line && header.sectionLocation.range.end.line >= position.line);\n    const sortedHeaders = enclosingHeaders.sort((header1, header2) => (header1.line - position.line) - (header2.line - position.line));\n    const onThisLine = toc.find(header => header.line === position.line) !== undefined;\n    return {\n        headers: sortedHeaders,\n        headerOnThisLine: onThisLine\n    };\n}\nfunction createHeaderRange(header, isClosestHeaderToPosition, onHeaderLine, parent, startOfChildRange) {\n    const range = header.sectionLocation.range;\n    const contentRange = (0, range_1.makeRange)((0, position_1.translatePosition)(range.start, { lineDelta: 1 }), range.end);\n    if (onHeaderLine && isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made on this header line, so select header and its content until the start of its first child\n        // then all of its content\n        return makeSelectionRange((0, range_1.modifyRange)(range, undefined, startOfChildRange), makeSelectionRange(range, parent));\n    }\n    else if (onHeaderLine && isClosestHeaderToPosition) {\n        // selection was made on this header line and no children so expand to all of its content\n        return makeSelectionRange(range, parent);\n    }\n    else if (isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made within content and has child so select content\n        // of this header then all content then header\n        return makeSelectionRange((0, range_1.modifyRange)(contentRange, undefined, startOfChildRange), makeSelectionRange(contentRange, (makeSelectionRange(range, parent))));\n    }\n    else {\n        // not on this header line so select content then header\n        return makeSelectionRange(contentRange, makeSelectionRange(range, parent));\n    }\n}\nfunction getBlockTokensForPosition(tokens, position, parent) {\n    const enclosingTokens = tokens.filter((token) => !!token.map && (token.map[0] <= position.line && token.map[1] > position.line) && (!parent || (token.map[0] >= parent.range.start.line && token.map[1] <= parent.range.end.line + 1)) && isBlockElement(token));\n    if (enclosingTokens.length === 0) {\n        return [];\n    }\n    const sortedTokens = enclosingTokens.sort((token1, token2) => (token2.map[1] - token2.map[0]) - (token1.map[1] - token1.map[0]));\n    return sortedTokens;\n}\nfunction createBlockRange(block, document, cursorLine, parent) {\n    if (block.type === 'fence') {\n        return createFencedRange(block, cursorLine, document, parent);\n    }\n    let startLine = (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, block.map[0])) ? block.map[0] + 1 : block.map[0];\n    let endLine = startLine === block.map[1] ? block.map[1] : block.map[1] - 1;\n    if (block.type === 'paragraph_open' && block.map[1] - block.map[0] === 2) {\n        startLine = endLine = cursorLine;\n    }\n    else if (isList(block) && (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine))) {\n        endLine = endLine - 1;\n    }\n    const range = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n    if (parent && (0, range_1.rangeContains)(parent.range, range) && !(0, range_1.areRangesEqual)(parent.range, range)) {\n        return makeSelectionRange(range, parent);\n    }\n    else if (parent && (0, range_1.areRangesEqual)(parent.range, range)) {\n        return parent;\n    }\n    else {\n        return makeSelectionRange(range, undefined);\n    }\n}\nfunction createInlineRange(document, cursorPosition, parent) {\n    const lineText = (0, textDocument_1.getLine)(document, cursorPosition.line);\n    const boldSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, parent);\n    const italicSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, parent);\n    let comboSelection;\n    if (boldSelection && italicSelection && !(0, range_1.areRangesEqual)(boldSelection.range, italicSelection.range)) {\n        if ((0, range_1.rangeContains)(boldSelection.range, italicSelection.range)) {\n            comboSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, boldSelection);\n        }\n        else if ((0, range_1.rangeContains)(italicSelection.range, boldSelection.range)) {\n            comboSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, italicSelection);\n        }\n    }\n    const linkSelection = createLinkRange(lineText, cursorPosition.character, cursorPosition.line, comboSelection ?? boldSelection ?? italicSelection ?? parent);\n    const inlineCodeBlockSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, false, linkSelection ?? parent);\n    return inlineCodeBlockSelection ?? linkSelection ?? comboSelection ?? boldSelection ?? italicSelection;\n}\nfunction createFencedRange(token, cursorLine, document, parent) {\n    const startLine = token.map[0];\n    const endLine = token.map[1] - 1;\n    const onFenceLine = cursorLine === startLine || cursorLine === endLine;\n    const fenceRange = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n    const contentRange = endLine - startLine > 2 && !onFenceLine ? (0, range_1.makeRange)(startLine + 1, 0, endLine - 1, (0, textDocument_1.getLine)(document, endLine - 1).length) : undefined;\n    if (contentRange) {\n        return makeSelectionRange(contentRange, makeSelectionRange(fenceRange, parent));\n    }\n    else {\n        if (parent && (0, range_1.areRangesEqual)(parent.range, fenceRange)) {\n            return parent;\n        }\n        else {\n            return makeSelectionRange(fenceRange, parent);\n        }\n    }\n}\nfunction createBoldRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /\\*\\*([^*]+\\*?[^*]+\\*?[^*]+)\\*\\*/gim;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match\n        const bold = matches[0][0];\n        const startIndex = lineText.indexOf(bold);\n        const cursorOnStars = cursorChar === startIndex || cursorChar === startIndex + 1 || cursorChar === startIndex + bold.length || cursorChar === startIndex + bold.length - 1;\n        const contentAndStars = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + bold.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 2, cursorLine, startIndex + bold.length - 2), contentAndStars);\n        return cursorOnStars ? contentAndStars : content;\n    }\n    return undefined;\n}\nfunction createOtherInlineRange(lineText, cursorChar, cursorLine, isItalic, parent) {\n    const italicRegexes = [/(?:[^*]+)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]+)/g, /^(?:[^*]*)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]*)$/g];\n    let matches = [];\n    if (isItalic) {\n        matches = [...lineText.matchAll(italicRegexes[0])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        if (!matches.length) {\n            matches = [...lineText.matchAll(italicRegexes[1])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        }\n    }\n    else {\n        matches = [...lineText.matchAll(/\\`[^\\`]*\\`/g)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    }\n    if (matches.length) {\n        // should only be one match, so select first and select group 1 for italics because that contains just the italic section\n        // doesn't include the leading and trailing characters which are guaranteed to not be * so as not to be confused with bold\n        const match = isItalic ? matches[0][1] : matches[0][0];\n        const startIndex = lineText.indexOf(match);\n        const cursorOnType = cursorChar === startIndex || cursorChar === startIndex + match.length;\n        const contentAndType = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + match.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 1, cursorLine, startIndex + match.length - 1), contentAndType);\n        return cursorOnType ? contentAndType : content;\n    }\n    return undefined;\n}\nfunction createLinkRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /(\\[[^\\(\\)]*\\])(\\([^\\[\\]]*\\))/g;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length > cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match, so match = [text](url)\n        const link = matches[0][0];\n        const linkRange = makeSelectionRange((0, range_1.makeRange)(cursorLine, lineText.indexOf(link), cursorLine, lineText.indexOf(link) + link.length), parent);\n        const linkText = matches[0][1];\n        const url = matches[0][2];\n        // determine if cursor is within [text] or (url) in order to know which should be selected\n        const nearestType = cursorChar >= lineText.indexOf(linkText) && cursorChar < lineText.indexOf(linkText) + linkText.length ? linkText : url;\n        const indexOfType = lineText.indexOf(nearestType);\n        // determine if cursor is on a bracket or paren and if so, return the [content] or (content), skipping over the content range\n        const cursorOnType = cursorChar === indexOfType || cursorChar === indexOfType + nearestType.length;\n        const contentAndNearestType = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType, cursorLine, indexOfType + nearestType.length), linkRange);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType + 1, cursorLine, indexOfType + nearestType.length - 1), contentAndNearestType);\n        return cursorOnType ? contentAndNearestType : content;\n    }\n    return undefined;\n}\nfunction isList(token) {\n    return token.type ? ['ordered_list_open', 'list_item_open', 'bullet_list_open'].includes(token.type) : false;\n}\nfunction isBlockElement(token) {\n    return !['list_item_close', 'paragraph_close', 'bullet_list_close', 'inline', 'heading_close', 'heading_open'].includes(token.type);\n}\nfunction getFirstChildHeader(document, header, toc) {\n    let childRange;\n    if (header && toc) {\n        const children = toc.filter(t => (0, range_1.rangeContains)(header.sectionLocation.range, t.sectionLocation.range) && t.sectionLocation.range.start.line > header.sectionLocation.range.start.line).sort((t1, t2) => t1.line - t2.line);\n        if (children.length > 0) {\n            childRange = children[0].sectionLocation.range.start;\n            const lineText = (0, textDocument_1.getLine)(document, childRange.line - 1);\n            return childRange ? (0, position_1.translatePosition)(childRange, { lineDelta: -1, characterDelta: lineText.length }) : undefined;\n        }\n    }\n    return undefined;\n}\nfunction makeSelectionRange(range, parent) {\n    return { range, parent };\n}\n//# sourceMappingURL=smartSelect.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceSymbolProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst dispose_1 = require(\"../util/dispose\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nclass MdWorkspaceSymbolProvider extends dispose_1.Disposable {\n    #cache;\n    #symbolProvider;\n    constructor(workspace, symbolProvider) {\n        super();\n        this.#symbolProvider = symbolProvider;\n        this.#cache = this._register(new workspaceCache_1.MdWorkspaceInfoCache(workspace, (doc, token) => this.provideDocumentSymbolInformation(doc, token)));\n    }\n    async provideWorkspaceSymbols(query, token) {\n        const allSymbols = await this.#cache.values();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const normalizedQueryStr = query.toLowerCase();\n        return allSymbols.flat().filter(symbolInformation => symbolInformation.name.toLowerCase().includes(normalizedQueryStr));\n    }\n    async provideDocumentSymbolInformation(document, token) {\n        const docSymbols = await this.#symbolProvider.provideDocumentSymbols(document, {}, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.#toSymbolInformation(document.uri, docSymbols));\n    }\n    *#toSymbolInformation(uri, docSymbols) {\n        for (const symbol of docSymbols) {\n            yield {\n                name: symbol.name,\n                kind: lsp.SymbolKind.String,\n                location: { uri, range: symbol.selectionRange }\n            };\n            if (symbol.children) {\n                yield* this.#toSymbolInformation(uri, symbol.children);\n            }\n        }\n    }\n}\nexports.MdWorkspaceSymbolProvider = MdWorkspaceSymbolProvider;\n//# sourceMappingURL=workspaceSymbols.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogLevel = void 0;\n/**\n * The level of verbosity that the language service logs at.\n */\nvar LogLevel;\n(function (LogLevel) {\n    /** Disable logging */\n    LogLevel[LogLevel[\"Off\"] = 0] = \"Off\";\n    /** Log verbose info about language server operation, such as when references are re-computed for a md file. */\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\n    /** Log extremely verbose info about language server operation, such as calls into the file system */\n    LogLevel[LogLevel[\"Trace\"] = 2] = \"Trace\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n//# sourceMappingURL=logging.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.githubSlugifier = exports.Slug = void 0;\nclass Slug {\n    value;\n    constructor(value) {\n        this.value = value;\n    }\n    equals(other) {\n        return this.value === other.value;\n    }\n}\nexports.Slug = Slug;\n/**\n * A {@link ISlugifier slugifier} that approximates how GitHub's slugifier works.\n */\nexports.githubSlugifier = new class {\n    fromHeading(heading) {\n        const slugifiedHeading = encodeURI(heading.trim()\n            .toLowerCase()\n            .replace(/\\s+/g, '-') // Replace whitespace with -\n            // allow-any-unicode-next-line\n            .replace(/[\\]\\[\\!\\/\\'\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\\\\\^\\{\\|\\}\\~\\`]/g, '') // Remove known punctuators\n            .replace(/^-+/, '') // Remove leading -\n            .replace(/-+$/, '') // Remove trailing -\n        );\n        return new Slug(slugifiedHeading);\n    }\n};\n//# sourceMappingURL=slugify.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdTableOfContentsProvider = exports.TableOfContents = void 0;\nconst logging_1 = require(\"./logging\");\nconst slugify_1 = require(\"./slugify\");\nconst range_1 = require(\"./types/range\");\nconst textDocument_1 = require(\"./types/textDocument\");\nconst dispose_1 = require(\"./util/dispose\");\nconst workspaceCache_1 = require(\"./workspaceCache\");\nclass TableOfContents {\n    entries;\n    static async create(parser, document, token) {\n        const entries = await this.#buildToc(parser, document, token);\n        return new TableOfContents(entries, parser.slugifier);\n    }\n    static async createForContainingDoc(parser, workspace, document, token) {\n        const context = workspace.getContainingDocument?.((0, textDocument_1.getDocUri)(document));\n        if (context) {\n            const entries = (await Promise.all(Array.from(context.children, async (cell) => {\n                const doc = await workspace.openMarkdownDocument(cell.uri);\n                if (!doc || token.isCancellationRequested) {\n                    return [];\n                }\n                return this.#buildToc(parser, doc, token);\n            }))).flat();\n            return new TableOfContents(entries, parser.slugifier);\n        }\n        return this.create(parser, document, token);\n    }\n    static async #buildToc(parser, document, token) {\n        const docUri = (0, textDocument_1.getDocUri)(document);\n        const toc = [];\n        const tokens = await parser.tokenize(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const existingSlugEntries = new Map();\n        const headers = [];\n        let currentHeader;\n        for (const token of tokens) {\n            switch (token.type) {\n                case 'heading_open': {\n                    currentHeader = { open: token, body: [] };\n                    headers.push(currentHeader);\n                    break;\n                }\n                case 'heading_close': {\n                    currentHeader = undefined;\n                    break;\n                }\n                default: {\n                    currentHeader?.body.push(token);\n                    break;\n                }\n            }\n        }\n        for (const { open, body } of headers) {\n            if (!open.map) {\n                continue;\n            }\n            const lineNumber = open.map[0];\n            const line = (0, textDocument_1.getLine)(document, lineNumber);\n            const bodyText = TableOfContents.#getHeaderTitleAsPlainText(body);\n            let slug = parser.slugifier.fromHeading(bodyText);\n            const existingSlugEntry = existingSlugEntries.get(slug.value);\n            if (existingSlugEntry) {\n                ++existingSlugEntry.count;\n                slug = parser.slugifier.fromHeading(slug.value + '-' + existingSlugEntry.count);\n            }\n            else {\n                existingSlugEntries.set(slug.value, { count: 0 });\n            }\n            const headerLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, 0, lineNumber, line.length)\n            };\n            const headerTextLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, line.match(/^#+\\s*/)?.[0].length ?? 0, lineNumber, line.length - (line.match(/\\s*#*$/)?.[0].length ?? 0))\n            };\n            toc.push({\n                slug,\n                text: line.replace(/^\\s*#+\\s*(.*?)(\\s+#+)?$/, (_, word) => word.trim()),\n                level: TableOfContents.#getHeaderLevel(open.markup),\n                line: lineNumber,\n                sectionLocation: headerLocation,\n                headerLocation,\n                headerTextLocation\n            });\n        }\n        // Get full range of section\n        return toc.map((entry, startIndex) => {\n            let end = undefined;\n            for (let i = startIndex + 1; i < toc.length; ++i) {\n                if (toc[i].level <= entry.level) {\n                    end = toc[i].line - 1;\n                    break;\n                }\n            }\n            const endLine = end ?? document.lineCount - 1;\n            return {\n                ...entry,\n                sectionLocation: {\n                    uri: docUri.toString(),\n                    range: (0, range_1.makeRange)(entry.sectionLocation.range.start, { line: endLine, character: (0, textDocument_1.getLine)(document, endLine).length })\n                }\n            };\n        });\n    }\n    static #getHeaderLevel(markup) {\n        if (markup === '=') {\n            return 1;\n        }\n        else if (markup === '-') {\n            return 2;\n        }\n        else { // '#', '##', ...\n            return markup.length;\n        }\n    }\n    static #tokenToPlainText(token) {\n        if (token.children) {\n            return token.children.map(TableOfContents.#tokenToPlainText).join('');\n        }\n        switch (token.type) {\n            case 'text':\n            case 'emoji':\n            case 'code_inline':\n                return token.content;\n            default:\n                return '';\n        }\n    }\n    static #getHeaderTitleAsPlainText(headerTitleParts) {\n        return headerTitleParts\n            .map(TableOfContents.#tokenToPlainText)\n            .join('')\n            .trim();\n    }\n    static empty = new TableOfContents([], slugify_1.githubSlugifier);\n    #slugifier;\n    constructor(entries, slugifier) {\n        this.entries = entries;\n        this.#slugifier = slugifier;\n    }\n    lookup(fragment) {\n        const slug = this.#slugifier.fromHeading(fragment);\n        return this.entries.find(entry => entry.slug.equals(slug));\n    }\n}\nexports.TableOfContents = TableOfContents;\nclass MdTableOfContentsProvider extends dispose_1.Disposable {\n    #cache;\n    #parser;\n    #workspace;\n    #logger;\n    constructor(parser, workspace, logger) {\n        super();\n        this.#parser = parser;\n        this.#workspace = workspace;\n        this.#logger = logger;\n        this.#cache = this._register(new workspaceCache_1.MdDocumentInfoCache(workspace, (doc, token) => {\n            this.#logger.log(logging_1.LogLevel.Debug, 'TableOfContentsProvider.create', { document: doc.uri, version: doc.version });\n            return TableOfContents.create(parser, doc, token);\n        }));\n    }\n    async get(resource) {\n        return await this.#cache.get(resource) ?? TableOfContents.empty;\n    }\n    getForDocument(doc) {\n        return this.#cache.getForDocument(doc);\n    }\n    getForContainingDoc(doc, token) {\n        return TableOfContents.createForContainingDoc(this.#parser, this.#workspace, doc, token);\n    }\n}\nexports.MdTableOfContentsProvider = MdTableOfContentsProvider;\n//# sourceMappingURL=tableOfContents.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.comparePosition = exports.isAfter = exports.isBeforeOrEqual = exports.isBefore = exports.translatePosition = exports.isPosition = exports.arePositionsEqual = void 0;\nfunction arePositionsEqual(a, b) {\n    return a.line === b.line && a.character === b.character;\n}\nexports.arePositionsEqual = arePositionsEqual;\nfunction isPosition(other) {\n    if (!other) {\n        return false;\n    }\n    const { line, character } = other;\n    return typeof line === 'number' && typeof character === 'number';\n}\nexports.isPosition = isPosition;\nfunction translatePosition(pos, change) {\n    return {\n        line: pos.line + (change.lineDelta ?? 0),\n        character: pos.character + (change.characterDelta ?? 0),\n    };\n}\nexports.translatePosition = translatePosition;\nfunction isBefore(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character < other.character;\n}\nexports.isBefore = isBefore;\nfunction isBeforeOrEqual(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character <= other.character;\n}\nexports.isBeforeOrEqual = isBeforeOrEqual;\nfunction isAfter(pos, other) {\n    return !isBeforeOrEqual(pos, other);\n}\nexports.isAfter = isAfter;\nfunction comparePosition(a, b) {\n    if (a.line < b.line) {\n        return -1;\n    }\n    else if (a.line > b.line) {\n        return 1;\n    }\n    else {\n        // equal line\n        if (a.character < b.character) {\n            return -1;\n        }\n        else if (a.character > b.character) {\n            return 1;\n        }\n        else {\n            // equal line and character\n            return 0;\n        }\n    }\n}\nexports.comparePosition = comparePosition;\n//# sourceMappingURL=position.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rangeIntersects = exports.rangeContains = exports.modifyRange = exports.areRangesEqual = exports.makeRange = exports.isRange = void 0;\nconst position_1 = require(\"./position\");\nfunction isRange(thing) {\n    if (!thing) {\n        return false;\n    }\n    return (0, position_1.isPosition)(thing.start)\n        && (0, position_1.isPosition)(thing.end);\n}\nexports.isRange = isRange;\nfunction makeRange(startOrStartLine, endOrStartCharacter, endLine, endCharacter) {\n    if (typeof startOrStartLine === 'number') {\n        return {\n            start: { line: startOrStartLine, character: endOrStartCharacter },\n            end: { line: endLine, character: endCharacter },\n        };\n    }\n    return { start: startOrStartLine, end: endOrStartCharacter };\n}\nexports.makeRange = makeRange;\nfunction areRangesEqual(a, b) {\n    return (0, position_1.arePositionsEqual)(a.start, b.start) && (0, position_1.arePositionsEqual)(a.end, b.end);\n}\nexports.areRangesEqual = areRangesEqual;\nfunction modifyRange(range, start, end) {\n    return {\n        start: start ?? range.start,\n        end: end ?? range.end,\n    };\n}\nexports.modifyRange = modifyRange;\nfunction rangeContains(range, other) {\n    if (isRange(other)) {\n        return rangeContains(range, other.start) && rangeContains(range, other.end);\n    }\n    return !(0, position_1.isBefore)(other, range.start) && !(0, position_1.isBefore)(range.end, other);\n}\nexports.rangeContains = rangeContains;\nfunction rangeIntersects(a, b) {\n    if (rangeContains(a, b.start) || rangeContains(a, b.end)) {\n        return true;\n    }\n    // Check case where `a` is entirely contained in `b`\n    return rangeContains(b, a.start) || rangeContains(b, a.end);\n}\nexports.rangeIntersects = rangeIntersects;\n//# sourceMappingURL=range.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDocUri = exports.getLine = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst range_1 = require(\"./range\");\nfunction getLine(doc, line) {\n    return doc.getText((0, range_1.makeRange)(line, 0, line, Number.MAX_VALUE)).replace(/\\r?\\n$/, '');\n}\nexports.getLine = getLine;\nfunction getDocUri(doc) {\n    return doc.$uri ?? vscode_uri_1.URI.parse(doc.uri);\n}\nexports.getDocUri = getDocUri;\n//# sourceMappingURL=textDocument.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.coalesce = void 0;\n/**\n * @returns New array with all falsy values removed. The original array IS NOT modified.\n */\nfunction coalesce(array) {\n    return array.filter(e => !!e);\n}\nexports.coalesce = coalesce;\n//# sourceMappingURL=arrays.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DisposableStore = exports.Disposable = exports.disposeAll = exports.MultiDisposeError = void 0;\nclass MultiDisposeError extends Error {\n    errors;\n    constructor(errors) {\n        super(`Encountered errors while disposing of store. Errors: [${errors.join(', ')}]`);\n        this.errors = errors;\n    }\n}\nexports.MultiDisposeError = MultiDisposeError;\nfunction disposeAll(disposables) {\n    const errors = [];\n    for (const disposable of disposables) {\n        try {\n            disposable.dispose();\n        }\n        catch (e) {\n            errors.push(e);\n        }\n    }\n    if (errors.length === 1) {\n        throw errors[0];\n    }\n    else if (errors.length > 1) {\n        throw new MultiDisposeError(errors);\n    }\n}\nexports.disposeAll = disposeAll;\nclass Disposable {\n    #isDisposed = false;\n    _disposables = [];\n    dispose() {\n        if (this.#isDisposed) {\n            return;\n        }\n        this.#isDisposed = true;\n        disposeAll(this._disposables);\n    }\n    _register(value) {\n        if (this.#isDisposed) {\n            value.dispose();\n        }\n        else {\n            this._disposables.push(value);\n        }\n        return value;\n    }\n    get isDisposed() {\n        return this.#isDisposed;\n    }\n}\nexports.Disposable = Disposable;\nclass DisposableStore extends Disposable {\n    #items = new Set();\n    dispose() {\n        super.dispose();\n        disposeAll(this.#items);\n        this.#items.clear();\n    }\n    add(item) {\n        if (this.isDisposed) {\n            console.warn('Adding to disposed store. Item will be leaked');\n        }\n        this.#items.add(item);\n        return item;\n    }\n}\nexports.DisposableStore = DisposableStore;\n//# sourceMappingURL=dispose.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceEditBuilder = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nclass WorkspaceEditBuilder {\n    #changes = {};\n    #documentChanges = [];\n    replace(resource, range, newText) {\n        this.#addEdit(resource, lsp.TextEdit.replace(range, newText));\n    }\n    insert(resource, position, newText) {\n        this.#addEdit(resource, lsp.TextEdit.insert(position, newText));\n    }\n    #addEdit(resource, edit) {\n        const resourceKey = resource.toString();\n        let edits = this.#changes[resourceKey];\n        if (!edits) {\n            edits = [];\n            this.#changes[resourceKey] = edits;\n        }\n        edits.push(edit);\n    }\n    getEdit() {\n        // We need to convert changes into `documentChanges` or else they get dropped\n        const textualChanges = Object.entries(this.#changes).map(([uri, edits]) => {\n            return lsp.TextDocumentEdit.create({ uri, version: null }, edits);\n        });\n        return {\n            documentChanges: [...textualChanges, ...this.#documentChanges],\n        };\n    }\n    renameFile(targetUri, resolvedNewFilePath) {\n        this.#documentChanges.push(lsp.RenameFile.create(targetUri.toString(), resolvedNewFilePath.toString()));\n    }\n}\nexports.WorkspaceEditBuilder = WorkspaceEditBuilder;\n//# sourceMappingURL=editBuilder.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.looksLikeMarkdownFilePath = exports.looksLikeMarkdownUri = void 0;\nconst path = require(\"path\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nfunction looksLikeMarkdownUri(config, resolvedHrefPath) {\n    return looksLikeMarkdownExt(config, vscode_uri_1.Utils.extname(resolvedHrefPath));\n}\nexports.looksLikeMarkdownUri = looksLikeMarkdownUri;\nfunction looksLikeMarkdownFilePath(config, fileName) {\n    return looksLikeMarkdownExt(config, path.extname(fileName));\n}\nexports.looksLikeMarkdownFilePath = looksLikeMarkdownFilePath;\nfunction looksLikeMarkdownExt(config, rawExt) {\n    return config.markdownFileExtensions.includes(rawExt.toLowerCase().replace('.', ''));\n}\n//# sourceMappingURL=file.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lazy = void 0;\nclass LazyValue {\n    #hasValue = false;\n    #value;\n    #getValue;\n    constructor(getValue) {\n        this.#getValue = getValue;\n    }\n    get value() {\n        if (!this.#hasValue) {\n            this.#hasValue = true;\n            this.#value = this.#getValue();\n        }\n        return this.#value;\n    }\n    get hasValue() {\n        return this.#hasValue;\n    }\n    map(f) {\n        return new LazyValue(() => f(this.value));\n    }\n}\nfunction lazy(getValue) {\n    return new LazyValue(getValue);\n}\nexports.lazy = lazy;\n//# sourceMappingURL=lazy.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Limiter = void 0;\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nclass Limiter {\n    #size = 0;\n    #runningPromises;\n    #maxDegreeOfParalellism;\n    #outstandingPromises;\n    constructor(maxDegreeOfParalellism) {\n        this.#maxDegreeOfParalellism = maxDegreeOfParalellism;\n        this.#outstandingPromises = [];\n        this.#runningPromises = 0;\n    }\n    get size() {\n        return this.#size;\n    }\n    queue(factory) {\n        this.#size++;\n        return new Promise((c, e) => {\n            this.#outstandingPromises.push({ factory, c, e });\n            this.#consume();\n        });\n    }\n    #consume() {\n        while (this.#outstandingPromises.length && this.#runningPromises < this.#maxDegreeOfParalellism) {\n            const iLimitedTask = this.#outstandingPromises.shift();\n            this.#runningPromises++;\n            const promise = iLimitedTask.factory();\n            promise.then(iLimitedTask.c, iLimitedTask.e);\n            promise.then(() => this.#consumed(), () => this.#consumed());\n        }\n    }\n    #consumed() {\n        this.#size--;\n        this.#runningPromises--;\n        if (this.#outstandingPromises.length > 0) {\n            this.#consume();\n        }\n    }\n}\nexports.Limiter = Limiter;\n//# sourceMappingURL=limiter.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.computeRelativePath = exports.isParentDir = void 0;\nconst path = require(\"path\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst schemes_1 = require(\"./schemes\");\nfunction isParentDir(parent, maybeChild) {\n    if (parent.scheme === maybeChild.scheme && parent.authority === maybeChild.authority) {\n        const relative = path.relative(parent.path, maybeChild.path);\n        return !relative.startsWith('..');\n    }\n    return false;\n}\nexports.isParentDir = isParentDir;\nfunction computeRelativePath(fromDoc, toDoc, preferDotSlash = false) {\n    if (fromDoc.scheme === toDoc.scheme && fromDoc.scheme !== schemes_1.Schemes.untitled) {\n        const rootDir = vscode_uri_1.Utils.dirname(fromDoc);\n        let newLink = path.posix.relative(rootDir.path, toDoc.path);\n        if (preferDotSlash && !(newLink.startsWith('../') || newLink.startsWith('..\\\\'))) {\n            newLink = './' + newLink;\n        }\n        return newLink;\n    }\n    return undefined;\n}\nexports.computeRelativePath = computeRelativePath;\n//# sourceMappingURL=path.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResourceMap = void 0;\nconst defaultResourceToKey = (resource) => resource.toString();\nclass ResourceMap {\n    #map = new Map();\n    #toKey;\n    constructor(toKey = defaultResourceToKey) {\n        this.#toKey = toKey;\n    }\n    set(uri, value) {\n        this.#map.set(this.#toKey(uri), { uri, value });\n        return this;\n    }\n    get(resource) {\n        return this.#map.get(this.#toKey(resource))?.value;\n    }\n    has(resource) {\n        return this.#map.has(this.#toKey(resource));\n    }\n    get size() {\n        return this.#map.size;\n    }\n    clear() {\n        this.#map.clear();\n    }\n    delete(resource) {\n        return this.#map.delete(this.#toKey(resource));\n    }\n    *values() {\n        for (const entry of this.#map.values()) {\n            yield entry.value;\n        }\n    }\n    *keys() {\n        for (const entry of this.#map.values()) {\n            yield entry.uri;\n        }\n    }\n    *entries() {\n        for (const entry of this.#map.values()) {\n            yield [entry.uri, entry.value];\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\nexports.ResourceMap = ResourceMap;\n//# sourceMappingURL=resourceMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Schemes = void 0;\nexports.Schemes = Object.freeze({\n    file: 'file',\n    untitled: 'untitled',\n});\n//# sourceMappingURL=schemes.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.r = exports.isEmptyOrWhitespace = void 0;\nfunction isEmptyOrWhitespace(str) {\n    return /^\\s*$/.test(str);\n}\nexports.isEmptyOrWhitespace = isEmptyOrWhitespace;\nexports.r = String.raw;\n//# sourceMappingURL=string.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryDecodeUri = void 0;\nfunction tryDecodeUri(str) {\n    try {\n        return decodeURI(str);\n    }\n    catch {\n        return str;\n    }\n}\nexports.tryDecodeUri = tryDecodeUri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAppendMarkdownFileExtension = exports.statLinkToMarkdownFile = exports.openLinkToMarkdownFile = exports.getWorkspaceFolder = exports.isWorkspaceWithFileWatching = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst config_1 = require(\"./config\");\nfunction isWorkspaceWithFileWatching(workspace) {\n    return 'watchFile' in workspace;\n}\nexports.isWorkspaceWithFileWatching = isWorkspaceWithFileWatching;\nfunction getWorkspaceFolder(workspace, docUri) {\n    if (workspace.workspaceFolders.length === 0) {\n        return undefined;\n    }\n    // Find the longest match\n    const possibleWorkspaces = workspace.workspaceFolders\n        .filter(folder => folder.scheme === docUri.scheme\n        && folder.authority === docUri.authority\n        && (docUri.fsPath.startsWith(folder.fsPath + '/') || docUri.fsPath.startsWith(folder.fsPath + '\\\\')))\n        .sort((a, b) => b.fsPath.length - a.fsPath.length);\n    if (possibleWorkspaces.length) {\n        return possibleWorkspaces[0];\n    }\n    // Default to first workspace\n    // TODO: Does this make sense?\n    return workspace.workspaceFolders[0];\n}\nexports.getWorkspaceFolder = getWorkspaceFolder;\nasync function openLinkToMarkdownFile(config, workspace, resource) {\n    try {\n        const doc = await workspace.openMarkdownDocument(resource);\n        if (doc) {\n            return doc;\n        }\n    }\n    catch {\n        // Noop\n    }\n    const dotMdResource = tryAppendMarkdownFileExtension(config, resource);\n    if (dotMdResource) {\n        return workspace.openMarkdownDocument(dotMdResource);\n    }\n    return undefined;\n}\nexports.openLinkToMarkdownFile = openLinkToMarkdownFile;\n/**\n * Check that a link to a file exists.\n *\n * @returns The resolved URI or `undefined` if the file does not exist.\n */\nasync function statLinkToMarkdownFile(config, workspace, linkUri, out_statCache) {\n    const exists = async (uri) => {\n        const result = await workspace.stat(uri);\n        out_statCache?.set(uri, { exists: !!result });\n        return !!result;\n    };\n    if (await exists(linkUri)) {\n        return linkUri;\n    }\n    // We don't think the file exists. See if we need to append `.md`\n    const dotMdResource = tryAppendMarkdownFileExtension(config, linkUri);\n    if (dotMdResource && await exists(dotMdResource)) {\n        return dotMdResource;\n    }\n    return undefined;\n}\nexports.statLinkToMarkdownFile = statLinkToMarkdownFile;\nfunction tryAppendMarkdownFileExtension(config, linkUri) {\n    const ext = vscode_uri_1.Utils.extname(linkUri).toLowerCase().replace(/^\\./, '');\n    if (config.markdownFileExtensions.includes(ext)) {\n        return linkUri;\n    }\n    if (ext === '' || !config.knownLinkedToFileExtensions.includes(ext)) {\n        return linkUri.with({ path: linkUri.path + '.' + (config.markdownFileExtensions[0] ?? config_1.defaultMarkdownFileExtension) });\n    }\n    return undefined;\n}\nexports.tryAppendMarkdownFileExtension = tryAppendMarkdownFileExtension;\n//# sourceMappingURL=workspace.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceInfoCache = exports.MdDocumentInfoCache = void 0;\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nconst textDocument_1 = require(\"./types/textDocument\");\nconst dispose_1 = require(\"./util/dispose\");\nconst lazy_1 = require(\"./util/lazy\");\nconst resourceMap_1 = require(\"./util/resourceMap\");\n/**\n * Cache of information per-document in the workspace.\n *\n * The values are computed lazily and invalidated when the document changes.\n */\nclass MdDocumentInfoCache extends dispose_1.Disposable {\n    #cache = new resourceMap_1.ResourceMap();\n    #loadingDocuments = new resourceMap_1.ResourceMap();\n    #workspace;\n    #getValue;\n    constructor(workspace, getValue) {\n        super();\n        this.#workspace = workspace;\n        this.#getValue = getValue;\n        this._register(this.#workspace.onDidChangeMarkdownDocument(doc => this.#invalidate(doc)));\n        this._register(this.#workspace.onDidDeleteMarkdownDocument(this.#onDidDeleteDocument, this));\n    }\n    async get(resource) {\n        let existing = this.#cache.get(resource);\n        if (existing) {\n            return existing.value.value;\n        }\n        const doc = await this.#loadDocument(resource);\n        if (!doc) {\n            return undefined;\n        }\n        // Check if we have invalidated\n        existing = this.#cache.get(resource);\n        if (existing) {\n            return existing.value.value;\n        }\n        return this.#resetEntry(doc)?.value;\n    }\n    async getForDocument(document) {\n        const existing = this.#cache.get((0, textDocument_1.getDocUri)(document));\n        if (existing) {\n            return existing.value.value;\n        }\n        return this.#resetEntry(document).value;\n    }\n    #loadDocument(resource) {\n        const existing = this.#loadingDocuments.get(resource);\n        if (existing) {\n            return existing;\n        }\n        const p = this.#workspace.openMarkdownDocument(resource);\n        this.#loadingDocuments.set(resource, p);\n        p.finally(() => {\n            this.#loadingDocuments.delete(resource);\n        });\n        return p;\n    }\n    #resetEntry(document) {\n        // TODO: cancel old request?\n        const cts = new vscode_languageserver_1.CancellationTokenSource();\n        const value = (0, lazy_1.lazy)(() => this.#getValue(document, cts.token));\n        this.#cache.set((0, textDocument_1.getDocUri)(document), { value, cts });\n        return value;\n    }\n    #invalidate(document) {\n        if (this.#cache.has((0, textDocument_1.getDocUri)(document))) {\n            this.#resetEntry(document);\n        }\n    }\n    #onDidDeleteDocument(resource) {\n        const entry = this.#cache.get(resource);\n        if (entry) {\n            entry.cts.cancel();\n            entry.cts.dispose();\n            this.#cache.delete(resource);\n        }\n    }\n}\nexports.MdDocumentInfoCache = MdDocumentInfoCache;\n/**\n * Cache of information across all markdown files in the workspace.\n *\n * Unlike {@link MdDocumentInfoCache}, the entries here are computed eagerly for every file in the workspace.\n * However the computation of the values is still lazy.\n */\nclass MdWorkspaceInfoCache extends dispose_1.Disposable {\n    #cache = new resourceMap_1.ResourceMap();\n    #init;\n    #workspace;\n    #getValue;\n    constructor(workspace, getValue) {\n        super();\n        this.#workspace = workspace;\n        this.#getValue = getValue;\n        this._register(this.#workspace.onDidChangeMarkdownDocument(this.#onDidChangeDocument, this));\n        this._register(this.#workspace.onDidCreateMarkdownDocument(this.#onDidChangeDocument, this));\n        this._register(this.#workspace.onDidDeleteMarkdownDocument(this.#onDidDeleteDocument, this));\n    }\n    async entries() {\n        await this.#ensureInit();\n        return Promise.all(Array.from(this.#cache.entries(), async ([k, v]) => {\n            return [k, await v.value.value];\n        }));\n    }\n    async values() {\n        await this.#ensureInit();\n        return Promise.all(Array.from(this.#cache.entries(), x => x[1].value.value));\n    }\n    async getForDocs(docs) {\n        for (const doc of docs) {\n            if (!this.#cache.has((0, textDocument_1.getDocUri)(doc))) {\n                this.#update(doc);\n            }\n        }\n        return Promise.all(docs.map(doc => this.#cache.get((0, textDocument_1.getDocUri)(doc)).value.value));\n    }\n    async #ensureInit() {\n        if (!this.#init) {\n            this.#init = this.#populateCache();\n        }\n        await this.#init;\n    }\n    async #populateCache() {\n        const markdownDocuments = await this.#workspace.getAllMarkdownDocuments();\n        for (const document of markdownDocuments) {\n            if (!this.#cache.has((0, textDocument_1.getDocUri)(document))) {\n                this.#update(document);\n            }\n        }\n    }\n    #update(document) {\n        // TODO: cancel old request?\n        const cts = new vscode_languageserver_1.CancellationTokenSource();\n        this.#cache.set((0, textDocument_1.getDocUri)(document), {\n            value: (0, lazy_1.lazy)(() => this.#getValue(document, cts.token)),\n            cts\n        });\n    }\n    #onDidChangeDocument(document) {\n        this.#update(document);\n    }\n    #onDidDeleteDocument(resource) {\n        const entry = this.#cache.get(resource);\n        if (entry) {\n            entry.cts.cancel();\n            entry.cts.dispose();\n            this.#cache.delete(resource);\n        }\n    }\n}\nexports.MdWorkspaceInfoCache = MdWorkspaceInfoCache;\n//# sourceMappingURL=workspaceCache.js.map","var LIB;(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",o=0,i=-1,a=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(i===h-1||1===a);else if(i!==h-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf(\"/\");if(s!==n.length-1){-1===s?(n=\"\",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf(\"/\"),i=h,a=0;continue}}else if(2===n.length||1===n.length){n=\"\",o=0,i=h,a=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",o=2)}else n.length>0?n+=\"/\"+t.slice(i+1,h):n=t.slice(i+1,h),o=h-i-1;i=h,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n=\"\",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+\"/\"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&o&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+=\"/\"+o)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var s=r.length-h,c=a<s?a:s,f=-1,u=0;u<=c;++u){if(u===c){if(s>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else a>c&&(47===t.charCodeAt(o+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(o+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var p=\"\";for(u=o+f+1;u<=i;++u)u!==i&&47!==t.charCodeAt(u)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?\"/\":\".\":n&&1===o?\"//\":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,s=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!a){o=n+1;break}}else-1===s&&(a=!1,s=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(i=n):(h=-1,i=s))}return o===i?i=s:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?\"\":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var s=t.charCodeAt(h);if(47!==s)-1===o&&(i=!1,o=h+1),46===s?-1===r?r=h:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=h+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?\"\":t.slice(r,o)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root=\"/\",n=1):n=0;for(var a=-1,h=0,s=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(o=t.charCodeAt(f)))-1===s&&(c=!1,s=f+1),46===o?-1===a?a=f:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){h=f+1;break}return-1===a||-1===s||0===u||1===u&&a===s-1&&a===h+1?-1!==s&&(r.base=r.name=0===h&&i?t.slice(1,s):t.slice(h,s)):(0===h&&i?(r.name=t.slice(1,a),r.base=t.slice(1,s)):(r.name=t.slice(h,a),r.base=t.slice(h,s)),r.ext=t.slice(a,s)),h>0?r.dir=t.slice(0,h-1):i&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};(()=>{var t;if(r.r(n),r.d(n,{URI:()=>p,Utils:()=>_}),\"object\"==typeof process)t=\"win32\"===process.platform;else if(\"object\"==typeof navigator){var e=navigator.userAgent;t=e.indexOf(\"Windows\")>=0}var o,i,a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},o(t,e)},function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=/^\\w[\\w\\d+.-]*$/,s=/^\\//,c=/^\\/\\//,f=\"\",u=\"/\",l=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,p=function(){function e(t,e,r,n,o,i){void 0===i&&(i=!1),\"object\"==typeof t?(this.scheme=t.scheme||f,this.authority=t.authority||f,this.path=t.path||f,this.query=t.query||f,this.fragment=t.fragment||f):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,i),this.authority=e||f,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==u&&(e=u+e):e=u}return e}(this.scheme,r||f),this.query=n||f,this.fragment=o||f,function(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: \"\", authority: \"'.concat(t.authority,'\", path: \"').concat(t.path,'\", query: \"').concat(t.query,'\", fragment: \"').concat(t.fragment,'\"}'));if(t.scheme&&!h.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!s.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(c.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}(this,i))}return e.isUri=function(t){return t instanceof e||!!t&&\"string\"==typeof t.authority&&\"string\"==typeof t.fragment&&\"string\"==typeof t.path&&\"string\"==typeof t.query&&\"string\"==typeof t.scheme&&\"string\"==typeof t.fsPath&&\"function\"==typeof t.with&&\"function\"==typeof t.toString},Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return b(this,!1)},enumerable:!1,configurable:!0}),e.prototype.with=function(t){if(!t)return this;var e=t.scheme,r=t.authority,n=t.path,o=t.query,i=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=f),void 0===r?r=this.authority:null===r&&(r=f),void 0===n?n=this.path:null===n&&(n=f),void 0===o?o=this.query:null===o&&(o=f),void 0===i?i=this.fragment:null===i&&(i=f),e===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new d(e,r,n,o,i)},e.parse=function(t,e){void 0===e&&(e=!1);var r=l.exec(t);return r?new d(r[2]||f,x(r[4]||f),x(r[5]||f),x(r[7]||f),x(r[9]||f),e):new d(f,f,f,f,f)},e.file=function(e){var r=f;if(t&&(e=e.replace(/\\\\/g,u)),e[0]===u&&e[1]===u){var n=e.indexOf(u,2);-1===n?(r=e.substring(2),e=u):(r=e.substring(2,n),e=e.substring(n)||u)}return new d(\"file\",r,e,f,f)},e.from=function(t){return new d(t.scheme,t.authority,t.path,t.query,t.fragment)},e.prototype.toString=function(t){return void 0===t&&(t=!1),C(this,t)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var r=new d(t);return r._formatted=t.external,r._fsPath=t._sep===g?t.fsPath:null,r}return t},e}(),g=t?1:void 0,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return a(e,t),Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=g),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(p),v=((i={})[58]=\"%3A\",i[47]=\"%2F\",i[63]=\"%3F\",i[35]=\"%23\",i[91]=\"%5B\",i[93]=\"%5D\",i[64]=\"%40\",i[33]=\"%21\",i[36]=\"%24\",i[38]=\"%26\",i[39]=\"%27\",i[40]=\"%28\",i[41]=\"%29\",i[42]=\"%2A\",i[43]=\"%2B\",i[44]=\"%2C\",i[59]=\"%3B\",i[61]=\"%3D\",i[32]=\"%20\",i);function y(t,e){for(var r=void 0,n=-1,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||e&&47===i)-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==r&&(r+=t.charAt(o));else{void 0===r&&(r=t.substr(0,o));var a=v[i];void 0!==a?(-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),r+=a):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(t.substring(n))),void 0!==r?r:t}function m(t){for(var e=void 0,r=0;r<t.length;r++){var n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=v[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function b(e,r){var n;return n=e.authority&&e.path.length>1&&\"file\"===e.scheme?\"//\".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?r?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,t&&(n=n.replace(/\\//g,\"\\\\\")),n}function C(t,e){var r=e?m:y,n=\"\",o=t.scheme,i=t.authority,a=t.path,h=t.query,s=t.fragment;if(o&&(n+=o,n+=\":\"),(i||\"file\"===o)&&(n+=u,n+=u),i){var c=i.indexOf(\"@\");if(-1!==c){var f=i.substr(0,c);i=i.substr(c+1),-1===(c=f.indexOf(\":\"))?n+=r(f,!1):(n+=r(f.substr(0,c),!1),n+=\":\",n+=r(f.substr(c+1),!1)),n+=\"@\"}-1===(c=(i=i.toLowerCase()).indexOf(\":\"))?n+=r(i,!1):(n+=r(i.substr(0,c),!1),n+=i.substr(c))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(l=a.charCodeAt(1))>=65&&l<=90&&(a=\"/\".concat(String.fromCharCode(l+32),\":\").concat(a.substr(3)));else if(a.length>=2&&58===a.charCodeAt(1)){var l;(l=a.charCodeAt(0))>=65&&l<=90&&(a=\"\".concat(String.fromCharCode(l+32),\":\").concat(a.substr(2)))}n+=r(a,!0)}return h&&(n+=\"?\",n+=r(h,!1)),s&&(n+=\"#\",n+=e?s:y(s,!1)),n}function A(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+A(t.substr(3)):t}}var w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(t){return t.match(w)?t.replace(w,(function(t){return A(t)})):t}var _,O=r(470),P=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},j=O.posix||O,U=\"/\";!function(t){t.joinPath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.with({path:j.join.apply(j,P([t.path],e,!1))})},t.resolvePath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.path,o=!1;n[0]!==U&&(n=U+n,o=!0);var i=j.resolve.apply(j,P([n],e,!1));return o&&i[0]===U&&!t.authority&&(i=i.substring(1)),t.with({path:i})},t.dirname=function(t){if(0===t.path.length||t.path===U)return t;var e=j.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)&&(e=\"\"),t.with({path:e})},t.basename=function(t){return j.basename(t.path)},t.extname=function(t){return j.extname(t.path)}}(_||(_={}))})(),LIB=n})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { LsConfiguration } from 'vscode-markdown-languageservice';\n\nexport { LsConfiguration };\n\nconst defaultConfig: LsConfiguration = {\n\tmarkdownFileExtensions: ['md'],\n\tknownLinkedToFileExtensions: [\n\t\t'jpg',\n\t\t'jpeg',\n\t\t'png',\n\t\t'gif',\n\t\t'webp',\n\t\t'bmp',\n\t\t'tiff',\n\t],\n\texcludePaths: [\n\t\t'**/.*',\n\t\t'**/node_modules/**',\n\t]\n};\n\nexport function getLsConfiguration(overrides: Partial<LsConfiguration>): LsConfiguration {\n\treturn {\n\t\t...defaultConfig,\n\t\t...overrides,\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter } from 'vscode-languageserver';\nimport { Disposable } from './util/dispose';\n\nexport type ValidateEnabled = 'ignore' | 'warning' | 'error' | 'hint';\n\nexport interface Settings {\n\treadonly markdown: {\n\t\treadonly server: {\n\t\t\treadonly log: 'off' | 'debug' | 'trace';\n\t\t};\n\n\t\treadonly preferredMdPathExtensionStyle: 'auto' | 'includeExtension' | 'removeExtension';\n\n\t\treadonly occurrencesHighlight: {\n\t\t\treadonly enabled: boolean;\n\t\t};\n\n\t\treadonly suggest: {\n\t\t\treadonly paths: {\n\t\t\t\treadonly enabled: boolean;\n\t\t\t\treadonly includeWorkspaceHeaderCompletions: 'never' | 'onSingleOrDoubleHash' | 'onDoubleHash';\n\t\t\t};\n\t\t};\n\n\t\treadonly validate: {\n\t\t\treadonly enabled: true;\n\t\t\treadonly referenceLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly fragmentLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly fileLinks: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t\treadonly markdownFragmentLinks: ValidateEnabled | 'inherit';\n\t\t\t};\n\t\t\treadonly ignoredLinks: readonly string[];\n\t\t\treadonly unusedLinkDefinitions: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t\treadonly duplicateLinkDefinitions: {\n\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t};\n\t\t};\n\t};\n}\n\n\nexport class ConfigurationManager extends Disposable {\n\n\tprivate readonly f = this.c(new Emitter<Settings>());\n\tpublic readonly onDidChangeConfiguration = this.f.event;\n\n\tprivate g?: Settings;\n\n\tconstructor(connection: Connection) {\n\t\tsuper();\n\n\t\t// The settings have changed. Is send on server activation as well.\n\t\tthis.c(connection.onDidChangeConfiguration((change) => {\n\t\t\tthis.g = change.settings;\n\t\t\tthis.f.fire(this.g!);\n\t\t}));\n\t}\n\n\tpublic getSettings(): Settings | undefined {\n\t\treturn this.g;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, FullDocumentDiagnosticReport, TextDocuments, UnchangedDocumentDiagnosticReport } from 'vscode-languageserver';\nimport * as md from 'vscode-markdown-languageservice';\nimport { Disposable } from 'vscode-notebook-renderer/events';\nimport { URI } from 'vscode-uri';\nimport { ConfigurationManager, ValidateEnabled } from '../configuration';\nimport { disposeAll } from '../util/dispose';\n\nconst defaultDiagnosticOptions: md.DiagnosticOptions = {\n\tvalidateFileLinks: md.DiagnosticLevel.ignore,\n\tvalidateReferences: md.DiagnosticLevel.ignore,\n\tvalidateFragmentLinks: md.DiagnosticLevel.ignore,\n\tvalidateMarkdownFileLinkFragments: md.DiagnosticLevel.ignore,\n\tvalidateUnusedLinkDefinitions: md.DiagnosticLevel.ignore,\n\tvalidateDuplicateLinkDefinitions: md.DiagnosticLevel.ignore,\n\tignoreLinks: [],\n};\n\nfunction convertDiagnosticLevel(enabled: ValidateEnabled): md.DiagnosticLevel | undefined {\n\tswitch (enabled) {\n\t\tcase 'error': return md.DiagnosticLevel.error;\n\t\tcase 'warning': return md.DiagnosticLevel.warning;\n\t\tcase 'ignore': return md.DiagnosticLevel.ignore;\n\t\tcase 'hint': return md.DiagnosticLevel.hint;\n\t\tdefault: return md.DiagnosticLevel.ignore;\n\t}\n}\n\nfunction getDiagnosticsOptions(config: ConfigurationManager): md.DiagnosticOptions {\n\tconst settings = config.getSettings();\n\tif (!settings) {\n\t\treturn defaultDiagnosticOptions;\n\t}\n\n\tconst validateFragmentLinks = convertDiagnosticLevel(settings.markdown.validate.fragmentLinks.enabled);\n\treturn {\n\t\tvalidateFileLinks: convertDiagnosticLevel(settings.markdown.validate.fileLinks.enabled),\n\t\tvalidateReferences: convertDiagnosticLevel(settings.markdown.validate.referenceLinks.enabled),\n\t\tvalidateFragmentLinks: convertDiagnosticLevel(settings.markdown.validate.fragmentLinks.enabled),\n\t\tvalidateMarkdownFileLinkFragments: settings.markdown.validate.fileLinks.markdownFragmentLinks === 'inherit' ? validateFragmentLinks : convertDiagnosticLevel(settings.markdown.validate.fileLinks.markdownFragmentLinks),\n\t\tvalidateUnusedLinkDefinitions: convertDiagnosticLevel(settings.markdown.validate.unusedLinkDefinitions.enabled),\n\t\tvalidateDuplicateLinkDefinitions: convertDiagnosticLevel(settings.markdown.validate.duplicateLinkDefinitions.enabled),\n\t\tignoreLinks: settings.markdown.validate.ignoredLinks,\n\t};\n}\n\nexport function registerValidateSupport(\n\tconnection: Connection,\n\tworkspace: md.IWorkspace,\n\tdocuments: TextDocuments<md.ITextDocument>,\n\tls: md.IMdLanguageService,\n\tconfig: ConfigurationManager,\n\tlogger: md.ILogger,\n): Disposable {\n\tlet diagnosticOptions: md.DiagnosticOptions = defaultDiagnosticOptions;\n\tfunction updateDiagnosticsSetting(): void {\n\t\tdiagnosticOptions = getDiagnosticsOptions(config);\n\t}\n\n\tconst subs: Disposable[] = [];\n\tconst manager = ls.createPullDiagnosticsManager();\n\tsubs.push(manager);\n\n\tsubs.push(manager.onLinkedToFileChanged(() => {\n\t\t// TODO: We only need to refresh certain files\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\tconst emptyDiagnosticsResponse = Object.freeze({ kind: 'full', items: [] });\n\n\tconnection.languages.diagnostics.on(async (params, token): Promise<FullDocumentDiagnosticReport | UnchangedDocumentDiagnosticReport> => {\n\t\tlogger.log(md.LogLevel.Debug, 'connection.languages.diagnostics.on', { document: params.textDocument.uri });\n\n\t\tif (!config.getSettings()?.markdown.validate.enabled) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst uri = URI.parse(params.textDocument.uri);\n\t\tif (!workspace.hasMarkdownDocument(uri)) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst document = await workspace.openMarkdownDocument(uri);\n\t\tif (!document) {\n\t\t\treturn emptyDiagnosticsResponse;\n\t\t}\n\n\t\tconst diagnostics = await manager.computeDiagnostics(document, diagnosticOptions, token);\n\t\treturn {\n\t\t\tkind: 'full',\n\t\t\titems: diagnostics,\n\t\t};\n\t});\n\n\tupdateDiagnosticsSetting();\n\tsubs.push(config.onDidChangeConfiguration(() => {\n\t\tupdateDiagnosticsSetting();\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\tsubs.push(documents.onDidClose(e => {\n\t\tmanager.disposeDocumentResources(URI.parse(e.document.uri));\n\t}));\n\n\treturn {\n\t\tdispose: () => {\n\t\t\tdisposeAll(subs);\n\t\t}\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as md from 'vscode-markdown-languageservice';\nimport { ConfigurationManager } from './configuration';\nimport { Disposable } from './util/dispose';\n\nexport class LogFunctionLogger extends Disposable implements md.ILogger {\n\n\tprivate static f(): string {\n\t\tconst now = new Date();\n\t\treturn String(now.getUTCHours()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getMinutes()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getUTCSeconds()).padStart(2, '0') + '.' + String(now.getMilliseconds()).padStart(3, '0');\n\t}\n\n\tprivate static g(data: any): string {\n\t\tif (data instanceof Error) {\n\t\t\tif (typeof data.stack === 'string') {\n\t\t\t\treturn data.stack;\n\t\t\t}\n\t\t\treturn data.message;\n\t\t}\n\t\tif (typeof data === 'string') {\n\t\t\treturn data;\n\t\t}\n\t\treturn JSON.stringify(data, undefined, 2);\n\t}\n\n\tprivate h: md.LogLevel;\n\n\tconstructor(\n\t\tprivate readonly i: typeof console.log,\n\t\tprivate readonly j: ConfigurationManager,\n\t) {\n\t\tsuper();\n\n\t\tthis.c(this.j.onDidChangeConfiguration(() => {\n\t\t\tthis.h = LogFunctionLogger.k(this.j);\n\t\t}));\n\n\t\tthis.h = LogFunctionLogger.k(this.j);\n\t}\n\n\tprivate static k(config: ConfigurationManager): md.LogLevel {\n\t\tswitch (config.getSettings()?.markdown.server.log) {\n\t\t\tcase 'trace': return md.LogLevel.Trace;\n\t\t\tcase 'debug': return md.LogLevel.Debug;\n\t\t\tcase 'off':\n\t\t\tdefault:\n\t\t\t\treturn md.LogLevel.Off;\n\t\t}\n\t}\n\n\tget level(): md.LogLevel { return this.h; }\n\n\tpublic log(level: md.LogLevel, message: string, data?: any): void {\n\t\tif (this.level < level) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.m(`[${this.l(level)} ${LogFunctionLogger.f()}] ${message}`);\n\t\tif (data) {\n\t\t\tthis.m(LogFunctionLogger.g(data));\n\t\t}\n\t}\n\n\tprivate l(level: md.LogLevel): string {\n\t\tswitch (level) {\n\t\t\tcase md.LogLevel.Off: return 'Off';\n\t\t\tcase md.LogLevel.Debug: return 'Debug';\n\t\t\tcase md.LogLevel.Trace: return 'Trace';\n\t\t}\n\t}\n\n\tprivate m(value: string): void {\n\t\tthis.i(value);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, createConnection } from 'vscode-languageserver/node';\nimport { startVsCodeServer } from '../server';\n\n// Create a connection for the server.\nconst connection: Connection = createConnection();\n\nconsole.log = connection.console.log.bind(connection.console);\nconsole.error = connection.console.error.bind(connection.console);\n\nprocess.on('unhandledRejection', (e: any) => {\n\tconnection.console.error(`Unhandled exception ${e}`);\n});\n\nstartVsCodeServer(connection);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FileRename, RequestType } from 'vscode-languageserver';\nimport type * as lsp from 'vscode-languageserver-types';\nimport type * as md from 'vscode-markdown-languageservice';\n\n//#region From server\nexport const parse = new RequestType<{ uri: string }, md.Token[], any>('markdown/parse');\n\nexport const fs_readFile = new RequestType<{ uri: string }, number[], any>('markdown/fs/readFile');\nexport const fs_readDirectory = new RequestType<{ uri: string }, [string, { isDirectory: boolean }][], any>('markdown/fs/readDirectory');\nexport const fs_stat = new RequestType<{ uri: string }, { isDirectory: boolean } | undefined, any>('markdown/fs/stat');\n\nexport const fs_watcher_create = new RequestType<{ id: number; uri: string; options: md.FileWatcherOptions; watchParentDirs: boolean }, void, any>('markdown/fs/watcher/create');\nexport const fs_watcher_delete = new RequestType<{ id: number }, void, any>('markdown/fs/watcher/delete');\n\nexport const findMarkdownFilesInWorkspace = new RequestType<{}, string[], any>('markdown/findMarkdownFilesInWorkspace');\n//#endregion\n\n//#region To server\nexport const getReferencesToFileInWorkspace = new RequestType<{ uri: string }, lsp.Location[], any>('markdown/getReferencesToFileInWorkspace');\nexport const getEditForFileRenames = new RequestType<FileRename[], { participatingRenames: readonly FileRename[]; edit: lsp.WorkspaceEdit }, any>('markdown/getEditForFileRenames');\n\nexport const fs_watcher_onChange = new RequestType<{ id: number; uri: string; kind: 'create' | 'change' | 'delete' }, void, any>('markdown/fs/watcher/onChange');\n\nexport const resolveLinkTarget = new RequestType<{ linkText: string; uri: string }, md.ResolvedDocumentLinkTarget, any>('markdown/resolveLinkTarget');\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as l10n from '@vscode/l10n';\nimport { CancellationToken, CompletionRegistrationOptions, CompletionRequest, Connection, Disposable, DocumentHighlightRegistrationOptions, DocumentHighlightRequest, InitializeParams, InitializeResult, NotebookDocuments, ResponseError, TextDocuments } from 'vscode-languageserver';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport * as lsp from 'vscode-languageserver-types';\nimport * as md from 'vscode-markdown-languageservice';\nimport { URI } from 'vscode-uri';\nimport { LsConfiguration, getLsConfiguration } from './config';\nimport { ConfigurationManager, Settings } from './configuration';\nimport { registerValidateSupport } from './languageFeatures/diagnostics';\nimport { LogFunctionLogger } from './logging';\nimport * as protocol from './protocol';\nimport { IDisposable } from './util/dispose';\nimport { VsCodeClientWorkspace } from './workspace';\n\ninterface MdServerInitializationOptions extends LsConfiguration { }\n\nconst organizeLinkDefKind = 'source.organizeLinkDefinitions';\n\nexport async function startVsCodeServer(connection: Connection) {\n\tconst configurationManager = new ConfigurationManager(connection);\n\tconst logger = new LogFunctionLogger(connection.console.log.bind(connection.console), configurationManager);\n\n\tconst parser = new class implements md.IMdParser {\n\t\tslugifier = md.githubSlugifier;\n\n\t\ttokenize(document: md.ITextDocument): Promise<md.Token[]> {\n\t\t\treturn connection.sendRequest(protocol.parse, { uri: document.uri.toString() });\n\t\t}\n\t};\n\n\tconst documents = new TextDocuments(TextDocument);\n\tconst notebooks = new NotebookDocuments(documents);\n\n\tconst workspaceFactory: WorkspaceFactory = ({ connection, config, workspaceFolders }) => {\n\t\tconst workspace = new VsCodeClientWorkspace(connection, config, documents, notebooks, logger);\n\t\tworkspace.workspaceFolders = (workspaceFolders ?? []).map(x => URI.parse(x.uri));\n\t\treturn workspace;\n\t};\n\n\treturn startServer(connection, { documents, notebooks, configurationManager, logger, parser, workspaceFactory });\n}\n\ntype WorkspaceFactory = (config: {\n\tconnection: Connection;\n\tconfig: LsConfiguration;\n\tworkspaceFolders?: lsp.WorkspaceFolder[] | null;\n}) => md.IWorkspace;\n\nexport async function startServer(connection: Connection, serverConfig: {\n\tdocuments: TextDocuments<md.ITextDocument>;\n\tnotebooks?: NotebookDocuments<md.ITextDocument>;\n\tconfigurationManager: ConfigurationManager;\n\tlogger: md.ILogger;\n\tparser: md.IMdParser;\n\tworkspaceFactory: WorkspaceFactory;\n}) {\n\tconst { documents, notebooks } = serverConfig;\n\n\tlet mdLs: md.IMdLanguageService | undefined;\n\n\tconnection.onInitialize((params: InitializeParams): InitializeResult => {\n\t\tconst initOptions = params.initializationOptions as MdServerInitializationOptions | undefined;\n\n\t\tconst mdConfig = getLsConfiguration(initOptions ?? {});\n\n\t\tconst workspace = serverConfig.workspaceFactory({ connection, config: mdConfig, workspaceFolders: params.workspaceFolders });\n\t\tmdLs = md.createLanguageService({\n\t\t\tworkspace,\n\t\t\tparser: serverConfig.parser,\n\t\t\tlogger: serverConfig.logger,\n\t\t\t...mdConfig,\n\t\t\tget preferredMdPathExtensionStyle() {\n\t\t\t\tswitch (serverConfig.configurationManager.getSettings()?.markdown.preferredMdPathExtensionStyle) {\n\t\t\t\t\tcase 'includeExtension': return md.PreferredMdPathExtensionStyle.includeExtension;\n\t\t\t\t\tcase 'removeExtension': return md.PreferredMdPathExtensionStyle.removeExtension;\n\t\t\t\t\tcase 'auto':\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn md.PreferredMdPathExtensionStyle.auto;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tregisterCompletionsSupport(connection, documents, mdLs, serverConfig.configurationManager);\n\t\tregisterDocumentHighlightSupport(connection, documents, mdLs, serverConfig.configurationManager);\n\t\tregisterValidateSupport(connection, workspace, documents, mdLs, serverConfig.configurationManager, serverConfig.logger);\n\n\t\treturn {\n\t\t\tcapabilities: {\n\t\t\t\tdiagnosticProvider: {\n\t\t\t\t\tdocumentSelector: null,\n\t\t\t\t\tidentifier: 'markdown',\n\t\t\t\t\tinterFileDependencies: true,\n\t\t\t\t\tworkspaceDiagnostics: false,\n\t\t\t\t},\n\t\t\t\tcodeActionProvider: { resolveProvider: true },\n\t\t\t\tdefinitionProvider: true,\n\t\t\t\tdocumentLinkProvider: { resolveProvider: true },\n\t\t\t\tdocumentSymbolProvider: true,\n\t\t\t\tfoldingRangeProvider: true,\n\t\t\t\treferencesProvider: true,\n\t\t\t\trenameProvider: { prepareProvider: true, },\n\t\t\t\tselectionRangeProvider: true,\n\t\t\t\tworkspaceSymbolProvider: true,\n\t\t\t\tworkspace: {\n\t\t\t\t\tworkspaceFolders: {\n\t\t\t\t\t\tsupported: true,\n\t\t\t\t\t\tchangeNotifications: true,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n\tconnection.onDocumentLinks(async (params, token): Promise<lsp.DocumentLink[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getDocumentLinks(document, token);\n\t});\n\n\tconnection.onDocumentLinkResolve(async (link, token): Promise<lsp.DocumentLink | undefined> => {\n\t\treturn mdLs!.resolveDocumentLink(link, token);\n\t});\n\n\tconnection.onDocumentSymbol(async (params, token): Promise<lsp.DocumentSymbol[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getDocumentSymbols(document, { includeLinkDefinitions: true }, token);\n\t});\n\n\tconnection.onFoldingRanges(async (params, token): Promise<lsp.FoldingRange[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getFoldingRanges(document, token);\n\t});\n\n\tconnection.onSelectionRanges(async (params, token): Promise<lsp.SelectionRange[] | undefined> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getSelectionRanges(document, params.positions, token);\n\t});\n\n\tconnection.onWorkspaceSymbol(async (params, token): Promise<lsp.WorkspaceSymbol[]> => {\n\t\treturn mdLs!.getWorkspaceSymbols(params.query, token);\n\t});\n\n\tconnection.onReferences(async (params, token): Promise<lsp.Location[]> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn [];\n\t\t}\n\t\treturn mdLs!.getReferences(document, params.position, params.context, token);\n\t});\n\n\tconnection.onDefinition(async (params, token): Promise<lsp.Definition | undefined> => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn mdLs!.getDefinition(document, params.position, token);\n\t});\n\n\tconnection.onPrepareRename(async (params, token) => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\treturn await mdLs!.prepareRename(document, params.position, token);\n\t\t} catch (e) {\n\t\t\tif (e instanceof md.RenameNotSupportedAtLocationError) {\n\t\t\t\tthrow new ResponseError(0, e.message);\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t});\n\n\tconnection.onRenameRequest(async (params, token) => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn mdLs!.getRenameEdit(document, params.position, params.newName, token);\n\t});\n\n\tinterface OrganizeLinkActionData {\n\t\treadonly uri: string;\n\t}\n\n\tconnection.onCodeAction(async (params, token) => {\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (params.context.only?.some(kind => kind === 'source' || kind.startsWith('source.'))) {\n\t\t\tconst action: lsp.CodeAction = {\n\t\t\t\ttitle: l10n.t(\"Organize link definitions\"),\n\t\t\t\tkind: organizeLinkDefKind,\n\t\t\t\tdata: <OrganizeLinkActionData>{ uri: document.uri }\n\t\t\t};\n\t\t\treturn [action];\n\t\t}\n\n\t\treturn mdLs!.getCodeActions(document, params.range, params.context, token);\n\t});\n\n\tconnection.onCodeActionResolve(async (codeAction, token) => {\n\t\tif (codeAction.kind === organizeLinkDefKind) {\n\t\t\tconst data = codeAction.data as OrganizeLinkActionData;\n\t\t\tconst document = documents.get(data.uri);\n\t\t\tif (!document) {\n\t\t\t\treturn codeAction;\n\t\t\t}\n\n\t\t\tconst edits = (await mdLs?.organizeLinkDefinitions(document, { removeUnused: true }, token)) || [];\n\t\t\tcodeAction.edit = {\n\t\t\t\tchanges: {\n\t\t\t\t\t[data.uri]: edits\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn codeAction;\n\t\t}\n\n\t\treturn codeAction;\n\t});\n\n\tconnection.onRequest(protocol.getReferencesToFileInWorkspace, (async (params: { uri: string }, token: CancellationToken) => {\n\t\treturn mdLs!.getFileReferences(URI.parse(params.uri), token);\n\t}));\n\n\tconnection.onRequest(protocol.getEditForFileRenames, (async (params, token: CancellationToken) => {\n\t\tconst result = await mdLs!.getRenameFilesInWorkspaceEdit(params.map(x => ({ oldUri: URI.parse(x.oldUri), newUri: URI.parse(x.newUri) })), token);\n\t\tif (!result) {\n\t\t\treturn result;\n\t\t}\n\n\t\treturn {\n\t\t\tedit: result.edit,\n\t\t\tparticipatingRenames: result.participatingRenames.map(rename => ({ oldUri: rename.oldUri.toString(), newUri: rename.newUri.toString() }))\n\t\t};\n\t}));\n\n\tconnection.onRequest(protocol.resolveLinkTarget, (async (params, token: CancellationToken) => {\n\t\treturn mdLs!.resolveLinkTarget(params.linkText, URI.parse(params.uri), token);\n\t}));\n\n\tdocuments.listen(connection);\n\tnotebooks?.listen(connection);\n\tconnection.listen();\n}\n\nfunction registerDynamicClientFeature(\n\tconfig: ConfigurationManager,\n\tisEnabled: (settings: Settings | undefined) => boolean,\n\tregister: () => Promise<Disposable>,\n) {\n\tlet registration: Promise<IDisposable> | undefined;\n\tfunction update() {\n\t\tconst settings = config.getSettings();\n\t\tif (isEnabled(settings)) {\n\t\t\tif (!registration) {\n\t\t\t\tregistration = register();\n\t\t\t}\n\t\t} else {\n\t\t\tregistration?.then(x => x.dispose());\n\t\t\tregistration = undefined;\n\t\t}\n\t}\n\n\tupdate();\n\treturn config.onDidChangeConfiguration(() => update());\n}\n\nfunction registerCompletionsSupport(\n\tconnection: Connection,\n\tdocuments: TextDocuments<md.ITextDocument>,\n\tls: md.IMdLanguageService,\n\tconfig: ConfigurationManager,\n): IDisposable {\n\tfunction getIncludeWorkspaceHeaderCompletions(): md.IncludeWorkspaceHeaderCompletions {\n\t\tswitch (config.getSettings()?.markdown.suggest.paths.includeWorkspaceHeaderCompletions) {\n\t\t\tcase 'onSingleOrDoubleHash': return md.IncludeWorkspaceHeaderCompletions.onSingleOrDoubleHash;\n\t\t\tcase 'onDoubleHash': return md.IncludeWorkspaceHeaderCompletions.onDoubleHash;\n\t\t\tcase 'never':\n\t\t\tdefault: return md.IncludeWorkspaceHeaderCompletions.never;\n\t\t}\n\t}\n\n\tconnection.onCompletion(async (params, token): Promise<lsp.CompletionItem[]> => {\n\t\tconst settings = config.getSettings();\n\t\tif (!settings?.markdown.suggest.paths.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (document) {\n\t\t\t// TODO: remove any type after picking up new release with correct types\n\t\t\treturn ls.getCompletionItems(document, params.position, {\n\t\t\t\t...(params.context || {}),\n\t\t\t\tincludeWorkspaceHeaderCompletions: getIncludeWorkspaceHeaderCompletions(),\n\t\t\t} as any, token);\n\t\t}\n\t\treturn [];\n\t});\n\n\treturn registerDynamicClientFeature(config, (settings) => !!settings?.markdown.suggest.paths.enabled, () => {\n\t\tconst registrationOptions: CompletionRegistrationOptions = {\n\t\t\tdocumentSelector: null,\n\t\t\ttriggerCharacters: ['.', '/', '#'],\n\t\t};\n\t\treturn connection.client.register(CompletionRequest.type, registrationOptions);\n\t});\n}\n\nfunction registerDocumentHighlightSupport(\n\tconnection: Connection,\n\tdocuments: TextDocuments<md.ITextDocument>,\n\tmdLs: md.IMdLanguageService,\n\tconfigurationManager: ConfigurationManager\n) {\n\tconnection.onDocumentHighlight(async (params, token) => {\n\t\tconst settings = configurationManager.getSettings();\n\t\tif (!settings?.markdown.occurrencesHighlight.enabled) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst document = documents.get(params.textDocument.uri);\n\t\tif (!document) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn mdLs!.getDocumentHighlights(document, params.position, token);\n\t});\n\n\treturn registerDynamicClientFeature(configurationManager, (settings) => !!settings?.markdown.occurrencesHighlight.enabled, () => {\n\t\tconst registrationOptions: DocumentHighlightRegistrationOptions = {\n\t\t\tdocumentSelector: null,\n\t\t};\n\t\treturn connection.client.register(DocumentHighlightRequest.type, registrationOptions);\n\t});\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport function disposeAll(disposables: Iterable<IDisposable>) {\n\tconst errors: any[] = [];\n\n\tfor (const disposable of disposables) {\n\t\ttry {\n\t\t\tdisposable.dispose();\n\t\t} catch (e) {\n\t\t\terrors.push(e);\n\t\t}\n\t}\n\n\tif (errors.length === 1) {\n\t\tthrow errors[0];\n\t} else if (errors.length > 1) {\n\t\tthrow new AggregateError(errors, 'Encountered errors while disposing of store');\n\t}\n}\n\nexport interface IDisposable {\n\tdispose(): void;\n}\n\nexport abstract class Disposable {\n\tprivate a = false;\n\n\tprotected b: IDisposable[] = [];\n\n\tpublic dispose(): any {\n\t\tif (this.a) {\n\t\t\treturn;\n\t\t}\n\t\tthis.a = true;\n\t\tdisposeAll(this.b);\n\t}\n\n\tprotected c<T extends IDisposable>(value: T): T {\n\t\tif (this.a) {\n\t\t\tvalue.dispose();\n\t\t} else {\n\t\t\tthis.b.push(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tprotected get d() {\n\t\treturn this.a;\n\t}\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport { URI, Utils } from 'vscode-uri';\nimport { LsConfiguration } from '../config';\n\nexport function looksLikeMarkdownPath(config: LsConfiguration, resolvedHrefPath: URI) {\n\treturn config.markdownFileExtensions.includes(Utils.extname(resolvedHrefPath).toLowerCase().replace('.', ''));\n}\n\nexport function isMarkdownFile(document: TextDocument) {\n\treturn document.languageId === 'markdown';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\ninterface ILimitedTaskFactory<T> {\n\tfactory: ITask<Promise<T>>;\n\tc: (value: T | Promise<T>) => void;\n\te: (error?: unknown) => void;\n}\n\ninterface ITask<T> {\n\t(): T;\n}\n\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nexport class Limiter<T> {\n\n\tprivate a = 0;\n\tprivate b: number;\n\tprivate readonly d: number;\n\tprivate readonly f: ILimitedTaskFactory<T>[];\n\n\tconstructor(maxDegreeOfParalellism: number) {\n\t\tthis.d = maxDegreeOfParalellism;\n\t\tthis.f = [];\n\t\tthis.b = 0;\n\t}\n\n\tget size(): number {\n\t\treturn this.a;\n\t}\n\n\tqueue(factory: ITask<Promise<T>>): Promise<T> {\n\t\tthis.a++;\n\n\t\treturn new Promise<T>((c, e) => {\n\t\t\tthis.f.push({ factory, c, e });\n\t\t\tthis.g();\n\t\t});\n\t}\n\n\tprivate g(): void {\n\t\twhile (this.f.length && this.b < this.d) {\n\t\t\tconst iLimitedTask = this.f.shift()!;\n\t\t\tthis.b++;\n\n\t\t\tconst promise = iLimitedTask.factory();\n\t\t\tpromise.then(iLimitedTask.c, iLimitedTask.e);\n\t\t\tpromise.then(() => this.h(), () => this.h());\n\t\t}\n\t}\n\n\tprivate h(): void {\n\t\tthis.a--;\n\t\tthis.b--;\n\n\t\tif (this.f.length > 0) {\n\t\t\tthis.g();\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from 'vscode-uri';\n\n\ntype ResourceToKey = (uri: URI) => string;\n\nconst defaultResourceToKey = (resource: URI): string => resource.toString();\n\nexport class ResourceMap<T> {\n\n\tprivate readonly a = new Map<string, { readonly uri: URI; readonly value: T }>();\n\n\tprivate readonly b: ResourceToKey;\n\n\tconstructor(toKey: ResourceToKey = defaultResourceToKey) {\n\t\tthis.b = toKey;\n\t}\n\n\tpublic set(uri: URI, value: T): this {\n\t\tthis.a.set(this.b(uri), { uri, value });\n\t\treturn this;\n\t}\n\n\tpublic get(resource: URI): T | undefined {\n\t\treturn this.a.get(this.b(resource))?.value;\n\t}\n\n\tpublic has(resource: URI): boolean {\n\t\treturn this.a.has(this.b(resource));\n\t}\n\n\tpublic get size(): number {\n\t\treturn this.a.size;\n\t}\n\n\tpublic clear(): void {\n\t\tthis.a.clear();\n\t}\n\n\tpublic delete(resource: URI): boolean {\n\t\treturn this.a.delete(this.b(resource));\n\t}\n\n\tpublic *values(): IterableIterator<T> {\n\t\tfor (const entry of this.a.values()) {\n\t\t\tyield entry.value;\n\t\t}\n\t}\n\n\tpublic *keys(): IterableIterator<URI> {\n\t\tfor (const entry of this.a.values()) {\n\t\t\tyield entry.uri;\n\t\t}\n\t}\n\n\tpublic *entries(): IterableIterator<[URI, T]> {\n\t\tfor (const entry of this.a.values()) {\n\t\t\tyield [entry.uri, entry.value];\n\t\t}\n\t}\n\n\tpublic [Symbol.iterator](): IterableIterator<[URI, T]> {\n\t\treturn this.entries();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport const Schemes = Object.freeze({\n\tnotebookCell: 'vscode-notebook-cell',\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter, FileChangeType, NotebookDocuments, Position, Range, TextDocuments } from 'vscode-languageserver';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport * as md from 'vscode-markdown-languageservice';\nimport { URI } from 'vscode-uri';\nimport { LsConfiguration } from './config';\nimport * as protocol from './protocol';\nimport { isMarkdownFile, looksLikeMarkdownPath } from './util/file';\nimport { Limiter } from './util/limiter';\nimport { ResourceMap } from './util/resourceMap';\nimport { Schemes } from './util/schemes';\n\ndeclare const TextDecoder: any;\n\nclass VsCodeDocument implements md.ITextDocument {\n\n\tprivate a?: TextDocument;\n\tprivate b?: TextDocument;\n\n\treadonly uri: string;\n\n\tconstructor(uri: string, init: { inMemoryDoc: TextDocument });\n\tconstructor(uri: string, init: { onDiskDoc: TextDocument });\n\tconstructor(uri: string, init: { inMemoryDoc?: TextDocument; onDiskDoc?: TextDocument }) {\n\t\tthis.uri = uri;\n\t\tthis.a = init?.inMemoryDoc;\n\t\tthis.b = init?.onDiskDoc;\n\t}\n\n\tget version(): number {\n\t\treturn this.a?.version ?? this.b?.version ?? 0;\n\t}\n\n\tget lineCount(): number {\n\t\treturn this.a?.lineCount ?? this.b?.lineCount ?? 0;\n\t}\n\n\tgetText(range?: Range): string {\n\t\tif (this.a) {\n\t\t\treturn this.a.getText(range);\n\t\t}\n\n\t\tif (this.b) {\n\t\t\treturn this.b.getText(range);\n\t\t}\n\n\t\tthrow new Error('Document has been closed');\n\t}\n\n\tpositionAt(offset: number): Position {\n\t\tif (this.a) {\n\t\t\treturn this.a.positionAt(offset);\n\t\t}\n\n\t\tif (this.b) {\n\t\t\treturn this.b.positionAt(offset);\n\t\t}\n\n\t\tthrow new Error('Document has been closed');\n\t}\n\n\thasInMemoryDoc(): boolean {\n\t\treturn !!this.a;\n\t}\n\n\tisDetached(): boolean {\n\t\treturn !this.b && !this.a;\n\t}\n\n\tsetInMemoryDoc(doc: TextDocument | undefined) {\n\t\tthis.a = doc;\n\t}\n\n\tsetOnDiskDoc(doc: TextDocument | undefined) {\n\t\tthis.b = doc;\n\t}\n}\n\nexport class VsCodeClientWorkspace implements md.IWorkspaceWithWatching {\n\n\tprivate readonly a = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidCreateMarkdownDocument = this.a.event;\n\n\tprivate readonly b = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidChangeMarkdownDocument = this.b.event;\n\n\tprivate readonly c = new Emitter<URI>();\n\tpublic readonly onDidDeleteMarkdownDocument = this.c.event;\n\n\tprivate readonly d = new ResourceMap<VsCodeDocument>();\n\n\tprivate readonly f = new TextDecoder('utf-8');\n\n\tprivate g = 0;\n\tprivate readonly h = new Map<number, {\n\t\treadonly resource: URI;\n\t\treadonly options: md.FileWatcherOptions;\n\t\treadonly onDidChange: Emitter<URI>;\n\t\treadonly onDidCreate: Emitter<URI>;\n\t\treadonly onDidDelete: Emitter<URI>;\n\t}>();\n\n\tconstructor(\n\t\tprivate readonly i: Connection,\n\t\tprivate readonly j: LsConfiguration,\n\t\tprivate readonly k: TextDocuments<TextDocument>,\n\t\tprivate readonly l: NotebookDocuments<TextDocument>,\n\t\tprivate readonly m: md.ILogger,\n\t) {\n\t\tk.onDidOpen(e => {\n\t\t\tif (!this.q(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.TextDocument.onDidOpen', { document: e.document.uri });\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst doc = this.d.get(uri);\n\n\t\t\tif (doc) {\n\t\t\t\t// File already existed on disk\n\t\t\t\tdoc.setInMemoryDoc(e.document);\n\n\t\t\t\t// The content visible to the language service may have changed since the in-memory doc\n\t\t\t\t// may differ from the one on-disk. To be safe we always fire a change event.\n\t\t\t\tthis.b.fire(doc);\n\t\t\t} else {\n\t\t\t\t// We're creating the file for the first time\n\t\t\t\tconst doc = new VsCodeDocument(e.document.uri, { inMemoryDoc: e.document });\n\t\t\t\tthis.d.set(uri, doc);\n\t\t\t\tthis.a.fire(doc);\n\t\t\t}\n\t\t});\n\n\t\tk.onDidChangeContent(e => {\n\t\t\tif (!this.q(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.TextDocument.onDidChanceContent', { document: e.document.uri });\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst entry = this.d.get(uri);\n\t\t\tif (entry) {\n\t\t\t\tentry.setInMemoryDoc(e.document);\n\t\t\t\tthis.b.fire(entry);\n\t\t\t}\n\t\t});\n\n\t\tk.onDidClose(async e => {\n\t\t\tif (!this.q(e.document)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.TextDocument.onDidClose', { document: e.document.uri });\n\n\t\t\tconst uri = URI.parse(e.document.uri);\n\t\t\tconst doc = this.d.get(uri);\n\t\t\tif (!doc) {\n\t\t\t\t// Document was never opened\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdoc.setInMemoryDoc(undefined);\n\t\t\tif (doc.isDetached()) {\n\t\t\t\t// The document has been fully closed\n\t\t\t\tthis.r(uri);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check that if file has been deleted on disk.\n\t\t\t// This can happen when directories are renamed / moved. VS Code's file system watcher does not\n\t\t\t// notify us when this happens.\n\t\t\tif (!(await this.p(uri))) {\n\t\t\t\tif (this.d.get(uri) === doc && !doc.hasInMemoryDoc()) {\n\t\t\t\t\tthis.r(uri);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The document still exists on disk\n\t\t\t// To be safe, tell the service that the document has changed because the\n\t\t\t// in-memory doc contents may be different than the disk doc contents.\n\t\t\tthis.b.fire(doc);\n\t\t});\n\n\t\ti.onDidChangeWatchedFiles(async ({ changes }) => {\n\t\t\tfor (const change of changes) {\n\t\t\t\tconst resource = URI.parse(change.uri);\n\t\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.onDidChangeWatchedFiles', { type: change.type, resource });\n\t\t\t\tswitch (change.type) {\n\t\t\t\t\tcase FileChangeType.Changed: {\n\t\t\t\t\t\tconst entry = this.d.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\t// Refresh the on-disk state\n\t\t\t\t\t\t\tconst document = await this.o(resource);\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis.b.fire(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Created: {\n\t\t\t\t\t\tconst entry = this.d.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\t// Create or update the on-disk state\n\t\t\t\t\t\t\tconst document = await this.o(resource);\n\t\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\t\tthis.a.fire(document);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Deleted: {\n\t\t\t\t\t\tconst entry = this.d.get(resource);\n\t\t\t\t\t\tif (entry) {\n\t\t\t\t\t\t\tentry.setOnDiskDoc(undefined);\n\t\t\t\t\t\t\tif (entry.isDetached()) {\n\t\t\t\t\t\t\t\tthis.r(resource);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\ti.onRequest(protocol.fs_watcher_onChange, params => {\n\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.fs_watcher_onChange', { kind: params.kind, uri: params.uri });\n\n\t\t\tconst watcher = this.h.get(params.id);\n\t\t\tif (!watcher) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (params.kind) {\n\t\t\t\tcase 'create': watcher.onDidCreate.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'change': watcher.onDidChange.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'delete': watcher.onDidDelete.fire(URI.parse(params.uri)); return;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic listen() {\n\t\tthis.i.workspace.onDidChangeWorkspaceFolders(async () => {\n\t\t\tthis.workspaceFolders = (await this.i.workspace.getWorkspaceFolders() ?? []).map(x => URI.parse(x.uri));\n\t\t});\n\t}\n\n\tprivate n: readonly URI[] = [];\n\n\tget workspaceFolders(): readonly URI[] {\n\t\treturn this.n;\n\t}\n\n\tset workspaceFolders(value: readonly URI[]) {\n\t\tthis.n = value;\n\t}\n\n\tasync getAllMarkdownDocuments(): Promise<Iterable<md.ITextDocument>> {\n\t\t// Add opened files (such as untitled files)\n\t\tconst openTextDocumentResults = this.k.all()\n\t\t\t.filter(doc => this.q(doc));\n\n\t\tconst allDocs = new ResourceMap<md.ITextDocument>();\n\t\tfor (const doc of openTextDocumentResults) {\n\t\t\tallDocs.set(URI.parse(doc.uri), doc);\n\t\t}\n\n\t\t// And then add files on disk\n\t\tconst maxConcurrent = 20;\n\t\tconst limiter = new Limiter<md.ITextDocument | undefined>(maxConcurrent);\n\t\tconst resources = await this.i.sendRequest(protocol.findMarkdownFilesInWorkspace, {});\n\t\tawait Promise.all(resources.map(strResource => {\n\t\t\treturn limiter.queue(async () => {\n\t\t\t\tconst resource = URI.parse(strResource);\n\t\t\t\tif (allDocs.has(resource)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst doc = await this.openMarkdownDocument(resource);\n\t\t\t\tif (doc) {\n\t\t\t\t\tallDocs.set(resource, doc);\n\t\t\t\t}\n\t\t\t\treturn doc;\n\t\t\t});\n\t\t}));\n\n\t\treturn allDocs.values();\n\t}\n\n\thasMarkdownDocument(resource: URI): boolean {\n\t\treturn !!this.k.get(resource.toString());\n\t}\n\n\tasync openMarkdownDocument(resource: URI): Promise<md.ITextDocument | undefined> {\n\t\tconst existing = this.d.get(resource);\n\t\tif (existing) {\n\t\t\treturn existing;\n\t\t}\n\n\t\tconst matchingDocument = this.k.get(resource.toString());\n\t\tif (matchingDocument) {\n\t\t\tlet entry = this.d.get(resource);\n\t\t\tif (entry) {\n\t\t\t\tentry.setInMemoryDoc(matchingDocument);\n\t\t\t} else {\n\t\t\t\tentry = new VsCodeDocument(resource.toString(), { inMemoryDoc: matchingDocument });\n\t\t\t\tthis.d.set(resource, entry);\n\t\t\t}\n\n\t\t\treturn entry;\n\t\t}\n\n\t\treturn this.o(resource);\n\t}\n\n\tprivate async o(resource: URI): Promise<md.ITextDocument | undefined> {\n\t\tif (!looksLikeMarkdownPath(this.j, resource)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await this.i.sendRequest(protocol.fs_readFile, { uri: resource.toString() });\n\t\t\t// TODO: LSP doesn't seem to handle Array buffers well\n\t\t\tconst bytes = new Uint8Array(response);\n\n\t\t\t// We assume that markdown is in UTF-8\n\t\t\tconst text = this.f.decode(bytes);\n\t\t\tconst doc = new VsCodeDocument(resource.toString(), {\n\t\t\t\tonDiskDoc: TextDocument.create(resource.toString(), 'markdown', 0, text)\n\t\t\t});\n\t\t\tthis.d.set(resource, doc);\n\t\t\treturn doc;\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tasync stat(resource: URI): Promise<md.FileStat | undefined> {\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.stat', { resource });\n\t\tif (this.d.has(resource)) {\n\t\t\treturn { isDirectory: false };\n\t\t}\n\t\treturn this.p(resource);\n\t}\n\n\tprivate async p(resource: URI): Promise<md.FileStat | undefined> {\n\t\tconst uri = resource.toString();\n\t\tif (this.k.get(uri)) {\n\t\t\treturn { isDirectory: false };\n\t\t}\n\t\tconst fsResult = await this.i.sendRequest(protocol.fs_stat, { uri });\n\t\treturn fsResult ?? undefined; // Force convert null to undefined\n\t}\n\n\tasync readDirectory(resource: URI): Promise<[string, md.FileStat][]> {\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.readDir', { resource });\n\t\treturn this.i.sendRequest(protocol.fs_readDirectory, { uri: resource.toString() });\n\t}\n\n\tgetContainingDocument(resource: URI): md.ContainingDocumentContext | undefined {\n\t\tif (resource.scheme === Schemes.notebookCell) {\n\t\t\tconst nb = this.l.findNotebookDocumentForCell(resource.toString());\n\t\t\tif (nb) {\n\t\t\t\treturn {\n\t\t\t\t\turi: URI.parse(nb.uri),\n\t\t\t\t\tchildren: nb.cells.map(cell => ({ uri: URI.parse(cell.document) })),\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\twatchFile(resource: URI, options: md.FileWatcherOptions): md.IFileSystemWatcher {\n\t\tconst id = this.g++;\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.watchFile', { id, resource });\n\n\t\tconst entry = {\n\t\t\tresource,\n\t\t\toptions,\n\t\t\tonDidCreate: new Emitter<URI>(),\n\t\t\tonDidChange: new Emitter<URI>(),\n\t\t\tonDidDelete: new Emitter<URI>(),\n\t\t};\n\t\tthis.h.set(id, entry);\n\n\t\tthis.i.sendRequest(protocol.fs_watcher_create, {\n\t\t\tid,\n\t\t\turi: resource.toString(),\n\t\t\toptions,\n\t\t\twatchParentDirs: true,\n\t\t});\n\n\t\treturn {\n\t\t\tonDidCreate: entry.onDidCreate.event,\n\t\t\tonDidChange: entry.onDidChange.event,\n\t\t\tonDidDelete: entry.onDidDelete.event,\n\t\t\tdispose: () => {\n\t\t\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.disposeWatcher', { id, resource });\n\t\t\t\tthis.i.sendRequest(protocol.fs_watcher_delete, { id });\n\t\t\t\tthis.h.delete(id);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate q(doc: TextDocument) {\n\t\treturn isMarkdownFile(doc) && URI.parse(doc.uri).scheme !== 'vscode-bulkeditpreview';\n\t}\n\n\tprivate r(uri: URI) {\n\t\tthis.m.log(md.LogLevel.Trace, 'VsCodeClientWorkspace.deleteDocument', { document: uri });\n\n\t\tthis.d.delete(uri);\n\t\tthis.c.fire(uri);\n\t}\n}\n","module.exports = require(\"assert\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"fs/promises\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"tls\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as l10n from '@vscode/l10n';\n\nasync function setupMain() {\n\tconst l10nLog: string[] = [];\n\n\tconst i10lLocation = process.env['VSCODE_L10N_BUNDLE_LOCATION'];\n\tif (i10lLocation) {\n\t\ttry {\n\t\t\tawait l10n.config({ uri: i10lLocation });\n\t\t\tl10nLog.push(`l10n: Configured to ${i10lLocation.toString()}`);\n\t\t} catch (e) {\n\t\t\tl10nLog.push(`l10n: Problems loading ${i10lLocation.toString()} : ${e}`);\n\t\t}\n\t}\n\tawait import('./main');\n\n\tl10nLog.forEach(console.log);\n}\nsetupMain();\n"],"sourceRoot":""}