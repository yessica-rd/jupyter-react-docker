{"version":3,"file":"vendors-node_modules_theia_vsx-registry_lib_browser_vsx-registry-frontend-module_js.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACyG;AACjB;AACO;AAC/F,4CAA4C,4JAAkC;AAC9E,8BAA8B,sEAA2B,CAAC,+EAAqC;AAC/F,yCAAyC,yEAA+B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,mCAAmC;AAC/D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,mCAAmC;AAC/D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AA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;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,oCAAoC;AACxD,0BAA0B,oCAAoC;AAC9D,0BAA0B,oCAAoC;AAC9D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;;AAEA,cAAc;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;;AAE1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;;AAEA,eAAe;AACf;AACA;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;;AAEA,YAAY;AACZ;AACA;AACA;AACA,GAAG;AACH;;AAEA,aAAa;AACb;AACA;AACA;AACA,GAAG;AACH;;AAEA,UAAU;AACV;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;;AAEA,UAAU;AACV;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,sBAAsB;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;;AAEA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,sBAAsB;AACxC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC18CA,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;AAEhF,qJAAoD;AACpD,oLAAwD;AACxD,0JAA2C;AAC3C,oKAAgD;AAChD,kKAA+C;AAC/C,8JAA6C;AAC7C,0KAAmD;;;;;;;;;;;;;ACtBnD,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;AAEhF,sIAMwC;AACxC,oIAAiF;AACjF,4NAAqF;AACrF,iOAI2E;AAC3E,oLAAiF;AACjF,4MAA4I;AAE5I;;;GAGG;AAGH,IAAa,sCAAsC,GAAnD,MAAa,sCAAuC,SAAQ,kCAAwB;IAC7D,OAAO,CAAC,cAAsB;QAC7C,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,KAAK,YAAY,IAAI,CAAC,KAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,GAAE;YAChD,OAAO,IAAI,CAAC;SACf;QACD,MAAM,iBAAiB,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,kEAA6B,CAAC,UAAW,CAAC;QAC/E,IAAI,iBAAiB,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;AAZY,sCAAsC;IADlD,0BAAU,GAAE;GACA,sCAAsC,CAYlD;AAZY,wFAAsC;AAenD,IAAa,oCAAoC,GAAjD,MAAa,oCAAqC,SAAQ,gCAAsB;IACzD,OAAO,CAAC,cAAsB;QAC7C,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QAC3C,IAAI,IAAI,CAAC,OAAO,KAAK,YAAY,IAAI,CAAC,KAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,MAAM,GAAE;YAChD,OAAO,IAAI,CAAC;SACf;QACD,MAAM,iBAAiB,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,kEAA6B,CAAC,UAAW,CAAC;QAC/E,IAAI,iBAAiB,EAAE;YACnB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;AAZY,oCAAoC;IADhD,0BAAU,GAAE;GACA,oCAAoC,CAYhD;AAZY,oFAAoC;AAejD,IAAa,6CAA6C,GAA1D,MAAa,6CAA8C,SAAQ,oEAA+B;IAC3E,gBAAgB,CAAC,YAAoB,EAAE,SAAiB;QACvE,IAAI,YAAY,KAAK,YAAY,EAAE;YAC/B,OAAO,SAAS,IAAI,kEAA6B,CAAC,UAAW,CAAC;SACjE;QACD,OAAO,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IAC3D,CAAC;CACJ;AAPY,6CAA6C;IADzD,0BAAU,GAAE;GACA,6CAA6C,CAOzD;AAPY,sGAA6C;AAS1D,SAAgB,+BAA+B,CAAC,IAAqB,EAAE,MAAyB;IAC5F,MAAM,CAAC,uCAA6B,CAAC,CAAC;IACtC,MAAM,CAAC,yCAA+B,CAAC,CAAC;IACxC,MAAM,CAAC,2EAAsC,CAAC,CAAC;IAC/C,qCAAW,EAAC,IAAI,EAAE,uCAA6B,EAAE,oCAAoC,EAAE,0DAA4B,EAAE,8DAAgC,CAAC,CAAC;IACvJ,qCAAW,EACP,IAAI,EACJ,yCAA+B,EAC/B,sCAAsC,EACtC,0DAA4B,EAC5B,8DAAgC,EAChC,wCAA8B,CACjC,CAAC;IACF,IAAI,CAAC,2EAAsC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,OAA+C,EAAE,EAAE;QAC9G,MAAM,KAAK,GAAG,IAAI,qBAAS,CAAC,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,CAAC;QAC3D,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC;QAC7B,KAAK,CAAC,IAAI,CAAC,oEAA+B,CAAC,CAAC,EAAE,CAAC,6CAA6C,CAAC,CAAC;QAC9F,KAAK,CAAC,IAAI,CAAC,2EAAsC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAC5E,OAAO,KAAK,CAAC,GAAG,CAAC,oEAA+B,CAAC,CAAC;IACtD,CAAC,CAAC,CAAC;AACP,CAAC;AApBD,0EAoBC;;;;;;;;;;;;;AClGD,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;AAEhF,oIAAiF;AACjF,wGAAgD;AAGhD,oHAA6C;AAC7C,kIAAgE;AAEnD,0BAAkB,GAAG,6BAA6B,CAAC;AACnD,qCAA6B,GAAgB;IACtD,GAAG,EAAE,0BAAkB;IACvB,OAAO,EAAE,EAAE,eAAe,EAAE,EAAE,EAAE;IAChC,IAAI,EAAE,QAAQ;IAEd,UAAU,EAAE;QACR,eAAe,EAAE;YACb,KAAK,EAAE,kHAAkH;YACzH,IAAI,EAAE,OAAO;YACb,KAAK,EAAE;gBACH,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,2BAA2B;gBACpC,mBAAmB,EAAE,mEAAmE;aAC3F;YACD,OAAO,EAAE,EAAE;SACd;QACD,uBAAuB,EAAE;YACrB,KAAK,EAAE,2JAA2J;YAClK,IAAI,EAAE,OAAO;YACb,KAAK,EAAE;gBACH,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,2BAA2B;gBACpC,mBAAmB,EAAE,mEAAmE;aAC3F;YACD,OAAO,EAAE,EAAE;SACd;KACJ;IACD,aAAa,EAAE,IAAI;IACnB,mBAAmB,EAAE,IAAI;CAC5B,CAAC;AAGF,IAAa,2BAA2B,GAAxC,MAAa,2BAA2B;IAAxC;QACuB,QAAG,GAAG,IAAI,aAAG,CAAC,0BAAkB,CAAC,CAAC;IAgBzD,CAAC;IAXa,IAAI;QACV,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,qCAA6B,CAAC,CAAC,CAAC;IACxF,CAAC;IAED,eAAe,CAAC,OAAkC;QAC9C,OAAO,CAAC,cAAc,CAAC;YACnB,SAAS,EAAE,CAAC,iBAAiB,CAAC;YAC9B,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;SAC3B,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IACpF,CAAC;CACJ;AAf8B;IAA1B,sBAAM,EAAC,wBAAiB,CAAC;8BAAuC,wBAAiB;sEAAC;AACzD;IAAzB,sBAAM,EAAC,0BAAgB,CAAC;8BAAsC,0BAAgB;qEAAC;AAGhF;IADC,6BAAa,GAAE;;;;uDAGf;AARQ,2BAA2B;IADvC,0BAAU,GAAE;GACA,2BAA2B,CAiBvC;AAjBY,kEAA2B;;;;;;;;;;;;;ACxDxC,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;AAEhF,wHAA8I;AAC9I,gKAAmF;AACnF,oHAAiD;AACjD,gNAAwG;AAExG,4NAAuG;AAO1F,8CAAsC,GAAqB;IACpE,IAAI,EAAE,QAAQ;IACd,KAAK,EAAE,yBAAe,CAAC,MAAM;IAC7B,UAAU,EAAE;QACR,UAAU,EAAE;YACR,IAAI,EAAE,uDAAkB;YACxB,WAAW,EAAE,SAAG,CAAC,QAAQ,CAAC,0CAA0C,EAAE,0EAA0E,CAAC;YACjJ,YAAY,EAAE,EAAE,eAAe,EAAE,EAAE,EAAE;SACxC;KACJ;CACJ,CAAC;AAEW,iCAAyB,GAAG,kCAAkC,CAAC;AAE/D,yDAAiD,GAAqB;IAC/E,IAAI,EAAE,QAAQ;IACd,KAAK,EAAE,yBAAe,CAAC,MAAM;IAC7B,UAAU,EAAE;QACR,CAAC,iCAAyB,CAAC,EAAE;YACzB,WAAW,EAAE,SAAG,CAAC,QAAQ,CAAC,8CAA8C,EAAE,yEAAyE,CAAC;YACpJ,OAAO,EAAE,KAAK;YACd,IAAI,EAAE,SAAS;SAClB;KACJ;CACJ,CAAC;AAEW,wCAAgC,GAAG,MAAM,CAAC,kCAAkC,CAAC,CAAC;AAE3F,SAAgB,wBAAwB,CAAC,IAAqB;IAC1D,IAAI,CAAC,gEAA2B,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC9D,IAAI,CAAC,0CAAsB,CAAC,CAAC,SAAS,CAAC,gEAA2B,CAAC,CAAC;IACpE,IAAI,CAAC,gCAAsB,CAAC,CAAC,eAAe,CAAC,EAAE,MAAM,EAAE,8CAAsC,EAAE,CAAC,CAAC;IACjG,IAAI,CAAC,mDAAuB,CAAC,CAAC,eAAe,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;IAEtE,IAAI,CAAC,wCAAgC,CAAC,CAAC,cAAc,CAAC,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE;QACpE,MAAM,iBAAiB,GAAG,SAAS,CAAC,GAAG,CAAoB,2BAAiB,CAAC,CAAC;QAC9E,OAAO,mCAAqB,EAAC,iBAAiB,EAAE,yDAAiD,CAAC,CAAC;IACvG,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;IACtB,IAAI,CAAC,gCAAsB,CAAC,CAAC,eAAe,CAAC,EAAE,MAAM,EAAE,yDAAiD,EAAE,CAAC,CAAC;AAChH,CAAC;AAXD,4DAWC;;;;;;;;;;;;;ACnED,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;AAEhF,oHAAiD;AACjD,wHAAkD;AAClD,qHAAiD;AAEjD,IAAiB,qBAAqB,CA0CrC;AA1CD,WAAiB,qBAAqB;IAElC,MAAM,mBAAmB,GAAG,YAAY,CAAC;IAE5B,+BAAS,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACvD,EAAE,EAAE,wBAAwB;QAC5B,QAAQ,EAAE,mBAAmB;QAC7B,KAAK,EAAE,sBAAsB;QAC7B,SAAS,EAAE,qBAAO,EAAC,WAAW,CAAC;KAClC,CAAC,CAAC;IACU,uCAAiB,GAAsC;QAChE,EAAE,EAAE,+BAA+B;QACnC,QAAQ,EAAE,SAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;QACpD,gBAAgB,EAAE,mBAAmB;QACrC,aAAa,EAAE,sBAAsB;QACrC,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,GAAG,KAAK;QACzD,WAAW,EAAE,SAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;KAC1D,CAAC;IACW,6CAAuB,GAAY;QAC5C,EAAE,EAAE,qCAAqC;KAC5C,CAAC;IACW,0BAAI,GAAY;QACzB,EAAE,EAAE,oBAAoB;KAC3B,CAAC;IACW,uCAAiB,GAAY;QACtC,EAAE,EAAE,+BAA+B;KACtC,CAAC;IACW,mCAAa,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC3D,EAAE,EAAE,2BAA2B;QAC/B,KAAK,EAAE,0BAA0B;QACjC,QAAQ,EAAE,mBAAmB;KAChC,CAAC,CAAC;IACU,oCAAc,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC5D,EAAE,EAAE,4BAA4B;QAChC,KAAK,EAAE,2BAA2B;QAClC,QAAQ,EAAE,mBAAmB;KAChC,CAAC,CAAC;IACU,0CAAoB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAClE,EAAE,EAAE,kCAAkC;QACtC,KAAK,EAAE,6BAA6B;QACpC,QAAQ,EAAE,mBAAmB;KAChC,CAAC,CAAC;AACP,CAAC,EA1CgB,qBAAqB,GAArB,6BAAqB,KAArB,6BAAqB,QA0CrC;;;;;;;;;;;;;AC9DD,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;AAEhF,oIAA0D;AAE1D,wHAA4D;AAE5D,wLAA2F;AAC3F,2JAA4D;AAG5D,IAAa,yBAAyB,GAAtC,MAAa,yBAA0B,SAAQ,2BAAqC;IAApF;;QAEa,OAAE,GAAG,yCAAkB,CAAC,EAAE,CAAC;IAexC,CAAC;IAbG,SAAS,CAAC,GAAQ;QACd,MAAM,EAAE,GAAG,sCAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACxC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC;IAES,mBAAmB,CAAC,GAAQ;QAClC,MAAM,EAAE,GAAG,sCAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,EAAE,EAAE;YACL,MAAM,IAAI,KAAK,CAAC,eAAe,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;SACrD;QACD,OAAO,EAAE,EAAE,EAAE,CAAC;IAClB,CAAC;CAEJ;AAjBY,yBAAyB;IADrC,0BAAU,GAAE;GACA,yBAAyB,CAiBrC;AAjBY,8DAAyB;;;;;;;;;;;;;ACxBtC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;;AAEhF,sHAAkD;AAClD,oIAAiF;AACjF,wHAAgF;AAChF,sIAA4E;AAC5E,2JAA4D;AAC5D,+IAA+D;AAC/D,oHAAiD;AAGjD,IAAa,kBAAkB,0BAA/B,MAAa,kBAAmB,SAAQ,qBAAW;IAAnD;;QAUuB,4BAAuB,GAAG,IAAI,uBAAQ,EAAe,CAAC;QA4C/D,2BAAsB,GAAG,CAAC,OAA2C,EAAE,EAAE;YAC/E,IAAI,CAAC,OAAO,EAAE;gBACV,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC;aACrE;iBAAM,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;gBACjC,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,sCAAsC,CAAC,CAAC,CAAC;aAC1F;iBAAM;gBACH,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;aACjE;QACL,CAAC,CAAC;IAQN,CAAC;IAzDa,IAAI;QACV,IAAI,CAAC,QAAQ,CAAC,4BAA4B,CAAC,CAAC;QAC5C,IAAI,CAAC,EAAE,GAAG,oBAAkB,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;QAC1D,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,qBAAO,EAAC,gBAAgB,CAAC,CAAC;QACjD,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;QACxB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IACrE,CAAC;IAEQ,kBAAkB;QACvB,OAAO,IAAI,CAAC,uBAAuB,CAAC,OAAO,CAAC;IAChD,CAAC;IAEkB,iBAAiB,CAAC,GAAY;QAC7C,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACtB,CAAC;IAEkB,eAAe,CAAC,GAAY;QAC3C,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAEkB,WAAW,CAAC,GAAY;QACvC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAES,WAAW;QACjB,MAAM,KAAK,GAAG,SAAG,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3G,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;IAC/B,CAAC;IAEkB,QAAQ,CAAC,GAAyB;QACjD,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAAA,CAAC;IAYQ,MAAM;QACZ,OAAO,oBAAC,2CAA2B,IAC/B,GAAG,EAAE,IAAI,CAAC,sBAAsB,EAChC,SAAS,EAAE,IAAI,CAAC,SAAS,GAC3B,CAAC;IACP,CAAC;CACJ;AApEU,qBAAE,GAAG,sBAAsB,CAAC;AAGnC;IADC,sBAAM,EAAC,4BAAY,CAAC;8BACS,4BAAY;qDAAC;AAG3C;IADC,sBAAM,EAAC,yCAAkB,CAAC;8BACD,yCAAkB;iDAAC;AAK7C;IADC,6BAAa,GAAE;;;;8CAUf;AAtBQ,kBAAkB;IAD9B,0BAAU,GAAE;GACA,kBAAkB,CAsE9B;AAtEY,gDAAkB;;;;;;;;;;;;;ACzB/B,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;;AAEhF,sHAAkD;AAClD,kIAA0D;AAC1D,oIAAkE;AAClE,oHAA6C;AAE7C,uJAA4F;AAC5F,8KAAyF;AACzF,oKAAgJ;AAChJ,wLAA2F;AAC3F,2JAA0E;AAC1E,qIAA4D;AAC5D,mJAA2D;AAC3D,gLAAyE;AACzE,qHAAwE;AACxE,wHAAiG;AAEjG,qKAA8E;AAC9E,uKAA+E;AAElE,+BAAuB,GAAa,CAAC,yBAAyB,CAAC,CAAC;AAE7E,IAAiB,wBAAwB,CAGxC;AAHD,WAAiB,wBAAwB;IACxB,gCAAO,GAAG,CAAC,GAAG,+BAAuB,EAAE,WAAW,CAAC,CAAC;IACpD,6BAAI,GAAG,CAAC,GAAG,+BAAuB,EAAE,QAAQ,CAAC,CAAC;AAC/D,CAAC,EAHgB,wBAAwB,GAAxB,gCAAwB,KAAxB,gCAAwB,QAGxC;AAGD,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;CAqC5B;AAnBU,qBAAI,GAAkC,IAAI,GAAG,CAAC;IACjD,SAAS;IACT,SAAS;IACT,WAAW;IACX,MAAM;IACN,aAAa;IACb,aAAa;IACb,eAAe;IACf,eAAe;IACf,aAAa;IACb,WAAW;IACX,YAAY;IACZ,YAAY;IACZ,SAAS;IACT,QAAQ;IACR,SAAS;IACT,iBAAiB;IACjB,aAAa;CAChB,CAAE;AApCM,gBAAgB;IAD5B,0BAAU,GAAE;GACA,gBAAgB,CAqC5B;AArCY,4CAAgB;AAwC7B,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;CAE/B;AAFY,mBAAmB;IAD/B,0BAAU,GAAE;GACA,mBAAmB,CAE/B;AAFY,kDAAmB;AAInB,2BAAmB,GAAG,MAAM,CAAC,qBAAqB,CAAC,CAAC;AAIjE,IAAa,YAAY,oBAAzB,MAAa,YAAY;IAAzB;QA4CuB,SAAI,GAA8B,EAAE,CAAC;QAuJ9C,UAAK,GAAG,CAAC,CAAC;IA8ExB,CAAC;IAhRG;;OAEG;IACH,MAAM,CAAC,aAAa,CAAC,OAA2B;QAC5C,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;YACrC,OAAO,IAAI,OAAO,EAAE,CAAC;SACxB;QACD,OAAO,OAAO,CAAC;IACnB,CAAC;IAqCD,IAAI,GAAG;QACH,OAAO,sCAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC7C,CAAC;IAED,IAAI,EAAE;QACF,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;IAC3B,CAAC;IAED,IAAI,OAAO;QACP,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IACvB,CAAC;IAED,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,EAAqC,CAAC,CAAC;IACpF,CAAC;IAED,IAAI,SAAS;QACT,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;IACzB,CAAC;IAED,IAAI,OAAO;;QACP,OAAO,WAAI,CAAC,MAAM,0CAAE,IAAI,MAAK,4BAAU,CAAC,MAAM,CAAC;IACnD,CAAC;IAED,MAAM,CAAC,IAA+B;QAClC,KAAK,MAAM,GAAG,IAAI,gBAAgB,CAAC,IAAI,EAAE;YACrC,IAAI,GAAG,IAAI,IAAI,EAAE;gBACb,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;aAClD;SACJ;IACL,CAAC;IAED,YAAY;QACR,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;IAChC,CAAC;IAES,OAAO,CAAmC,GAAM;;QACtD,MAAM,KAAK,GAAG,UAAI,CAAC,MAAM,0CAAE,QAAQ,CAAC,KAAK,CAAC;QAC1C,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE;YACvB,OAAO,KAAK,CAAC,GAAyB,CAAwB,CAAC;SAClE;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,IAAI,OAAO;QACP,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,MAAM,OAAO,GAAG,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC;QACxD,IAAI,OAAO,EAAE;YACT,OAAO,IAAI,mBAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,CAAC;SAClE;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAChC,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IACrC,CAAC;IAED,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC;IACpD,CAAC;IAED,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IACvC,CAAC;IAED,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC;IAED,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IACzC,CAAC;IAED,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IACzC,CAAC;IAED,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IACvC,CAAC;IAED,IAAI,SAAS;QACT,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,MAAM,SAAS,GAAG,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC;QAC5D,IAAI,SAAS,EAAE;YACX,OAAO,IAAI,mBAAQ,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,CAAC;SACpE;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAClC,CAAC;IAED,IAAI,UAAU;QACV,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACzC,IAAI,UAAU,EAAE;YACZ,OAAO,UAAU,CAAC;SACrB;aAAM;YACH,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC3B,UAAU,GAAG,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC;YACxD,IAAI,UAAU,EAAE;gBACZ,OAAO,IAAI,mBAAQ,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,CAAC;aACrE;SACJ;IACL,CAAC;IAED,IAAI,UAAU;QACV,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC;IAED,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC;IAED,IAAI,MAAM;QACN,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IAED,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC;IAED,IAAI,eAAe;QACf,OAAO,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;IAC3C,CAAC;IAED,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;IACvC,CAAC;IAED,IAAI,OAAO;QACP,IAAI,EAAE,GAAG,KAAK,IAAI,CAAC,WAAW,MAAM,cAAY,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,CAAC,WAAW,cAAc,YAAG,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC;QAE3K,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,EAAE,IAAI,OAAO,YAAG,CAAC,QAAQ,CAAC,4BAA4B,EAAE,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;SAC3F;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,EAAE,IAAI,OAAO,YAAG,CAAC,QAAQ,CAAC,kCAAkC,EAAE,qBAAqB,EAAE,wBAAwB,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC;SAC/I;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,EAAE,IAAI,OAAO,qBAAqB,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;SAC5D;QAED,OAAO,EAAE,CAAC;IACd,CAAC;IAGD,IAAI,IAAI;QACJ,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;IACxB,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,OAA6B;;QACvC,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI;YACA,MAAM,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,YAAG,CAAC,iBAAiB,CAAC,oCAAoC,EAAE,IAAI,CAAC,EAAE,EAAE,UAAI,CAAC,OAAO,mCAAI,CAAC,CAAC,EAAE,YAAY,EAAE,GAAG,EAAE,CAChJ,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,OAAO,CAAC,CACpE,CAAC;SACL;gBAAS;YACN,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;IACL,CAAC;IAED,KAAK,CAAC,SAAS;QACX,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI;YACA,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC;YACxB,IAAI,MAAM,EAAE;gBACR,MAAM,IAAI,CAAC,eAAe,CAAC,YAAY,CACnC,YAAG,CAAC,iBAAiB,CAAC,qBAAqB,EAAE,IAAI,CAAC,EAAE,CAAC,EAAE,YAAY,EACnE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,mCAAiB,CAAC,uBAAuB,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CACtG,CAAC;aACL;SACJ;gBAAS;YACN,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;IACL,CAAC;IAED,iBAAiB,CAAC,CAA4C;QAC1D,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC;YAC5B,QAAQ,EAAE,+BAAuB;YACjC,MAAM,EAAE;gBACJ,CAAC,EAAE,CAAC,CAAC,OAAO;gBACZ,CAAC,EAAE,CAAC,CAAC,OAAO;aACf;YACD,IAAI,EAAE,CAAC,IAAI,CAAC;SACf,CAAC,CAAC;IACP,CAAC;IAED;;;;OAIG;IACH,KAAK,CAAC,eAAe,CAAC,IAAI,GAAG,EAAE;QAC3B,MAAM,GAAG,GAAG,IAAI,aAAG,CAAC,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC;QAC7D,OAAO,GAAG,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC/E,CAAC;IAED,KAAK,CAAC,SAAS;QACX,MAAM,mBAAmB,GAAa,EAAE,CAAC;QACzC,mBAAmB,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QACtD,mBAAmB,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;QAC3C,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAC7D,mBAAmB,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QACrD,mBAAmB,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QACzD,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE;YAChC,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;YAClD,mBAAmB,CAAC,IAAI,CAAC,kBAAkB,YAAY,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;SACzE;QAAA,CAAC;QACF,OAAO,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,UAAyB,EAAE,IAAI,EAAE,QAAQ,EAAE;QAClD,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,GAAQ,EAAE,OAAuB;QAC1C,MAAM,yBAAI,EAAC,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;IACjD,CAAC;IAED,MAAM,CAAC,IAAgB;QACnB,OAAO,oBAAC,qBAAqB,IAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,GAAI,CAAC;IACnG,CAAC;CACJ;AArQG;IADC,sBAAM,EAAC,mBAAmB,CAAC;8BACA,mBAAmB;6CAAC;AAGhD;IADC,sBAAM,EAAC,8BAAa,CAAC;;mDAC0B;AAGhD;IADC,sBAAM,EAAC,mCAAmB,CAAC;8BACM,mCAAmB;mDAAC;AAGtD;IADC,sBAAM,EAAC,8BAAY,CAAC;;kDACyB;AAG9C;IADC,sBAAM,EAAC,kCAAe,CAAC;8BACY,kCAAe;qDAAC;AAGpD;IADC,sBAAM,EAAC,6BAAmB,CAAC;8BACY,6BAAmB;yDAAC;AAG5D;IADC,sBAAM,EAAC,gCAAc,CAAC;;iDACc;AAGrC;IADC,sBAAM,EAAC,sDAAwB,CAAC;8BAChB,sDAAwB;4CAAC;AAG1C;IADC,sBAAM,EAAC,sBAAY,CAAC;8BACY,sBAAY;kDAAC;AAG9C;IADC,sBAAM,EAAC,8BAAa,CAAC;;mDACgB;AAGtC;IADC,sBAAM,EAAC,wBAAe,CAAC;8BACE,wBAAe;qDAAC;AA1CjC,YAAY;IADxB,0BAAU,GAAE;GACA,YAAY,CAiRxB;AAjRY,oCAAY;AAmRzB,MAAsB,6BAAuH,SAAQ,KAAK,CAAC,SAAgB;IAA3K;;QAEa,YAAO,GAAG,KAAK,EAAE,KAAwB,EAAE,EAAE;YAClD,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI;gBACA,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBAC/C,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,MAAM,OAAO,CAAC;aACjB;oBAAS;gBACN,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB;QACL,CAAC,CAAC;QAEO,cAAS,GAAG,KAAK,EAAE,KAAwB,EAAE,EAAE;YACpD,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,eAAe,EAAE,CAAC;YACzB,IAAI;gBACA,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;gBACjD,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,MAAM,OAAO,CAAC;aACjB;oBAAS;gBACN,IAAI,CAAC,WAAW,EAAE,CAAC;aACtB;QACL,CAAC,CAAC;QAEO,iBAAY,GAAG,CAAC,KAAwB,EAAE,EAAE;YACjD,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,eAAe,EAAE,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QACxC,CAAC,CAAC;QAEiB,WAAM,GAAG,CAAC,CAA4C,EAAE,EAAE;YACzE,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC;IA+BN,CAAC;IA7Ba,YAAY,CAAC,IAAiB;;QACpC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QACvD,MAAM,SAAS,GAAG,OAAC,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,CAAC,cAAc,EAAsB,0CAAE,OAAO,MAAK,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QACtG,MAAM,QAAQ,GAAG,CAAC,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACtD,MAAM,SAAS,GAAG,CAAC,CAAC,MAAM,CAAC;QAC3B,MAAM,UAAU,GAAG,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,QAAQ,CAAC,SAAS,CAAC;QAC9C,IAAI,OAAO,EAAE;YACT,OAAO,6BAAK,SAAS,EAAC,sCAAsC,EAAC,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,GAAQ,CAAC;SACjH;QACD,IAAI,IAAI,EAAE;YACN,IAAI,SAAS,EAAE;gBACX,OAAO,gCAAQ,SAAS,EAAC,wCAAwC,IAAE,YAAG,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAU,CAAC;aACtH;YACD,OAAO,gCAAQ,SAAS,EAAC,kDAAkD,IAAE,YAAG,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAU,CAAC;SAC9H;QACD,IAAI,SAAS,EAAE;YACX,OAAO;gBAEC,UAAU;oBACN,CAAC,CAAC,gCAAQ,SAAS,EAAC,qBAAqB,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,IAAG,YAAG,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,CAAU;oBACzH,CAAC,CAAC,gCAAQ,SAAS,EAAC,qBAAqB,EAAC,OAAO,EAAE,IAAI,CAAC,SAAS,IAAG,YAAG,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAU;gBAGxH,6BAAK,SAAS,EAAC,sCAAsC,EAAC,OAAO,EAAE,IAAI,CAAC,MAAM,GAAQ,CAChF,CAAC;SACV;QACD,OAAO,gCAAQ,SAAS,EAAC,+BAA+B,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,IAAG,YAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAU,CAAC;IAChI,CAAC;CAEJ;AAhED,sEAgEC;AAOD,MAAM,iBAAiB,GAAG,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;AAClD,8DAA8D;AAC9D,MAAM,wBAAwB,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,cAAc,EAAE,OAAO,EAAS,CAAC,CAAC;AACzH,MAAM,sBAAsB,GAAG,CAAC,aAAqB,EAAU,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;AACpG,MAAM,qBAAqB,GAAG,CAAC,aAAqB,EAAU,EAAE,CAC5D,YAAG,CAAC,iBAAiB,CAAC,8BAA8B,EAAE,sBAAsB,CAAC,aAAa,CAAC,CAAC,CAAC;AASjG,MAAa,qBAA+F,SAAQ,6BAAoC;IAC3I,MAAM;QACX,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE,OAAO,EAAE,aAAa,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QAE9H,OAAO,6BACH,SAAS,EAAC,8BAA8B,EACxC,YAAY,EAAE,KAAK,CAAC,EAAE;gBAClB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,YAAY,CAAC;oBACjC,OAAO,EAAE,IAAI,uCAAkB,CAAC,OAAO,CAAC;oBACxC,MAAM,EAAE,KAAK,CAAC,aAAa;oBAC3B,QAAQ,EAAE,OAAO;iBACpB,CAAC,CAAC;YACP,CAAC;YAEA,OAAO,CAAC,CAAC;gBACN,6BAAK,SAAS,EAAC,0BAA0B,EAAC,GAAG,EAAE,OAAO,GAAI,CAAC,CAAC;gBAC5D,6BAAK,SAAS,EAAC,sCAAsC,GAAG;YAC5D,6BAAK,SAAS,EAAC,6BAA6B;gBACxC,6BAAK,SAAS,EAAC,OAAO;oBAClB,6BAAK,SAAS,EAAC,YAAY;wBACvB,8BAAM,SAAS,EAAC,MAAM,IAAE,WAAW,CAAQ;;wBAAC,8BAAM,SAAS,EAAC,SAAS,IAAE,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,CAAQ,CAChH;oBACN,6BAAK,SAAS,EAAC,MAAM;wBAChB,CAAC,CAAC,aAAa,IAAI,8BAAM,SAAS,EAAC,gBAAgB;4BAAC,2BAAG,SAAS,EAAE,qBAAO,EAAC,gBAAgB,CAAC,GAAI;4BAAC,wBAAwB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAQ;wBACtJ,CAAC,CAAC,aAAa,IAAI,8BAAM,SAAS,EAAC,gBAAgB;4BAAC,2BAAG,SAAS,EAAE,qBAAO,EAAC,WAAW,CAAC,GAAI;4BAAC,sBAAsB,CAAC,aAAa,CAAC,CAAQ,CACvI,CACJ;gBACN,6BAAK,SAAS,EAAC,4CAA4C,IAAE,WAAW,CAAO;gBAC/E,6BAAK,SAAS,EAAC,gCAAgC;oBAC3C,8BAAM,SAAS,EAAC,0CAA0C,IAAE,SAAS,CAAQ;oBAC5E,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CACjC,CACJ,CACH,CAAC;IACZ,CAAC;CACJ;AAnCD,sDAmCC;AAED,MAAa,2BAA4B,SAAQ,6BAA6B;IAA9E;;QA6FI,4BAA4B;QACnB,aAAQ,GAAG,CAAC,KAAuB,EAAE,EAAE;YAC5C,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;gBACZ,OAAO;aACV;YACD,MAAM,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC;YACxC,IAAI,CAAC,CAAC,MAAM,YAAY,WAAW,CAAC,EAAE;gBAClC,OAAO;aACV;YACD,IAAI,IAAI,GAAG,MAAM,CAAC;YAClB,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,GAAG,EAAE;gBACvC,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EAAE;oBACpB,OAAO;iBACV;gBACD,IAAI,CAAC,CAAC,IAAI,CAAC,aAAa,YAAY,WAAW,CAAC,EAAE;oBAC9C,OAAO;iBACV;gBACD,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;aAC7B;YACD,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACvC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;gBAC/B,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,aAAG,CAAC,IAAI,CAAC,CAAC,CAAC;aAC9C;QACL,CAAC,CAAC;QAEO,kBAAa,GAAG,KAAK,EAAE,CAAmB,EAAE,EAAE;YACnD,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACvC,MAAM,GAAG,GAAG,MAAM,SAAS,CAAC,eAAe,EAAE,CAAC;YAC9C,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC,CAAC;QACO,oBAAe,GAAG,CAAC,CAAmB,EAAE,EAAE;YAC/C,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACvC,IAAI,SAAS,CAAC,SAAS,EAAE;gBACrB,SAAS,CAAC,MAAM,CAAC,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC;aAChD;QACL,CAAC,CAAC;QACO,oBAAe,GAAG,KAAK,EAAE,CAAmB,EAAE,EAAE;YACrD,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACvC,MAAM,QAAQ,GAAG,SAAS,CAAC,WAAW,IAAI,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC;YACzE,IAAI,QAAQ,EAAE;gBACV,SAAS,CAAC,MAAM,CAAC,IAAI,aAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;aACvC;QACL,CAAC,CAAC;QACO,sBAAiB,GAAG,KAAK,EAAE,CAAmB,EAAE,EAAE;YACvD,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACvC,MAAM,GAAG,GAAG,MAAM,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YACvD,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC,CAAC;QACO,mBAAc,GAAG,CAAC,CAAmB,EAAE,EAAE;YAC9C,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACvC,IAAI,SAAS,CAAC,UAAU,EAAE;gBACtB,SAAS,CAAC,MAAM,CAAC,IAAI,aAAG,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;aACnD;QACL,CAAC,CAAC;QACO,gBAAW,GAAG,CAAC,CAAmB,EAAE,EAAE;YAC3C,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,CAAC,CAAC,cAAc,EAAE,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACvC,MAAM,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;YACxC,IAAI,UAAU,EAAE;gBACZ,SAAS,CAAC,MAAM,CAAC,IAAI,aAAG,CAAC,UAAU,CAAC,CAAC,CAAC;aACzC;QACL,CAAC,CAAC;IACN,CAAC;IAxKG,IAAI,eAAe;QACf,OAAO,IAAI,CAAC,gBAAgB,CAAC;IACjC,CAAC;IAEQ,MAAM;QACX,MAAM,EACF,OAAO,EAAE,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE,OAAO,EAC3E,aAAa,EAAE,aAAa,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,EAC5D,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QAEzB,MAAM,eAAe,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAE1E,OAAO,oBAAC,KAAK,CAAC,QAAQ;YAClB,6BAAK,SAAS,EAAC,QAAQ,EAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,SAAS,CAAC;gBAC/D,OAAO,CAAC,CAAC;oBACN,6BAAK,SAAS,EAAC,gBAAgB,EAAC,GAAG,EAAE,OAAO,GAAI,CAAC,CAAC;oBAClD,6BAAK,SAAS,EAAC,4BAA4B,GAAG;gBAClD,6BAAK,SAAS,EAAC,SAAS;oBACpB,6BAAK,SAAS,EAAC,OAAO;wBAClB,8BAAM,KAAK,EAAC,gBAAgB,EAAC,SAAS,EAAC,MAAM,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,IAAG,WAAW,CAAQ;wBAC/F,8BAAM,KAAK,EAAC,sBAAsB,EAAC,SAAS,EAAC,YAAY,IAAE,EAAE,CAAQ;wBACpE,OAAO,IAAI,8BAAM,SAAS,EAAC,SAAS,cAAe;wBACnD,OAAO,IAAI,8BAAM,SAAS,EAAC,SAAS,eAAgB,CACnD;oBACN,6BAAK,SAAS,EAAC,UAAU;wBACrB,8BAAM,KAAK,EAAC,gBAAgB,EAAC,SAAS,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,eAAe;4BAC3E,IAAI,CAAC,qBAAqB,EAAE;4BAC5B,SAAS,CACP;wBACN,CAAC,CAAC,aAAa,IAAI,8BAAM,SAAS,EAAC,gBAAgB,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa;4BAC5E,2BAAG,SAAS,EAAE,qBAAO,EAAC,gBAAgB,CAAC,GAAI;4BAAC,iBAAiB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAQ;wBAE3F,aAAa,KAAK,SAAS;4BAC3B,8BAAM,SAAS,EAAC,gBAAgB,EAAC,KAAK,EAAE,qBAAqB,CAAC,aAAa,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,iBAAiB,IAAG,IAAI,CAAC,WAAW,EAAE,CAAQ;wBAE7I,UAAU,IAAI,8BAAM,SAAS,EAAC,YAAY,EAAC,OAAO,EAAE,IAAI,CAAC,cAAc,iBAAmB;wBAC1F,OAAO,IAAI,8BAAM,SAAS,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,IAAG,OAAO,CAAQ;wBAChF,OAAO,IAAI,8BAAM,SAAS,EAAC,SAAS,IAAE,YAAY,CAAC,aAAa,CAAC,OAAO,CAAC,CAAQ,CAChF;oBACN,6BAAK,SAAS,EAAC,wBAAwB,IAAE,WAAW,CAAO;oBAC1D,IAAI,CAAC,YAAY,EAAE,CAClB,CACJ;YAEF,eAAe;gBACf,6BAAK,SAAS,EAAC,kBAAkB,EAC7B,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,IAAI,SAAS,CAAC;oBACtD,6BAAK,SAAS,EAAC,MAAM,EACjB,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,SAAS,CAAC,EAC1C,OAAO,EAAE,IAAI,CAAC,QAAQ;wBACtB,2CAA2C;wBAC3C,uBAAuB,EAAE,EAAE,MAAM,EAAE,eAAe,EAAE,GACtD,CACA,CAEI,CAAC;IACvB,CAAC;IAES,qBAAqB;QAC3B,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QACzE,IAAI,eAAe,KAAK,SAAS,EAAE;YAC/B,OAAO,SAAS,CAAC;SACpB;QACD,IAAI,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,kBAAkB,WAAW,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;QAC7E,IAAI,IAAI,CAAC;QACT,IAAI,eAAe,KAAK,QAAQ,EAAE;YAC9B,IAAI,GAAG,OAAO,CAAC;YACf,OAAO,GAAG,4BAA4B,SAAS,cAAc,GAAG,OAAO,CAAC;SAC3E;aAAM;YACH,IAAI,GAAG,QAAQ,CAAC;YAChB,OAAO,GAAG,wCAAwC,SAAS,cAAc,GAAG,OAAO,CAAC;SACvF;QACD,OAAO,2BAAG,SAAS,EAAE,GAAG,qBAAO,EAAC,IAAI,CAAC,mBAAmB,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,eAAe,GAAI,CAAC;IAChH,CAAC;IAES,WAAW;QACjB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,IAAI,CAAC,CAAC;QAEvD,MAAM,YAAY,GAAG,CAAC,QAAgB,EAAE,EAAE,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC;YAC3D,2BAAG,SAAS,EAAE,qBAAO,EAAC,WAAW,CAAC,GAAI,CAAC,CAAC;YACxC,QAAQ,GAAG,MAAM,IAAI,QAAQ,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;gBACxC,2BAAG,SAAS,EAAE,qBAAO,EAAC,WAAW,CAAC,GAAI,CAAC,CAAC;gBACxC,2BAAG,SAAS,EAAE,qBAAO,EAAC,YAAY,CAAC,GAAI,CAAC;QAChD,OAAO,oBAAC,KAAK,CAAC,QAAQ;YACjB,YAAY,CAAC,CAAC,CAAC;YAAE,YAAY,CAAC,CAAC,CAAC;YAAE,YAAY,CAAC,CAAC,CAAC;YAAE,YAAY,CAAC,CAAC,CAAC;YAAE,YAAY,CAAC,CAAC,CAAC,CACvE,CAAC;IACtB,CAAC;CAkFJ;AA7KD,kEA6KC;;;;;;;;;;;;;ACrpBD,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;AAEhF,6FAAiC;AACjC,oIAAiF;AACjF,6IAAgE;AAChE,gIAAiE;AACjE,4KAA2F;AAC3F,sLAA6E;AAC7E,2JAA4D;AAG5D,0HAAqD;AAErD,qHAAgF;AAChF,oIAAuF;AACvF,wHAA6G;AAC7G,gPAA0G;AAC1G,sIAAyE;AACzE,gKAA6E;AAC7E,gLAAkG;AAClG,uRAAoH;AACpH,iKAAiE;AAEjE,kKAAoE;AAGpE,IAAa,yBAAyB,GAAtC,MAAa,yBAA0B,SAAQ,4CAAoD;IAa/F;QACI,KAAK,CAAC;YACF,QAAQ,EAAE,0DAA0B,CAAC,EAAE;YACvC,UAAU,EAAE,0DAA0B,CAAC,KAAK;YAC5C,oBAAoB,EAAE;gBAClB,IAAI,EAAE,MAAM;gBACZ,IAAI,EAAE,GAAG;aACZ;YACD,eAAe,EAAE,sBAAsB;YACvC,gBAAgB,EAAE,iBAAiB;SACtC,CAAC,CAAC;IACP,CAAC;IAGS,IAAI;QACV,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,EAAE;YAC3D,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,iBAAiB,CAAC,OAAO,EAAE,CAAC;QAChC,CAAC,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAClC,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,GAAwB;QAC3C,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;IAC7C,CAAC;IAEQ,gBAAgB,CAAC,QAAyB;QAC/C,KAAK,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QACjC,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,SAAS,EAAE;YACtD,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,EAAE;YAC3C,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK;YAC1C,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI;SACxB,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,iBAAiB,EAAE;YAC9D,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE;SACxC,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,uBAAuB,EAAE;YACpE,mFAAmF;YACnF,SAAS,EAAE,CAAC,SAAuB,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,IAAI,CAAC,CAAC,SAAS,CAAC,WAAW;YACrF,OAAO,EAAE,KAAK,EAAE,SAAuB,EAAE,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC;SACpF,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,IAAI,EAAE;YACjD,OAAO,EAAE,CAAC,SAAuB,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;SAC7D,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,iBAAiB,EAAE;YAC9D,OAAO,EAAE,CAAC,SAAuB,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;SACxE,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,aAAa,EAAE;YAC1D,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE;SAC9C,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,cAAc,EAAE;YAC3D,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,uBAAuB,EAAE;SAChD,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,8CAAqB,CAAC,oBAAoB,EAAE;YACjE,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,yBAAyB,EAAE;SAClD,CAAC,CAAC;IACP,CAAC;IAEQ,aAAa,CAAC,KAAwB;QAC3C,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3B,KAAK,CAAC,kBAAkB,CAAC,wCAAwB,CAAC,IAAI,EAAE;YACpD,SAAS,EAAE,8CAAqB,CAAC,IAAI,CAAC,EAAE;YACxC,KAAK,EAAE,YAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC;YACpC,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,KAAK,CAAC,kBAAkB,CAAC,wCAAwB,CAAC,IAAI,EAAE;YACpD,SAAS,EAAE,8CAAqB,CAAC,iBAAiB,CAAC,EAAE;YACrD,KAAK,EAAE,YAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;YACjD,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,KAAK,CAAC,kBAAkB,CAAC,wCAAwB,CAAC,OAAO,EAAE;YACvD,SAAS,EAAE,8CAAqB,CAAC,uBAAuB,CAAC,EAAE;YAC3D,KAAK,EAAE,YAAG,CAAC,iBAAiB,CAAC,4BAA4B,CAAC;SAC7D,CAAC,CAAC;IACP,CAAC;IAED,cAAc,CAAC,MAAqB;QAChC,4GAA4G;QAC5G,MAAM,CAAC,QAAQ,CACX;YACI,EAAE,EAAE,qCAAqC,EAAE,QAAQ,EAAE;gBACjD,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,SAAS;aACnB,EAAE,WAAW,EAAE,qFAAqF;SACxG,EACD;YACI,EAAE,EAAE,qCAAqC,EAAE,QAAQ,EAAE;gBACjD,IAAI,EAAE,aAAK,CAAC,KAAK;gBACjB,KAAK,EAAE,aAAK,CAAC,KAAK;aACrB,EAAE,WAAW,EAAE,qFAAqF;SACxG,EACD;YACI,EAAE,EAAE,0CAA0C,EAAE,QAAQ,EAAE;gBACtD,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,SAAS;aACnB,EAAE,WAAW,EAAE,2FAA2F;SAC9G,EACD;YACI,EAAE,EAAE,iCAAiC,EAAE,QAAQ,EAAE;gBAC7C,IAAI,EAAE,aAAK,CAAC,WAAW,CAAC,SAAS,EAAE,GAAG,CAAC;gBACvC,KAAK,EAAE,aAAK,CAAC,WAAW,CAAC,SAAS,EAAE,GAAG,CAAC;gBACxC,MAAM,EAAE,aAAK,CAAC,KAAK;gBACnB,OAAO,EAAE,aAAK,CAAC,KAAK;aACvB,EAAE,WAAW,EAAE,kEAAkE;SACrF,EACD;YACI,EAAE,EAAE,iCAAiC,EAAE,QAAQ,EAAE;gBAC7C,IAAI,EAAE,aAAK,CAAC,WAAW,CAAC,SAAS,EAAE,GAAG,CAAC;gBACvC,KAAK,EAAE,aAAK,CAAC,WAAW,CAAC,SAAS,EAAE,GAAG,CAAC;gBACxC,MAAM,EAAE,aAAK,CAAC,KAAK;gBACnB,OAAO,EAAE,aAAK,CAAC,KAAK;aACvB,EAAE,WAAW,EAAE,2DAA2D;SAC9E,CACJ,CAAC;IACN,CAAC;IAED;;OAEG;IACO,KAAK,CAAC,eAAe;QAC3B,MAAM,KAAK,GAAwB;YAC/B,KAAK,EAAE,8CAAqB,CAAC,iBAAiB,CAAC,WAAW;YAC1D,SAAS,EAAE,YAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;YACrD,OAAO,EAAE,EAAE,0BAA0B,EAAE,CAAC,MAAM,CAAC,EAAE;YACjD,aAAa,EAAE,KAAK;SACvB,CAAC;QACF,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACxE,IAAI,YAAY,EAAE;YACd,IAAI,YAAY,CAAC,IAAI,CAAC,GAAG,KAAK,OAAO,EAAE;gBACnC,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC/D,IAAI;oBACA,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,oDAAc,CAAC,iBAAiB,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;oBAC7F,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAG,CAAC,iBAAiB,CAAC,+CAA+C,EAAE,aAAa,CAAC,CAAC,CAAC;iBACnH;gBAAC,OAAO,CAAC,EAAE;oBACR,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,YAAG,CAAC,QAAQ,CAAC,yCAAyC,EAAE,kCAAkC,EAAE,aAAa,CAAC,CAAC,CAAC;oBACtI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACnB;aACJ;iBAAM;gBACH,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,YAAG,CAAC,QAAQ,CAAC,gCAAgC,EAAE,mDAAmD,CAAC,CAAC,CAAC;aAClI;SACJ;IACL,CAAC;IAED;;;;OAIG;IACO,KAAK,CAAC,qBAAqB,CAAC,SAAuB;QACzD,MAAM,WAAW,GAAG,SAAS,CAAC,EAAE,CAAC;QACjC,MAAM,cAAc,GAAG,SAAS,CAAC,OAAO,CAAC;QACzC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAC3C,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QAC5D,MAAM,gBAAgB,GAAG,MAAM,MAAM,CAAC,mCAAmC,CAAC,WAAW,CAAC,CAAC;QACvF,IAAI,oBAAoB,GAAsB,EAAE,CAAC;QACjD,IAAI,UAAU,GAAG,SAAS,CAAC;QAC3B,IAAI,gBAAgB,EAAE;YAClB,oBAAoB,GAAG,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,KAAK,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;SAClH;QACD,MAAM,KAAK,GAAoB,oBAAoB,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;;YAC1D,MAAM,IAAI,GAAG;gBACT,KAAK,EAAE,GAAG,CAAC,OAAO;gBAClB,WAAW,EAAE,sBAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,UAAU,CAAC,EAAE,MAAM,EAAE,YAAG,CAAC,MAAM,EAAE,CAAC,mCAAI,EAAE;aACxF,CAAC;YACF,IAAI,cAAc,KAAK,GAAG,CAAC,OAAO,EAAE;gBAChC,IAAI,CAAC,WAAW,IAAI,KAAK,YAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC;gBAC7D,UAAU,GAAG,IAAI,CAAC;aACrB;YACD,OAAO,IAAI,CAAC;QAChB,CAAC,CAAC,CAAC;QACH,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE;YAC5D,WAAW,EAAE,YAAG,CAAC,iBAAiB,CAAC,2BAA2B,CAAC;YAC/D,WAAW,EAAE,KAAK;YAClB,UAAU;SACb,CAAC,CAAC;QACH,IAAI,YAAY,EAAE;YACd,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;YAC/D,IAAI,iBAAiB,EAAE;gBACnB,MAAM,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,YAAY,CAAC,KAAK,CAAC,CAAC;aACnE;SACJ;IACL,CAAC;IAES,KAAK,CAAC,IAAI,CAAC,SAAuB;QACxC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,MAAM,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC;IACjE,CAAC;IAES,eAAe,CAAC,SAAuB;QAC7C,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAClD,CAAC;IAED;;;;;;OAMG;IACO,KAAK,CAAC,aAAa,CAAC,SAAuB,EAAE,eAAuB;QAC1E,IAAI;YACA,MAAM,SAAS,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,mBAAmB,EAAE,IAAI,EAAE,CAAC,CAAC;SACpF;QAAC,WAAM;YACJ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAG,CAAC,QAAQ,CAAC,6EAA6E,EAAE,uCAAuC,EACxJ,eAAe,EAAE,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;YAC7C,OAAO;SACV;QACD,IAAI;YACA,IAAI,SAAS,CAAC,OAAO,KAAK,eAAe,EAAE;gBACvC,MAAM,SAAS,CAAC,SAAS,EAAE,CAAC;aAC/B;SACJ;QAAC,WAAM;YACJ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAG,CAAC,QAAQ,CAAC,+EAA+E,EAAE,0CAA0C,EAC7J,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;SAC/B;IACL,CAAC;IAES,KAAK,CAAC,oBAAoB;;QAChC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,0EAAyB,EAAE,KAAK,CAAC,EAAE;YAC/D,MAAM,WAAW,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;YACzD,KAAK,MAAM,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;gBAC1C,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;aACjC;YACD,IAAI,WAAW,CAAC,IAAI,EAAE;gBAClB,MAAM,OAAO,GAAG,YAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;gBACjD,MAAM,mBAAmB,GAAG,YAAG,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,CAAC;gBAC1E,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAC/C,YAAG,CAAC,iBAAiB,CAAC,wEAAwE,CAAC,EAC/F,OAAO,EACP,mBAAmB,CACtB,CAAC;gBACF,IAAI,YAAY,KAAK,OAAO,EAAE;oBAC1B,KAAK,MAAM,cAAc,IAAI,WAAW,EAAE;wBACtC,UAAI,CAAC,KAAK,CAAC,YAAY,CAAC,cAAc,CAAC,0CAAE,OAAO,EAAE,CAAC;qBACtD;iBACJ;qBAAM,IAAI,YAAY,KAAK,mBAAmB,EAAE;oBAC7C,MAAM,IAAI,CAAC,yBAAyB,EAAE,CAAC;iBAC1C;aACJ;SACJ;IACL,CAAC;IAES,KAAK,CAAC,qBAAqB;QACjC,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,2CAAa,CAAC;IAC5C,CAAC;IAES,KAAK,CAAC,uBAAuB;QACnC,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,6CAAe,CAAC;IAC9C,CAAC;IAES,KAAK,CAAC,yBAAyB;QACrC,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,+CAAiB,CAAC;IAChD,CAAC;CACJ;AA/Q+B;IAA3B,sBAAM,EAAC,yCAAkB,CAAC;8BAA2B,yCAAkB;wDAAC;AAChD;IAAxB,sBAAM,EAAC,yBAAe,CAAC;8BAAqC,yBAAe;kEAAC;AAClD;IAA1B,sBAAM,EAAC,2BAAiB,CAAC;;oEAAyD;AAC3D;IAAvB,sBAAM,EAAC,uBAAc,CAAC;8BAAoC,uBAAc;iEAAC;AACnD;IAAtB,sBAAM,EAAC,uBAAa,CAAC;8BAAmC,uBAAa;gEAAC;AAC7C;IAAzB,sBAAM,EAAC,oCAAgB,CAAC;;mEAAuD;AACrD;IAA1B,sBAAM,EAAC,2BAAiB,CAAC;;oEAAyD;AACvD;IAA3B,sBAAM,EAAC,yCAAkB,CAAC;;iEAAuD;AACvD;IAA1B,sBAAM,EAAC,2BAAiB,CAAC;;6DAAkD;AAgB5E;IADC,6BAAa,GAAE;;;;qDAMf;AAhCQ,yBAAyB;IADrC,0BAAU,GAAE;;GACA,yBAAyB,CAkRrC;AAlRY,8DAAyB;;;;;;;;;;;;;ACxCtC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;AAEhF,oIAAiF;AACjF,iGAAkC;AAClC,iIAA6D;AAC7D,kIAA0D;AAC1D,0HAAuD;AACvD,+IAAiG;AACjG,8KAAyF;AACzF,sIAAoE;AACpE,2JAA0E;AAC1E,gLAAyE;AACzE,+IAA+D;AAC/D,wHAAuF;AACvF,kIAAgE;AAGhE,yIAAqF;AACrF,kKAAoE;AAGpE,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAA/B;QAEuB,uBAAkB,GAAG,IAAI,eAAO,EAAQ,CAAC;QACnD,gBAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;QAuBlC,gBAAW,GAAG,IAAI,uBAAQ,EAAQ,CAAC;QA6CtD;;WAEG;QACgB,eAAU,GAAG,IAAI,GAAG,EAAwB,CAAC;QAEtD,eAAU,GAAG,IAAI,GAAG,EAAU,CAAC;QAc/B,kBAAa,GAAG,IAAI,GAAG,EAAU,CAAC;QAKlC,iBAAY,GAAG,IAAI,GAAG,EAAU,CAAC;QAkCjC,kCAA6B,GAAG,IAAI,sCAAuB,EAAE,CAAC;QAC9D,uBAAkB,GAAG,wBAAQ,EAAC,GAAG,EAAE;YACzC,IAAI,CAAC,6BAA6B,CAAC,MAAM,EAAE,CAAC;YAC5C,IAAI,CAAC,6BAA6B,GAAG,IAAI,sCAAuB,EAAE,CAAC;YACnE,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;YAChC,OAAO,IAAI,CAAC,oBAAoB,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC,CAAC;QACpH,CAAC,EAAE,GAAG,CAAC,CAAC;IAmMZ,CAAC;IA7Sa,KAAK,CAAC,IAAI;QAChB,MAAM,OAAO,CAAC,GAAG,CAAC;YACd,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,eAAe,EAAE;SACzB,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC/B,CAAC;IAES,KAAK,CAAC,aAAa;QACzB,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC;QACnC,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;QACpE,IAAI;YACA,MAAM,IAAI,CAAC,eAAe,EAAE,CAAC;SAChC;QAAC,OAAO,CAAC,EAAE;YACR,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SACpB;IACL,CAAC;IAES,KAAK,CAAC,gBAAgB;QAC5B,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;QAC9D,IAAI;YACA,MAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;SACnC;QAAC,OAAO,CAAC,EAAE;YACR,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SACpB;IACL,CAAC;IAES,KAAK,CAAC,eAAe;QAC3B,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE;YAC1C,IAAI,MAAM,CAAC,cAAc,KAAK,YAAY,EAAE;gBACxC,IAAI,CAAC,iBAAiB,EAAE,CAAC;aAC5B;QACL,CAAC,CAAC,CAAC;QACH,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QAC7B,IAAI;YACA,MAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAClC;QAAC,OAAO,CAAC,EAAE;YACR,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SACpB;IACL,CAAC;IAQD,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IACpC,CAAC;IAED,WAAW,CAAC,EAAU;QAClB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACnC,CAAC;IAGD,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,YAAY,CAAC;IAC7B,CAAC;IAGD,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;IACvC,CAAC;IAGD,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;IACtC,CAAC;IAED,YAAY,CAAC,EAAU;QACnB,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACnC,CAAC;IAES,YAAY,CAAC,EAAU;QAC7B,IAAI,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,SAAS,EAAE;YACZ,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;SACtC;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAIS,QAAQ,CAAI,IAAsB,EAAE,QAA2B,gCAAiB,CAAC,IAAI;QAC3F,OAAO,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,EAAE,KAAK,IAAI,EAAE;YAClE,IAAI,KAAK,IAAI,KAAK,CAAC,uBAAuB,EAAE;gBACxC,OAAO,SAAS,CAAC;aACpB;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;YAC5B,IAAI,KAAK,IAAI,KAAK,CAAC,uBAAuB,EAAE;gBACxC,OAAO,SAAS,CAAC;aACpB;YACD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACxC,OAAO,MAAM,CAAC;QAClB,CAAC,CAAC,CAAC;IACP,CAAC;IASS,oBAAoB,CAAC,KAAqB,EAAE,KAAwB;QAC1E,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE;YAC5B,MAAM,YAAY,GAAG,IAAI,GAAG,EAAU,CAAC;YACvC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;gBACd,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;gBAClC,OAAO;aACV;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;YAC3C,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC;YACjC,IAAI,KAAK,CAAC,uBAAuB,EAAE;gBAC/B,OAAO;aACV;YACD,KAAK,MAAM,IAAI,IAAI,MAAM,CAAC,UAAU,EAAE;gBAClC,MAAM,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;gBACxE,MAAM,SAAS,GAAG,MAAM,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC;gBAC1D,IAAI,CAAC,SAAS,EAAE;oBACZ,SAAS;iBACZ;gBACD,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE;oBAC7C,SAAS,EAAE,IAAI,CAAC,SAAS;oBACzB,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;oBAChC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;oBACxB,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM;oBAC5B,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO;oBAC9B,OAAO,EAAE,SAAS,CAAC,OAAO;iBAC7B,CAAC,CAAC,CAAC;gBACJ,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;aACxB;YACD,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QACtC,CAAC,EAAE,KAAK,CAAC,CAAC;IACd,CAAC;IAES,KAAK,CAAC,eAAe;QAC3B,MAAM,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC;QACtC,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE;YAC5B,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;YAC3C,MAAM,aAAa,GAAG,IAAI,GAAG,EAAU,CAAC;YACxC,MAAM,UAAU,GAAG,EAAE,CAAC;YACtB,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;gBAC1B,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,QAAQ,EAAE;oBACvC,MAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;oBACrC,MAAM,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;oBAC3B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;oBAC3B,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;oBACxC,aAAa,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;oBAChC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;iBAC9C;aACJ;YACD,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE;gBAC9B,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;gBACxC,IAAI,CAAC,SAAS,EAAE;oBAAE,SAAS;iBAAE;gBAC7B,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;aACxD;YACD,MAAM,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,aAAa,EAAE,GAAG,aAAa,CAAC,CAAC,CAAC;YAChE,MAAM,eAAe,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAC3F,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC;YACpD,MAAM,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACP,CAAC;IAES,iBAAiB;QACvB,OAAO,IAAI,CAAC,QAAQ,CAAkC,KAAK,IAAI,EAAE;YAC7D,MAAM,kBAAkB,GAAG,IAAI,GAAG,EAAU,CAAC;YAC7C,MAAM,0BAA0B,GAAG,IAAI,GAAG,EAAU,CAAC;YAErD,MAAM,6BAA6B,GAAG,CAAC,KAAgC,EAAE,IAAU,EAAE,EAAE;gBACnF,MAAM,EAAE,eAAe,EAAE,uBAAuB,EAAE,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAClG,eAAe,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,CAAC,kBAAkB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC;gBAClF,uBAAuB,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAE,CAAC,0BAA0B,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC,CAAC;YACtH,CAAC,CAAC;YAEF,6BAA6B,CAAC,cAAc,CAAC,CAAC,CAAC,yDAAyD;YACxG,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;YAChD,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;gBACtB,6BAA6B,CAAC,sBAAsB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aACxE;YACD,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE;gBAC7B,6BAA6B,CAAC,gBAAgB,CAAC,CAAC;aACnD;YACD,MAAM,iBAAiB,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/G,0BAA0B,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAE,CAAC,iBAAiB,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC,CAAC;YAC/G,IAAI,CAAC,YAAY,GAAG,iBAAiB,CAAC;YACtC,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACtF,CAAC,CAAC,CAAC;IACP,CAAC;IAES,0BAA0B,CAAC,KAAgC,EAAE,IAAU;;QAC7E,MAAM,eAAe,GAAG,UAAI,CAAC,WAAW,CAAC,OAAO,CAAkC,YAAY,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,EAAE,CAAC,0CAAG,KAAK,CAAC,CAAC;QAC3H,OAAO;YACH,eAAe,EAAE,qBAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,eAAe,mCAAI,EAAE;YACvD,uBAAuB,EAAE,qBAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,uBAAuB,mCAAI,EAAE;SAC1E,CAAC;IACN,CAAC;IAED,OAAO,CAAC,EAAU;QACd,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,EAAE;YAC5B,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC;YAC/B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,EAAE;gBACZ,MAAM,IAAI,KAAK,CAAC,qBAAqB,EAAE,aAAa,CAAC,CAAC;aACzD;YACD,IAAI,SAAS,CAAC,SAAS,EAAE;gBACrB,IAAI;oBACA,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;oBAC3C,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;oBAC9D,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;oBAC7C,SAAS,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC;iBAChC;gBAAC,OAAO,CAAC,EAAE;oBACR,IAAI,CAAC,6BAAgB,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,KAAK,GAAG,EAAE;wBACjD,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,sCAAsC,EAAE,CAAC,CAAC,CAAC;qBAClE;iBACJ;aACJ;YACD,OAAO,SAAS,CAAC;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IAES,aAAa,CAAC,cAAsB;QAC1C,MAAM,UAAU,GAAG,UAAU,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QACrE,OAAO,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;IAC1C,CAAC;IAES,KAAK,CAAC,OAAO,CAAC,EAAU,EAAE,OAAgB;QAChD,IAAI;YACA,IAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YACtC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE;gBAChC,OAAO,SAAS,CAAC;aACpB;YACD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;YAC3C,MAAM,IAAI,GAAG,OAAO,KAAK,SAAS;gBAC9B,CAAC,CAAC,MAAM,MAAM,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,gBAAgB,EAAE,OAAO,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC;gBACxF,CAAC,CAAC,MAAM,MAAM,CAAC,mCAAmC,CAAC,EAAE,CAAC,CAAC;YAC3D,IAAI,CAAC,IAAI,EAAE;gBACP,OAAO;aACV;YACD,IAAI,IAAI,CAAC,KAAK,EAAE;gBACZ,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;aAChD;YACD,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YAClC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE;gBACjC,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;gBAChC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;gBACxB,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM;gBAC5B,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO;gBAC9B,OAAO,EAAE,IAAI,CAAC,OAAO;aACxB,CAAC,CAAC,CAAC;YACJ,OAAO,SAAS,CAAC;SACpB;QAAC,OAAO,CAAC,EAAE;YACR,OAAO,IAAI,CAAC,gBAAgB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;SACvC;IACL,CAAC;IAED;;;OAGG;IACO,aAAa,CAAC,SAAwB;QAC5C,IAAI,SAAS,KAAK,SAAS,EAAE;YACzB,OAAO,IAAI,CAAC;SACf;QACD,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC;IAC9B,CAAC;IAES,gBAAgB,CAAC,EAAU,EAAE,KAAc;QACjD,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QACrC,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,EAAE;YAC5B,OAAO,MAAM,CAAC;SACjB;QACD,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,+BAA+B,EAAE,KAAK,CAAC,CAAC;QAC5D,OAAO,SAAS,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACO,iBAAiB,CAAC,CAAS,EAAE,CAAS;QAC5C,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QACxC,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QACxC,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,EAAE;YAC5B,OAAO,CAAC,CAAC;SACZ;QACD,IAAI,UAAU,CAAC,WAAW,IAAI,UAAU,CAAC,WAAW,EAAE;YAClD,OAAO,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;SACvE;QACD,IAAI,UAAU,CAAC,SAAS,IAAI,UAAU,CAAC,SAAS,EAAE;YAC9C,OAAO,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;SACnE;QACD,OAAO,CAAC,CAAC;IACb,CAAC;CAEJ;AApUG;IADC,sBAAM,EAAC,yCAAkB,CAAC;;0DACkB;AAG7C;IADC,sBAAM,EAAC,mCAAmB,CAAC;8BACM,mCAAmB;yDAAC;AAGtD;IADC,sBAAM,EAAC,mCAAmB,CAAC;;4DAC6B;AAGzD;IADC,sBAAM,EAAC,kCAAe,CAAC;8BACY,kCAAe;2DAAC;AAGpD;IADC,sBAAM,EAAC,2BAAiB,CAAC;;uDACwB;AAGlD;IADC,sBAAM,EAAC,0BAAgB,CAAC;8BACY,0BAAgB;4DAAC;AAGtD;IADC,sBAAM,EAAC,sDAAwB,CAAC;8BAChB,sDAAwB;kDAAC;AAK1C;IADC,6BAAa,GAAE;;;;8CAQf;AApCQ,kBAAkB;IAD9B,0BAAU,GAAE;GACA,kBAAkB,CA0U9B;AA1UY,gDAAkB;;;;;;;;;;;;;ACnC/B,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;AAEhF,sHAAkD;AAClD,oIAAiF;AACjF,wIAAuE;AACvE,gLAAyE;AACzE,oHAAiD;AAGjD,IAAa,sBAAsB,GAAnC,MAAa,sBAAuB,SAAQ,qBAAW;IAAvD;;QAyBc,gBAAW,GAAG,CAAC,CAAsC,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;IAoB1G,CAAC;IAvCa,IAAI;QACV,IAAI,CAAC,EAAE,GAAG,2BAA2B,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,iCAAiC,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,KAAa,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;IACjF,CAAC;IAIS,MAAM;QACZ,OAAO,+BAAO,IAAI,EAAC,MAAM,EACrB,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,IAAI,SAAS,EAC7C,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAC9B,UAAU,EAAE,KAAK,EACjB,SAAS,EAAC,aAAa,EACvB,WAAW,EAAE,SAAG,CAAC,QAAQ,CAAC,sCAAsC,EAAE,0BAA0B,EAAE,mBAAmB,CAAC,EAClH,QAAQ,EAAE,IAAI,CAAC,WAAW,GACtB,CAAC;IACb,CAAC;IAIS,gBAAgB,CAAC,IAAY;QACnC,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;SAC3B;IACL,CAAC;IAEkB,iBAAiB,CAAC,GAAY;QAC7C,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;SACtB;IACL,CAAC;IAEkB,aAAa,CAAC,GAAY;QACzC,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;CAEJ;AA1CG;IADC,sBAAM,EAAC,sDAAwB,CAAC;8BACP,sDAAwB;qDAAC;AAGnD;IADC,6BAAa,GAAE;;;;kDAKf;AAVQ,sBAAsB;IADlC,0BAAU,GAAE;GACA,sBAAsB,CA6ClC;AA7CY,wDAAsB;;;;;;;;;;;;;ACvBnC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;AAEhF,oIAA0D;AAC1D,0HAAuD;AAEvD,IAAY,aAOX;AAPD,WAAY,aAAa;IACrB,uDAAO;IACP,iDAAI;IACJ,qDAAM;IACN,2DAAS;IACT,uDAAO;IACP,+DAAW;AACf,CAAC,EAPW,aAAa,GAAb,qBAAa,KAAb,qBAAa,QAOxB;AAEY,qBAAa,GAAG,UAAU,CAAC;AAC3B,uBAAe,GAAG,YAAY,CAAC;AAC/B,yBAAiB,GAAG,cAAc,CAAC;AAGhD,IAAa,wBAAwB,GAArC,MAAa,wBAAwB;IAArC;QAEuB,4BAAuB,GAAG,IAAI,eAAO,EAAU,CAAC;QAC1D,qBAAgB,GAAG,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC;QAC5C,mBAAc,GAAG,IAAI,GAAG,CAAwB;YAC/D,CAAC,qBAAa,EAAE,aAAa,CAAC,OAAO,CAAC;YACtC,CAAC,uBAAe,EAAE,aAAa,CAAC,SAAS,CAAC;YAC1C,CAAC,yBAAiB,EAAE,aAAa,CAAC,WAAW,CAAC;SACjD,CAAC,CAAC;QAEO,WAAM,GAAG,EAAE,CAAC;IAiB1B,CAAC;IAhBG,IAAI,KAAK,CAAC,KAAa;QACnB,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;YACvB,OAAO;SACV;QACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IACD,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,eAAe;;QACX,OAAO,IAAI,CAAC,KAAK;YACb,CAAC,CAAC,UAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,mCAAI,aAAa,CAAC,MAAM;YAC7D,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC;IAC7B,CAAC;CACJ;AA3BY,wBAAwB;IADpC,0BAAU,GAAE;GACA,wBAAwB,CA2BpC;AA3BY,4DAAwB;;;;;;;;;;;;;ACjCrC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;AAEhF,oIAAiF;AACjF,oJAA8E;AAC9E,2JAA4D;AAC5D,6IAAgE;AAGhE,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;CAMtC;AALU,oCAAS,GAAG,WAAW,CAAC;AACxB,mCAAQ,GAAG,SAAS,CAAC;AACrB,wCAAa,GAAG,cAAc,CAAC;AAC/B,sCAAW,GAAG,aAAa,CAAC;AAJ1B,0BAA0B;IADtC,0BAAU,GAAE;GACA,0BAA0B,CAMtC;AANY,gEAA0B;AASvC,IAAa,mBAAmB,GAAhC,MAAa,mBAAoB,SAAQ,wBAAU;IAAnD;;QAcc,0BAAqB,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,GAAG,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IAqCpH,CAAC;IA1Ca,KAAK,CAAC,IAAI;QAChB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,CAAC,CAAC;IACpF,CAAC;IAID,QAAQ;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,CAAC,WAAW;QACR,KAAK,MAAM,EAAE,IAAI,IAAI,CAAC,aAAa,EAAE,EAAE;YACnC,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;YAC9C,IAAI,CAAC,SAAS,EAAE;gBACZ,SAAS;aACZ;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,0BAA0B,CAAC,WAAW,EAAE;gBAC5D,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;oBAC5B,SAAS;iBACZ;aACJ;YACD,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,0BAA0B,CAAC,QAAQ,EAAE;gBACzD,IAAI,SAAS,CAAC,OAAO,EAAE;oBACnB,MAAM,SAAS,CAAC;iBACnB;aACJ;iBAAM,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBAC3B,MAAM,SAAS,CAAC;aACnB;SACJ;IACL,CAAC;IAES,aAAa;QACnB,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,0BAA0B,CAAC,aAAa,EAAE;YAC9D,OAAO,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;SAClC;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,0BAA0B,CAAC,WAAW,EAAE;YAC5D,OAAO,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;SACjC;QACD,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;IAChC,CAAC;CAEJ;AAhDG;IADC,sBAAM,EAAC,0BAA0B,CAAC;8BACP,0BAA0B;oDAAC;AAGvD;IADC,sBAAM,EAAC,yCAAkB,CAAC;8BACD,yCAAkB;kDAAC;AAG7C;IADC,6BAAa,GAAE;;;;+CAIf;AAZQ,mBAAmB;IAD/B,0BAAU,GAAE;GACA,mBAAmB,CAmD/B;AAnDY,kDAAmB;;;;;;;;;;;;;AC/BhC;;;;;;;;;;;;;;mFAcmF;;;;;;;;;;;;;AAEnF,oIAAiF;AACjF,wHAA0G;AAC1G,0KAAqE;AACrE,2JAA4D;AAC5D,gLAA8D;AAC9D,8JAAoE;AACpE,8JAAqE;AACrE,iKAAiE;AACjE,oHAAiD;AAGjD,IAAa,0BAA0B,kCAAvC,MAAa,0BAA2B,SAAQ,uBAAa;IAA7D;;QAKa,gCAA2B,GAAG,IAAI,CAAC;QAoClC,gBAAW,GAAkB,2CAAa,CAAC,OAAO,CAAC;QAC1C,kBAAa,GAAG,IAAI,GAAG,EAAsC,CAAC;IAqGrF,CAAC;IAjIsB,IAAI;QACnB,KAAK,CAAC,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,EAAE,GAAG,4BAA0B,CAAC,EAAE,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,qCAAqC,CAAC,CAAC;QAErD,IAAI,CAAC,eAAe,CAAC;YACjB,KAAK,EAAE,4BAA0B,CAAC,KAAK;YACvC,SAAS,EAAE,qBAAO,EAAC,YAAY,CAAC;YAChC,SAAS,EAAE,IAAI;SAClB,CAAC,CAAC;IACP,CAAC;IAEkB,iBAAiB,CAAC,GAAY;QAC7C,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAEkB,aAAa,CAAC,GAAY;QACzC,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IAC7F,CAAC;IAEkB,eAAe,CAAC,MAAmB;QAClD,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjC,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAKS,UAAU;QAChB,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,eAAe,EAAE,CAAC;QACxD,IAAI,WAAW,KAAK,IAAI,CAAC,WAAW,EAAE;YAClC,OAAO;SACV;QACD,IAAI,IAAI,CAAC,WAAW,KAAK,2CAAa,CAAC,OAAO,EAAE;YAC5C,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;SAClE;QACD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACtD,IAAI,SAAS,EAAE;YACX,KAAK,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;SACnC;aAAM;YACH,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;gBAChC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;aAC9B;SACJ;QAED,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAChD,IAAI,cAAc,aAAd,cAAc,uBAAd,cAAc,CAAE,MAAM,EAAE;YACxB,MAAM,aAAa,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC;YAC9C,MAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;YACzF,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,IAAI,EAAE,CAAC;YAChB,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAEkB,YAAY,CAAC,IAAuB;QACnD,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;IAC/B,CAAC;IAES,eAAe,CAAC,IAAuB;QAC7C,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE;YAC7B,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;aAAM;YACH,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;IACL,CAAC;IAES,gBAAgB,CAAC,IAAuB;QAC9C,MAAM,aAAa,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC/C,IAAI,aAAa,CAAC,MAAM,EAAE;YACtB,OAAO,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SAClD;QACD,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,qDAAyB,EAAC,kDAA0B,CAAC,aAAa,CAAC,CAAC;IACnG,CAAC;IAES,iBAAiB;QACvB,QAAQ,IAAI,CAAC,WAAW,EAAE;YACtB,KAAK,2CAAa,CAAC,OAAO;gBACtB,OAAO,CAAC,qDAAyB,EAAC,kDAA0B,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC5E,KAAK,2CAAa,CAAC,SAAS;gBACxB,OAAO,CAAC,qDAAyB,EAAC,kDAA0B,CAAC,SAAS,CAAC,CAAC,CAAC;YAC7E,KAAK,2CAAa,CAAC,WAAW;gBAC1B,OAAO,CAAC,qDAAyB,EAAC,kDAA0B,CAAC,WAAW,CAAC,CAAC,CAAC;YAC/E,KAAK,2CAAa,CAAC,MAAM;gBACrB,OAAO,CAAC,qDAAyB,EAAC,kDAA0B,CAAC,aAAa,CAAC,CAAC,CAAC;YACjF;gBACI,OAAO,EAAE,CAAC;SACjB;IACL,CAAC;IAED,8DAA8D;IAC3C,YAAY;QAC3B,MAAM,KAAK,GAA8C,EAAE,CAAC;QAC5D,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,EAAE;YAC1C,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAC9C;QACD,OAAO;YACH,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK;YAC9B,KAAK;SACR,CAAC;IACN,CAAC;IAED,8DAA8D;IAC3C,cAAc,CAAC,KAAU;QACxC,wCAAwC;QACxC,KAAK,MAAM,GAAG,IAAI,KAAK,CAAC,KAAK,EAAE;YAC3B,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAkB,CAAC;YAC1C,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;aAC3C;SACJ;QACD,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;IAC1C,CAAC;IAEkB,kBAAkB,CAAC,QAA6B;QAC/D,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QACnC,IAAI,CAAC,mBAAmB,CAAC,8CAAqB,CAAC,iBAAiB,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,8CAAqB,CAAC,iBAAiB,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC;QACnJ,IAAI,CAAC,mBAAmB,CAAC,8CAAqB,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,8CAAqB,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;IACvK,CAAC;IAEkB,6BAA6B;QAC5C,OAAO,IAAI,GAAG,SAAG,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;IACjD,CAAC;CACJ;AA7IU,6BAAE,GAAG,+BAA+B,CAAC;AACrC,gCAAK,GAAG,SAAG,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;AAKnD;IADC,sBAAM,EAAC,kDAAsB,CAAC;8BACD,kDAAsB;6DAAC;AAGrD;IADC,sBAAM,EAAC,yCAAkB,CAAC;8BACD,yCAAkB;yDAAC;AAG7C;IADC,6BAAa,GAAE;;;;sDAWf;AAxBQ,0BAA0B;IADtC,0BAAU,GAAE;GACA,0BAA0B,CA+ItC;AA/IY,gEAA0B;;;;;;;;;;;;;AC3BvC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;;AAEhF,oIAA6F;AAE7F,oJAAuE;AACvE,8JAA0F;AAC1F,oHAAiD;AAEjD,qHAAwD;AACxD,oKAA6E;AAC7E,sHAAkD;AAGlD,IAAa,0BAA0B,GAAvC,MAAa,0BAA2B,SAAQ,kDAA0B;CAEzE;AAFY,0BAA0B;IADtC,0BAAU,GAAE;GACA,0BAA0B,CAEtC;AAFY,gEAA0B;AAIhC,MAAM,yBAAyB,GAAG,CAAC,QAAgB,EAAU,EAAE,CAAC,mBAAmB,CAAC,EAAE,GAAG,GAAG,GAAG,QAAQ,CAAC;AAAlG,iCAAyB,6BAAyE;AAG/G,IAAa,mBAAmB,2BAAhC,MAAa,mBAAoB,SAAQ,8BAAgB;IAAzD;;QAkBc,4BAAuB,GAAG,IAAI,gBAAO,EAAQ,CAAC;QAG9C,mCAA8B,GAAG,IAAI,gBAAO,EAAQ,CAAC;IAkGnE,CAAC;IAnHG,MAAM,CAAC,YAAY,CAAC,MAA4B,EAAE,OAAmC;QACjF,MAAM,KAAK,GAAG,8BAAgB,CAAC,eAAe,CAAC,MAAM,EAAE;YACnD,WAAW,EAAE,KAAK;YAClB,cAAc,EAAE,IAAI;SACvB,CAAC,CAAC;QACH,KAAK,CAAC,IAAI,CAAC,kDAA0B,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAChE,KAAK,CAAC,IAAI,CAAC,2CAAmB,CAAC,CAAC,MAAM,EAAE,CAAC;QACzC,KAAK,CAAC,MAAM,CAAC,8BAAgB,CAAC,CAAC;QAC/B,KAAK,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAChE,KAAK,CAAC,IAAI,CAAC,qBAAmB,CAAC,CAAC,MAAM,EAAE,CAAC;QACzC,OAAO,KAAK,CAAC,GAAG,CAAC,qBAAmB,CAAC,CAAC;IAC1C,CAAC;IAekB,IAAI;;QACnB,KAAK,CAAC,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,CAAC;QAEtC,IAAI,CAAC,EAAE,GAAG,qCAAyB,EAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAErD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC;QAEpC,MAAM,KAAK,GAAG,UAAI,CAAC,OAAO,CAAC,KAAK,mCAAI,IAAI,CAAC,YAAY,EAAE,CAAC;QACxD,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAE3B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,IAAI,EAAE;YACnD,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;QAC3C,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IAED,IAAI,gBAAgB;QAChB,OAAO,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC;IAC9C,CAAC;IAED,IAAI,KAAK;QACL,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,IAAI,KAAK,CAAC,KAAyB;QAC/B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,CAAC;IACxC,CAAC;IAED,IAAI,uBAAuB;QACvB,OAAO,IAAI,CAAC,8BAA8B,CAAC,KAAK,CAAC;IACrD,CAAC;IAED,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IAED,IAAI,YAAY,CAAC,OAA2B;QACxC,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC7B,IAAI,CAAC,8BAA8B,CAAC,IAAI,EAAE,CAAC;IAC/C,CAAC;IAES,YAAY;QAClB,QAAQ,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE;YACrB,KAAK,kDAA0B,CAAC,SAAS;gBACrC,OAAO,SAAG,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;YAC9C,KAAK,kDAA0B,CAAC,QAAQ;gBACpC,OAAO,SAAG,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;YAC7C,KAAK,kDAA0B,CAAC,WAAW;gBACvC,OAAO,SAAG,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC;YAChD,KAAK,kDAA0B,CAAC,aAAa;gBACzC,OAAO,mBAAmB,CAAC;YAC/B;gBACI,OAAO,EAAE,CAAC;SACjB;IACL,CAAC;IAES,KAAK,CAAC,YAAY;;QACxB,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,kDAA0B,CAAC,aAAa,EAAE;YAC9D,MAAM,QAAQ,GAAG,MAAM,WAAI,CAAC,MAAM,0CAAE,WAAW,EAAE,KAAI,EAAE,CAAC;YACxD,OAAO,CAAC,GAAG,QAAQ,CAAC,CAAC,MAAM,CAAC;SAC/B;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAEkB,OAAO,CAAC,IAAe;QACtC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAEkB,mBAAmB;QAClC,gDAAgD;IACpD,CAAC;IAEkB,UAAU,CAAC,KAAgB;QAC1C,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,KAAK,kDAA0B,CAAC,aAAa,EAAE;YAC9D,MAAM,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC;YACjE,IAAI,CAAC,CAAC,WAAW,EAAE;gBACf,MAAM,OAAO,GAAG,SAAG,CAAC,QAAQ,CAAC,kCAAkC,EAAE,4BAA4B,CAAC,CAAC;gBAC/F,OAAO,oBAAC,4BAAY,IAChB,IAAI,EAAC,OAAO,EACZ,MAAM,EAAE,GAAG,OAAO,IAAI,WAAW,EAAE,GACrC,CAAC;aACN;SACJ;QACD,OAAO,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;CACJ;AArHU,sBAAE,GAAG,gBAAgB,CAAC;AAsB7B;IADC,sBAAM,EAAC,0BAA0B,CAAC;8BACP,0BAA0B;oDAAC;AAGvD;IADC,sBAAM,EAAC,2CAAmB,CAAC;8BACS,2CAAmB;6DAAC;AAGzD;IADC,6BAAa,GAAE;;;;+CAiBf;AA9CQ,mBAAmB;IAD/B,0BAAU,GAAE;GACA,mBAAmB,CAuH/B;AAvHY,kDAAmB;;;;;;;;;;;;;AClChC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;;;;;;;;;;AAEhF,wMAA2H;AAC3H,4IAAmF;AACnF,oIAAkE;AAElE,0HAAgE;AAChE,kKAAoE;AAEpE,wLAA2F;AAG3F,IAAa,2BAA2B,GAAxC,MAAa,2BAA4B,SAAQ,sDAAwB;IAWlD,KAAK,CAAC,qBAAqB;QAC1C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;QAC3C,MAAM,YAAY,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC;YACrC,QAAQ,EAAE,gBAAgB;YAC1B,MAAM,EAAE,eAAe;YACvB,SAAS,EAAE,MAAM;YACjB,IAAI,EAAE,EAAE;SACX,CAAC,CAAC;QACH,IAAI,YAAY,CAAC,KAAK,EAAE;YACpB,MAAM,IAAI,KAAK,CAAC,2CAA2C,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;SACrF;QAED,MAAM,kBAAkB,GAAG,MAAM,OAAO,CAAC,GAAG,CACxC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,EAAC,SAAS,EAAC,EAAE,CAAC,CAAC;YAC5C,SAAS;YACT,SAAS,EAAE,MAAM,IAAI,CAAC,sBAAsB,CAAC,SAAS,CAAC;SAC1D,CAAC,CAAC,CACN,CAAC;QAEF,MAAM,SAAS,GAAG,IAAI,GAAG,EAAiC,CAAC;QAE3D,KAAK,MAAM,SAAS,IAAI,kBAAkB,EAAE;YACxC,KAAK,MAAM,wBAAwB,IAAI,SAAS,CAAC,SAAS,EAAE;gBACxD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,UAAU,CAAC,EAAE;oBACrD,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,UAAU,kCAC1C,IAAI,CAAC,2BAA2B,CAAC,wBAAwB,CAAC,KAC7D,OAAO,EAAE,KAAK,IAAI,EAAE;4BAChB,MAAM,YAAY,GAAG,sCAAkB,CAAC,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,CAAC;4BAClH,MAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;wBACjD,CAAC,IACH,CAAC;iBACN;aACJ;SACJ;QACD,OAAO,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAC;IAC1C,CAAC;IAES,KAAK,CAAC,sBAAsB,CAAC,SAAyB;;QAC5D,mFAAmF;QACnF,gEAAgE;QAChE,+EAA+E;QAC/E,MAAM,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC;QAC7C,MAAM,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;QACzE,MAAM,WAAW,GAAG,SAAS,GAAG,eAAe,CAAC;QAChD,IAAI;YACA,MAAM,eAAe,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,GAAG,EAAE,WAAW,EAAE,CAAC,CAAC;YAChF,MAAM,eAAe,GAAG,wBAAc,CAAC,MAAM,CAAgB,eAAe,CAAC,CAAC;YAC9E,MAAM,aAAa,GAAG,2BAAe,CAAC,WAAW,0CAAE,aAAa,mCAAI,EAAE,CAAC;YACvE,OAAO,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBAC3B,UAAU,EAAE,CAAC,CAAC,UAAU;gBACxB,YAAY,EAAE,CAAC,CAAC,YAAY;gBAC5B,qBAAqB,EAAE,CAAC,CAAC,qBAAqB;gBAC9C,YAAY,EAAE,IAAI;aACrB,CAAC,CAAC,CAAC;SACP;QAAC,WAAM;YACJ,iFAAiF;YACjF,OAAO,EAAE,CAAC;SACb;IACL,CAAC;CACJ;AAnEG;IADC,sBAAM,EAAC,yCAAkB,CAAC;;mEAC2B;AAGtD;IADC,sBAAM,EAAC,wBAAc,CAAC;;mEAC2B;AAGlD;IADC,sBAAM,EAAC,yBAAY,CAAC;;iEACyB;AATrC,2BAA2B;IADvC,0BAAU,GAAE;GACA,2BAA2B,CAsEvC;AAtEY,kEAA2B;;;;;;;;;;;;;AC1BxC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;AAEhF,+HAA2C;AAE3C,oIAA+D;AAC/D,wHAEiC;AACjC,sLAA6E;AAC7E,gLAA0E;AAC1E,0KAAqE;AACrE,2JAA4D;AAC5D,uMAA2F;AAC3F,8JAA0F;AAC1F,sIAAyF;AACzF,2JAA4D;AAC5D,mLAA2E;AAC3E,8JAAqE;AACrE,gLAAyE;AACzE,uRAAmH;AACnH,oOAAyG;AACzG,kKAAsF;AACtF,mJAAiF;AACjF,4IAAmE;AACnE,wMAAoG;AACpG,4LAAgF;AAEhF,qBAAe,IAAI,2BAAe,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE;IAC3D,IAAI,CAAqB,yCAAkB,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;QAC9D,MAAM,aAAa,GAAG,2CAAgB,EAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,gCAAc,CAAC,EAAE,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAc,CAAC,CAAC,CAAC;QAC7G,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC;IAC/B,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;IACtB,IAAI,CAAC,gCAAc,CAAC,CAAC,cAAc,CAC/B,GAAG,CAAC,EAAE,CAAC,qCAA2B,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,EAAE,sCAAoB,CAAC,CACtF,CAAC,gBAAgB,EAAE,CAAC;IAErB,IAAI,CAAC,4BAAY,CAAC,CAAC,MAAM,EAAE,CAAC;IAC5B,IAAI,CAAC,mCAAmB,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,MAA2B,EAAE,EAAE;QACvE,MAAM,KAAK,GAAG,GAAG,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAC1C,KAAK,CAAC,IAAI,CAAC,mCAAmB,CAAC,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACxD,OAAO,KAAK,CAAC,GAAG,CAAC,4BAAY,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,yCAAkB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAErD,IAAI,CAAC,yCAAkB,CAAC,CAAC,MAAM,EAAE,CAAC;IAClC,IAAI,CAAC,uBAAa,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACvC,EAAE,EAAE,yCAAkB,CAAC,EAAE;QACzB,YAAY,EAAE,KAAK,EAAE,OAA4B,EAAE,EAAE;YACjD,MAAM,SAAS,GAAG,MAAM,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,yCAAkB,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAClF,MAAM,KAAK,GAAG,GAAG,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC1C,KAAK,CAAC,IAAI,CAAC,4BAAY,CAAC,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;YACpD,OAAO,KAAK,CAAC,GAAG,CAAC,yCAAkB,CAAC,CAAC;QACzC,CAAC;KACJ,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;IACvB,IAAI,CAAC,wDAAyB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC5D,IAAI,CAAC,qBAAW,CAAC,CAAC,SAAS,CAAC,wDAAyB,CAAC,CAAC;IAEvD,IAAI,CAAC,uBAAa,CAAC,CAAC,cAAc,CAAC,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,CAAC,CAAC;QACnD,EAAE,EAAE,2CAAmB,CAAC,EAAE;QAC1B,YAAY,EAAE,KAAK,EAAE,OAAmC,EAAE,EAAE,CAAC,2CAAmB,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC;KACpH,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;IACvB,IAAI,CAAC,uBAAa,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACvC,EAAE,EAAE,0DAA0B,CAAC,EAAE;QACjC,YAAY,EAAE,KAAK,IAAI,EAAE;YACrB,MAAM,KAAK,GAAG,GAAG,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC1C,KAAK,CAAC,IAAI,CAAC,iCAAuB,CAAC,CAAC,eAAe,CAAC;gBAChD,EAAE,EAAE,0DAA0B,CAAC,EAAE;gBACjC,kBAAkB,EAAE,YAAY;aACnC,CAAC,CAAC;YACH,KAAK,CAAC,IAAI,CAAC,0DAA0B,CAAC,CAAC,MAAM,EAAE,CAAC;YAChD,MAAM,aAAa,GAAG,KAAK,CAAC,GAAG,CAAC,0DAA0B,CAAC,CAAC;YAC5D,MAAM,aAAa,GAAG,KAAK,CAAC,GAAG,CAAC,uBAAa,CAAC,CAAC;YAC/C,KAAK,MAAM,EAAE,IAAI;gBACb,kDAA0B,CAAC,aAAa;gBACxC,kDAA0B,CAAC,WAAW;gBACtC,kDAA0B,CAAC,SAAS;gBACpC,kDAA0B,CAAC,QAAQ;aACtC,EAAE;gBACC,MAAM,MAAM,GAAG,MAAM,aAAa,CAAC,iBAAiB,CAAC,2CAAmB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;gBACrF,aAAa,CAAC,SAAS,CAAC,MAAM,EAAE;oBAC5B,kBAAkB,EAAE,EAAE,KAAK,kDAA0B,CAAC,QAAQ;iBACjE,CAAC,CAAC;aACN;YACD,OAAO,aAAa,CAAC;QACzB,CAAC;KACJ,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC;IAEvB,IAAI,CAAC,sDAAwB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC3D,IAAI,CAAC,kDAAsB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAEzD,MAAM,CAAC,sDAAwB,CAAC,CAAC,EAAE,CAAC,6DAA2B,CAAC,CAAC,gBAAgB,EAAE,CAAC;IAEpF,kCAAoB,EAAC,IAAI,EAAE,uDAAyB,CAAC,CAAC;IACtD,IAAI,CAAC,yCAA+B,CAAC,CAAC,SAAS,CAAC,uDAAyB,CAAC,CAAC;IAC3E,IAAI,CAAC,kDAAiB,CAAC,CAAC,SAAS,CAAC,uDAAyB,CAAC,CAAC;IAE7D,6EAAwB,EAAC,IAAI,CAAC,CAAC;IAC/B,mEAA+B,EAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AAClD,CAAC,CAAC,CAAC;;;;;;;;;;;;;AChHH,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;AAGhF,sHAAgD;AAGnC,0BAAkB,GAAG,MAAM,CAAC,oBAAoB,CAAC,CAAC;AAGxD,KAAK,UAAU,gBAAgB,CAAC,cAA8B,EAAE,cAA8B;IACjG,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;QAC3C,cAAc,CAAC,mBAAmB,EAAE;QACpC,cAAc,CAAC,iBAAiB,EAAE;KACrC,CAAC,CAAC;IACH,OAAO,IAAI,wBAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,MAAM,CAAC,QAAQ,EAAE,EAAE,EAAE,cAAc,CAAC,CAAC;AACrF,CAAC;AAND,4CAMC;;;;;;;;;;;;;AC7BD,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,2EAA2E;AAC3E,gFAAgF;;;AAEnE,4BAAoB,GAAG,2BAA2B,CAAC;AAEnD,sBAAc,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;AClBiC;AACxF,YAAsF;;AAEtF;;AAEA;AACA;;AAEA,aAAa,6FAAG,CAAC,yEAAO;;;;AAIxB,iEAAe,yEAAO,aAAa","sources":["webpack:///./node_modules/@theia/vsx-registry/src/browser/style/index.css?./node_modules/css-loader/dist/cjs.js","webpack:///./node_modules/@theia/ovsx-client/src/index.ts?","webpack:///./node_modules/@theia/ovsx-client/src/ovsx-client.ts?","webpack:///./node_modules/@theia/ovsx-client/src/ovsx-types.ts?","webpack:///./node_modules/@theia/ovsx-client/node_modules/semver/semver.js?","webpack:///./node_modules/@theia/preferences/src/browser/index.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/recommended-extensions/preference-provider-overrides.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/recommended-extensions/recommended-extensions-json-schema.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/recommended-extensions/recommended-extensions-preference-contribution.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extension-commands.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extension-editor-manager.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extension-editor.tsx?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extension.tsx?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extensions-contribution.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extensions-model.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extensions-search-bar.tsx?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extensions-search-model.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extensions-source.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extensions-view-container.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-extensions-widget.tsx?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-language-quick-pick-service.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/vsx-registry-frontend-module.ts?","webpack:///./node_modules/@theia/vsx-registry/src/common/ovsx-client-provider.ts?","webpack:///./node_modules/@theia/vsx-registry/src/common/vsx-environment.ts?","webpack:///./node_modules/@theia/vsx-registry/src/browser/style/index.css?"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../../css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"defaultIcon.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n:root {\n  --theia-vsx-extension-icon-size: calc(var(--theia-ui-icon-font-size)*3);\n  --theia-vsx-extension-editor-icon-size: calc(var(--theia-vsx-extension-icon-size)*3);\n}\n\n.theia-vsx-extensions {\n    height: 100%;\n}\n\n.theia-vsx-extension,\n.theia-vsx-extensions-view-container .part > .body {\n    min-height: calc(var(--theia-content-line-height)*3)\n}\n\n.theia-vsx-extensions-search-bar {\n    padding: var(--theia-ui-padding) var(--theia-scrollbar-width) var(--theia-ui-padding) 18px /* expansion toggle padding of tree elements in result list */;\n    display: flex;\n    align-content: center;\n}\n\n.theia-vsx-extensions-search-bar .theia-input {\n    line-height: var(--theia-content-line-height);\n    flex: 1;\n    padding-top: calc(var(--theia-ui-padding)/2);\n    padding-bottom: calc(var(--theia-ui-padding)/2);\n}\n\n.theia-vsx-extension {\n    display: flex;\n    flex-direction: row;\n    line-height: calc(var(--theia-content-line-height)*17/22);\n    align-items: center;\n}\n\n.theia-vsx-extension-icon {\n    height: var(--theia-vsx-extension-icon-size);\n    width: var(--theia-vsx-extension-icon-size);\n    align-self: center;\n    padding-right: calc(var(--theia-ui-padding)*2.5);\n    flex-shrink: 0;\n    object-fit: contain;\n}\n\n.theia-vsx-extension-icon.placeholder {\n    background-size: var(--theia-vsx-extension-icon-size);\n    background-repeat: no-repeat;\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___});\n}\n\n.theia-vsx-extension-content {\n    display: flex;\n    flex-direction: column;\n    width: calc(100% - var(--theia-vsx-extension-icon-size) - var(--theia-ui-padding)*2.5);\n}\n\n.theia-vsx-extension-content .title {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    white-space: nowrap;\n}\n\n.theia-vsx-extension-content .title .name {\n    font-weight: bold;\n}\n\n.theia-vsx-extension-content .title .version,\n.theia-vsx-extension-content .title .stat {\n    opacity: .85;\n    font-size: 80%;\n}\n\n.theia-vsx-extension-content .title .stat .codicon {\n    font-size: 110%;\n}\n\n.theia-vsx-extension-content .title .stat .download-count,\n.theia-vsx-extension-content .title .stat .average-rating {\n    display: inline-flex;\n    align-items: center;\n}\n\n.theia-vsx-extension-content .title .stat .average-rating > i {\n    color: #ff8e00;\n}\n\n.theia-vsx-extension-editor .download-count > i,\n.theia-vsx-extension-content .title .stat .average-rating > i,\n.theia-vsx-extension-content .title .stat .download-count > i {\n    padding-right: calc(var(--theia-ui-padding)/2);\n}\n\n.theia-vsx-extension-content .title .stat .average-rating,\n.theia-vsx-extension-content .title .stat .download-count {\n    padding-left: var(--theia-ui-padding);\n}\n\n.theia-vsx-extension-description {\n    padding-right: calc(var(--theia-ui-padding)*2);\n}\n\n.theia-vsx-extension-publisher {\n    font-weight: 600;\n    font-size: 90%;\n}\n\n.theia-vsx-extension-action-bar {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    white-space: nowrap;\n}\n\n.theia-vsx-extension-action-bar .action {\n    font-size: 90%;\n    min-width: auto !important;\n    padding: 2px var(--theia-ui-padding) !important;\n    margin-top: 2px;\n    vertical-align: middle;\n}\n\n/* Editor Section */\n\n.theia-vsx-extension-editor {\n    height: 100%;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    padding-top: 0;\n    position: relative;\n}\n\n.theia-vsx-extension-editor .header {\n    display: flex;\n    padding: calc(var(--theia-ui-padding) * 3) calc(var(--theia-ui-padding) * 3) calc(var(--theia-ui-padding) * 3);\n    flex-shrink: 0;\n    border-bottom: 1px solid hsla(0, 0% ,50% ,.5);\n    width: 100%;\n    background: var(--theia-editor-background);\n}\n\n.theia-vsx-extension-editor .scroll-container {\n    position: relative;\n    padding-top: 0;\n    max-width: 100%;\n    width: 100%;\n}\n\n.theia-vsx-extension-editor .body {\n    flex: 1;\n    padding: calc(var(--theia-ui-padding)*2);\n    padding-top: 0;\n    max-width: 1000px;\n    margin: 0 auto;\n    line-height: 22px;\n}\n\n.theia-vsx-extension-editor .body h1 {\n    padding-bottom: var(--theia-ui-padding);\n    border-bottom: 1px solid hsla(0, 0%, 50%, .5);\n    margin-top: calc(var(--theia-ui-padding) * 5);\n}\n\n.theia-vsx-extension-editor .body a {\n\ttext-decoration: none;\n}\n\n.theia-vsx-extension-editor .body a:hover {\n\ttext-decoration: underline;\n}\n\n.theia-vsx-extension-editor .body table {\n\tborder-collapse: collapse;\n}\n\n.theia-vsx-extension-editor .body table > thead > tr > th {\n\ttext-align: left;\n\tborder-bottom: 1px solid var(--theia-extensionEditor-tableHeadBorder);\n}\n\n.theia-vsx-extension-editor .body table > thead > tr > th,\n.theia-vsx-extension-editor .body table > thead > tr > td,\n.theia-vsx-extension-editor .body table > tbody > tr > th,\n.theia-vsx-extension-editor .body table > tbody > tr > td {\n\tpadding: 5px 10px;\n}\n\n.theia-vsx-extension-editor .body table > tbody > tr + tr > td {\n\tborder-top: 1px solid var(--theia-extensionEditor-tableCellBorder);\n}\n\n.theia-vsx-extension-editor .scroll-container .body pre {\n    white-space: normal;\n}\n\n.theia-vsx-extension-editor .body img {\n    max-width: 100%;\n}\n\n.theia-vsx-extension-editor .header .icon-container {\n    height: var(--theia-vsx-extension-editor-icon-size);\n    width: var(--theia-vsx-extension-editor-icon-size);\n    align-self: center;\n    padding-right: calc(var(--theia-ui-padding)*2.5);\n    flex-shrink: 0;\n    object-fit: contain;\n}\n\n.theia-vsx-extension-editor .header .icon-container.placeholder {\n    background-size: var(--theia-vsx-extension-editor-icon-size);\n    background-repeat: no-repeat;\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___});\n}\n\n.theia-vsx-extension-editor .header .details {\n    overflow: hidden;\n    user-select: text;\n    -webkit-user-select: text;\n}\n\n.theia-vsx-extension-editor .header .details .title,\n.theia-vsx-extension-editor .header .details .subtitle {\n    display: flex;\n    align-items: center;\n}\n\n.theia-vsx-extension-editor .header .details .title .name {\n    flex: 0;\n    font-size: calc(var(--theia-ui-font-size1)*2);\n    font-weight: 600;\n    white-space: nowrap;\n    cursor: pointer;\n}\n\n.theia-vsx-extension-editor .header .details .title .identifier {\n    margin-left: calc(var(--theia-ui-padding)*5/3);\n    opacity: .6;\n    background: hsla(0,0%,68%,.31);\n    user-select: text;\n    -webkit-user-select: text;\n    white-space: nowrap;\n}\n\n.theia-vsx-extension-editor .header .details .title .preview {\n    background: #d63f26;\n}\n\n.vs .theia-vsx-extension-editor .header .details .title .preview {\n    color: white;\n}\n\n.theia-vsx-extension-editor .header .details .title .identifier,\n.theia-vsx-extension-editor .header .details .title .preview,\n.theia-vsx-extension-editor .header .details .title .builtin {\n    line-height: var(--theia-code-line-height);\n}\n\n.theia-vsx-extension-editor .header .details .title .identifier,\n.theia-vsx-extension-editor .header .details .title .preview {\n    padding: calc(var(--theia-ui-padding)*2/3);\n    padding-top: 0px;\n    padding-bottom: 0px;\n    border-radius: calc(var(--theia-ui-padding)*2/3);\n}\n\n\n.theia-vsx-extension-editor .header .details .title .preview,\n.theia-vsx-extension-editor .header .details .title .builtin {\n    font-size: var(--theia-ui-font-size0);\n    font-style: italic;\n    margin-left: calc(var(--theia-ui-padding)*5/3);\n}\n\n.theia-vsx-extension-editor .header .details .subtitle {\n    padding-top: var(--theia-ui-padding);\n    white-space: nowrap;\n}\n\n.theia-vsx-extension-editor .header .details .subtitle > span {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    line-height: var(--theia-content-line-height);\n    height: var(--theia-content-line-height);\n}\n\n.theia-vsx-extension-editor .header .details .subtitle > span:not(:first-child):not(:empty) {\n    border-left: 1px solid hsla(0,0%,50%,.7);\n    padding-left: calc(var(--theia-ui-padding)*2);\n    margin-left: calc(var(--theia-ui-padding)*2);\n    font-weight: 500;\n}\n\n.theia-vsx-extension-editor .header .details .subtitle .publisher {\n    font-size: var(--theia-ui-font-size3);\n}\n\n.theia-vsx-extension-editor .header .details .subtitle .publisher .namespace-access,\n.theia-vsx-extension-editor .header .details .subtitle .download-count::before {\n    padding-right: var(--theia-ui-padding);\n}\n\n.theia-vsx-extension-editor .header .details .subtitle .average-rating > i {\n    color: #ff8e00;\n}\n\n.theia-vsx-extension-editor .header .details .subtitle .average-rating > i:not(:first-child) {\n    padding-left: calc(var(--theia-ui-padding)/2);\n}\n\n\n.theia-vsx-extension-editor .header .details .description {\n    margin-top: calc(var(--theia-ui-padding)*5/3);\n}\n\n.theia-vsx-extension-editor .action {\n    font-weight: 600;\n    margin-top: calc(var(--theia-ui-padding)*5/3);\n    margin-left: 0px;\n    padding: 1px var(--theia-ui-padding);\n    vertical-align: middle;\n}\n\n/** Theming */\n\n.theia-vsx-extension-editor .action.prominent,\n.theia-vsx-extension-action-bar .action.prominent {\n    color: var(--theia-extensionButton-prominentForeground);\n    background-color: var(--theia-extensionButton-prominentBackground);\n}\n\n.theia-vsx-extension-editor .action.prominent:hover,\n.theia-vsx-extension-action-bar .action.prominent:hover {\n    background-color: var(--theia-extensionButton-prominentHoverBackground);\n}\n\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/@theia/vsx-registry/src/browser/style/index.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2020 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n:root {\\n  --theia-vsx-extension-icon-size: calc(var(--theia-ui-icon-font-size)*3);\\n  --theia-vsx-extension-editor-icon-size: calc(var(--theia-vsx-extension-icon-size)*3);\\n}\\n\\n.theia-vsx-extensions {\\n    height: 100%;\\n}\\n\\n.theia-vsx-extension,\\n.theia-vsx-extensions-view-container .part > .body {\\n    min-height: calc(var(--theia-content-line-height)*3)\\n}\\n\\n.theia-vsx-extensions-search-bar {\\n    padding: var(--theia-ui-padding) var(--theia-scrollbar-width) var(--theia-ui-padding) 18px /* expansion toggle padding of tree elements in result list */;\\n    display: flex;\\n    align-content: center;\\n}\\n\\n.theia-vsx-extensions-search-bar .theia-input {\\n    line-height: var(--theia-content-line-height);\\n    flex: 1;\\n    padding-top: calc(var(--theia-ui-padding)/2);\\n    padding-bottom: calc(var(--theia-ui-padding)/2);\\n}\\n\\n.theia-vsx-extension {\\n    display: flex;\\n    flex-direction: row;\\n    line-height: calc(var(--theia-content-line-height)*17/22);\\n    align-items: center;\\n}\\n\\n.theia-vsx-extension-icon {\\n    height: var(--theia-vsx-extension-icon-size);\\n    width: var(--theia-vsx-extension-icon-size);\\n    align-self: center;\\n    padding-right: calc(var(--theia-ui-padding)*2.5);\\n    flex-shrink: 0;\\n    object-fit: contain;\\n}\\n\\n.theia-vsx-extension-icon.placeholder {\\n    background-size: var(--theia-vsx-extension-icon-size);\\n    background-repeat: no-repeat;\\n    background-image: url('defaultIcon.png');\\n}\\n\\n.theia-vsx-extension-content {\\n    display: flex;\\n    flex-direction: column;\\n    width: calc(100% - var(--theia-vsx-extension-icon-size) - var(--theia-ui-padding)*2.5);\\n}\\n\\n.theia-vsx-extension-content .title {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    white-space: nowrap;\\n}\\n\\n.theia-vsx-extension-content .title .name {\\n    font-weight: bold;\\n}\\n\\n.theia-vsx-extension-content .title .version,\\n.theia-vsx-extension-content .title .stat {\\n    opacity: .85;\\n    font-size: 80%;\\n}\\n\\n.theia-vsx-extension-content .title .stat .codicon {\\n    font-size: 110%;\\n}\\n\\n.theia-vsx-extension-content .title .stat .download-count,\\n.theia-vsx-extension-content .title .stat .average-rating {\\n    display: inline-flex;\\n    align-items: center;\\n}\\n\\n.theia-vsx-extension-content .title .stat .average-rating > i {\\n    color: #ff8e00;\\n}\\n\\n.theia-vsx-extension-editor .download-count > i,\\n.theia-vsx-extension-content .title .stat .average-rating > i,\\n.theia-vsx-extension-content .title .stat .download-count > i {\\n    padding-right: calc(var(--theia-ui-padding)/2);\\n}\\n\\n.theia-vsx-extension-content .title .stat .average-rating,\\n.theia-vsx-extension-content .title .stat .download-count {\\n    padding-left: var(--theia-ui-padding);\\n}\\n\\n.theia-vsx-extension-description {\\n    padding-right: calc(var(--theia-ui-padding)*2);\\n}\\n\\n.theia-vsx-extension-publisher {\\n    font-weight: 600;\\n    font-size: 90%;\\n}\\n\\n.theia-vsx-extension-action-bar {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    white-space: nowrap;\\n}\\n\\n.theia-vsx-extension-action-bar .action {\\n    font-size: 90%;\\n    min-width: auto !important;\\n    padding: 2px var(--theia-ui-padding) !important;\\n    margin-top: 2px;\\n    vertical-align: middle;\\n}\\n\\n/* Editor Section */\\n\\n.theia-vsx-extension-editor {\\n    height: 100%;\\n    overflow: hidden;\\n    display: flex;\\n    flex-direction: column;\\n    padding-top: 0;\\n    position: relative;\\n}\\n\\n.theia-vsx-extension-editor .header {\\n    display: flex;\\n    padding: calc(var(--theia-ui-padding) * 3) calc(var(--theia-ui-padding) * 3) calc(var(--theia-ui-padding) * 3);\\n    flex-shrink: 0;\\n    border-bottom: 1px solid hsla(0, 0% ,50% ,.5);\\n    width: 100%;\\n    background: var(--theia-editor-background);\\n}\\n\\n.theia-vsx-extension-editor .scroll-container {\\n    position: relative;\\n    padding-top: 0;\\n    max-width: 100%;\\n    width: 100%;\\n}\\n\\n.theia-vsx-extension-editor .body {\\n    flex: 1;\\n    padding: calc(var(--theia-ui-padding)*2);\\n    padding-top: 0;\\n    max-width: 1000px;\\n    margin: 0 auto;\\n    line-height: 22px;\\n}\\n\\n.theia-vsx-extension-editor .body h1 {\\n    padding-bottom: var(--theia-ui-padding);\\n    border-bottom: 1px solid hsla(0, 0%, 50%, .5);\\n    margin-top: calc(var(--theia-ui-padding) * 5);\\n}\\n\\n.theia-vsx-extension-editor .body a {\\n\\ttext-decoration: none;\\n}\\n\\n.theia-vsx-extension-editor .body a:hover {\\n\\ttext-decoration: underline;\\n}\\n\\n.theia-vsx-extension-editor .body table {\\n\\tborder-collapse: collapse;\\n}\\n\\n.theia-vsx-extension-editor .body table > thead > tr > th {\\n\\ttext-align: left;\\n\\tborder-bottom: 1px solid var(--theia-extensionEditor-tableHeadBorder);\\n}\\n\\n.theia-vsx-extension-editor .body table > thead > tr > th,\\n.theia-vsx-extension-editor .body table > thead > tr > td,\\n.theia-vsx-extension-editor .body table > tbody > tr > th,\\n.theia-vsx-extension-editor .body table > tbody > tr > td {\\n\\tpadding: 5px 10px;\\n}\\n\\n.theia-vsx-extension-editor .body table > tbody > tr + tr > td {\\n\\tborder-top: 1px solid var(--theia-extensionEditor-tableCellBorder);\\n}\\n\\n.theia-vsx-extension-editor .scroll-container .body pre {\\n    white-space: normal;\\n}\\n\\n.theia-vsx-extension-editor .body img {\\n    max-width: 100%;\\n}\\n\\n.theia-vsx-extension-editor .header .icon-container {\\n    height: var(--theia-vsx-extension-editor-icon-size);\\n    width: var(--theia-vsx-extension-editor-icon-size);\\n    align-self: center;\\n    padding-right: calc(var(--theia-ui-padding)*2.5);\\n    flex-shrink: 0;\\n    object-fit: contain;\\n}\\n\\n.theia-vsx-extension-editor .header .icon-container.placeholder {\\n    background-size: var(--theia-vsx-extension-editor-icon-size);\\n    background-repeat: no-repeat;\\n    background-image: url('defaultIcon.png');\\n}\\n\\n.theia-vsx-extension-editor .header .details {\\n    overflow: hidden;\\n    user-select: text;\\n    -webkit-user-select: text;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title,\\n.theia-vsx-extension-editor .header .details .subtitle {\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .name {\\n    flex: 0;\\n    font-size: calc(var(--theia-ui-font-size1)*2);\\n    font-weight: 600;\\n    white-space: nowrap;\\n    cursor: pointer;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .identifier {\\n    margin-left: calc(var(--theia-ui-padding)*5/3);\\n    opacity: .6;\\n    background: hsla(0,0%,68%,.31);\\n    user-select: text;\\n    -webkit-user-select: text;\\n    white-space: nowrap;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .preview {\\n    background: #d63f26;\\n}\\n\\n.vs .theia-vsx-extension-editor .header .details .title .preview {\\n    color: white;\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .identifier,\\n.theia-vsx-extension-editor .header .details .title .preview,\\n.theia-vsx-extension-editor .header .details .title .builtin {\\n    line-height: var(--theia-code-line-height);\\n}\\n\\n.theia-vsx-extension-editor .header .details .title .identifier,\\n.theia-vsx-extension-editor .header .details .title .preview {\\n    padding: calc(var(--theia-ui-padding)*2/3);\\n    padding-top: 0px;\\n    padding-bottom: 0px;\\n    border-radius: calc(var(--theia-ui-padding)*2/3);\\n}\\n\\n\\n.theia-vsx-extension-editor .header .details .title .preview,\\n.theia-vsx-extension-editor .header .details .title .builtin {\\n    font-size: var(--theia-ui-font-size0);\\n    font-style: italic;\\n    margin-left: calc(var(--theia-ui-padding)*5/3);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle {\\n    padding-top: var(--theia-ui-padding);\\n    white-space: nowrap;\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle > span {\\n    display: flex;\\n    align-items: center;\\n    cursor: pointer;\\n    line-height: var(--theia-content-line-height);\\n    height: var(--theia-content-line-height);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle > span:not(:first-child):not(:empty) {\\n    border-left: 1px solid hsla(0,0%,50%,.7);\\n    padding-left: calc(var(--theia-ui-padding)*2);\\n    margin-left: calc(var(--theia-ui-padding)*2);\\n    font-weight: 500;\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .publisher {\\n    font-size: var(--theia-ui-font-size3);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .publisher .namespace-access,\\n.theia-vsx-extension-editor .header .details .subtitle .download-count::before {\\n    padding-right: var(--theia-ui-padding);\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .average-rating > i {\\n    color: #ff8e00;\\n}\\n\\n.theia-vsx-extension-editor .header .details .subtitle .average-rating > i:not(:first-child) {\\n    padding-left: calc(var(--theia-ui-padding)/2);\\n}\\n\\n\\n.theia-vsx-extension-editor .header .details .description {\\n    margin-top: calc(var(--theia-ui-padding)*5/3);\\n}\\n\\n.theia-vsx-extension-editor .action {\\n    font-weight: 600;\\n    margin-top: calc(var(--theia-ui-padding)*5/3);\\n    margin-left: 0px;\\n    padding: 1px var(--theia-ui-padding);\\n    vertical-align: middle;\\n}\\n\\n/** Theming */\\n\\n.theia-vsx-extension-editor .action.prominent,\\n.theia-vsx-extension-action-bar .action.prominent {\\n    color: var(--theia-extensionButton-prominentForeground);\\n    background-color: var(--theia-extensionButton-prominentBackground);\\n}\\n\\n.theia-vsx-extension-editor .action.prominent:hover,\\n.theia-vsx-extension-action-bar .action.prominent:hover {\\n    background-color: var(--theia-extensionButton-prominentHoverBackground);\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './ovsx-client';\nexport * from './ovsx-types';\n","// *****************************************************************************\n// Copyright (C) 2021 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as semver from 'semver';\nimport {\n    VSXAllVersions,\n    VSXBuiltinNamespaces,\n    VSXExtensionRaw,\n    VSXQueryParam,\n    VSXQueryResult,\n    VSXSearchEntry,\n    VSXSearchParam,\n    VSXSearchResult\n} from './ovsx-types';\nimport { RequestContext, RequestService } from '@theia/request';\n\nexport interface OVSXClientOptions {\n    apiVersion: string\n    apiUrl: string\n}\n\nexport class OVSXClient {\n\n    constructor(readonly options: OVSXClientOptions, protected readonly request: RequestService) { }\n\n    async search(param?: VSXSearchParam): Promise<VSXSearchResult> {\n        const searchUri = await this.buildSearchUri(param);\n        try {\n            return await this.fetchJson<VSXSearchResult>(searchUri);\n        } catch (err) {\n            return {\n                error: err?.message || String(err),\n                offset: 0,\n                extensions: []\n            };\n        }\n    }\n\n    protected async buildSearchUri(param?: VSXSearchParam): Promise<string> {\n        return this.buildUri('api/-/search', param);\n    }\n\n    protected buildQueryUri(param?: VSXQueryParam): string {\n        return this.buildUri('api/-/query', param);\n    }\n\n    protected buildUri(url: string, param?: Object): string {\n        let searchUri = '';\n        if (param) {\n            const query: string[] = [];\n            for (const [key, value] of Object.entries(param)) {\n                if (typeof value === 'string') {\n                    query.push(`${key}=${encodeURIComponent(value)}`);\n                } else if (typeof value === 'boolean' || typeof value === 'number') {\n                    query.push(`${key}=${String(value)}`);\n                }\n            }\n            if (query.length > 0) {\n                searchUri += '?' + query.join('&');\n            }\n        }\n        return new URL(`${url}${searchUri}`, this.options!.apiUrl).toString();\n    }\n\n    async getExtension(id: string, queryParam?: VSXQueryParam): Promise<VSXExtensionRaw> {\n        const param: VSXQueryParam = {\n            ...queryParam,\n            extensionId: id\n        };\n        const apiUri = this.buildQueryUri(param);\n        const result = await this.fetchJson<VSXQueryResult>(apiUri);\n        if (result.extensions && result.extensions.length > 0) {\n            return result.extensions[0];\n        }\n        throw new Error(`Extension with id ${id} not found at ${apiUri}`);\n    }\n\n    /**\n     * Get all versions of the given extension.\n     * @param id the requested extension id.\n     */\n    async getAllVersions(id: string): Promise<VSXExtensionRaw[]> {\n        const param: VSXQueryParam = {\n            extensionId: id,\n            includeAllVersions: true,\n        };\n        const apiUri = this.buildQueryUri(param);\n        const result = await this.fetchJson<VSXQueryResult>(apiUri);\n        if (result.extensions && result.extensions.length > 0) {\n            return result.extensions;\n        }\n        throw new Error(`Extension with id ${id} not found at ${apiUri}`);\n    }\n\n    protected async fetchJson<R>(url: string): Promise<R> {\n        const requestContext = await this.request.request({\n            url,\n            headers: { 'Accept': 'application/json' }\n        });\n        return RequestContext.asJson<R>(requestContext);\n    }\n\n    async fetchText(url: string): Promise<string> {\n        const requestContext = await this.request.request({ url });\n        return RequestContext.asText(requestContext);\n    }\n\n    /**\n     * Get the latest compatible extension version.\n     * - a builtin extension is fetched based on the extension version which matches the API.\n     * - an extension satisfies compatibility if its `engines.vscode` version is supported.\n     * @param id the extension id.\n     *\n     * @returns the data for the latest compatible extension version if available, else `undefined`.\n     */\n    async getLatestCompatibleExtensionVersion(id: string): Promise<VSXExtensionRaw | undefined> {\n        const extensions = await this.getAllVersions(id);\n        if (extensions.length === 0) {\n            return undefined;\n        }\n\n        const namespace = extensions[0].namespace.toLowerCase();\n        if (this.isBuiltinNamespace(namespace)) {\n            const apiVersion = this.options!.apiVersion;\n            for (const extension of extensions) {\n                if (this.isVersionLTE(extension.version, apiVersion)) {\n                    return extension;\n                }\n            }\n            console.log(`Skipping: built-in extension \"${id}\" at version \"${apiVersion}\" does not exist.`);\n        } else {\n            for (const extension of extensions) {\n                if (this.isEngineSupported(extension.engines?.vscode)) {\n                    return extension;\n                }\n            }\n        }\n    }\n\n    /**\n     * Get the latest compatible version of an extension.\n     * @param entry the extension search entry.\n     *\n     * @returns the latest compatible version of an extension if it exists, else `undefined`.\n     */\n    getLatestCompatibleVersion(entry: VSXSearchEntry): VSXAllVersions | undefined {\n        const extensions = entry.allVersions;\n        if (this.isBuiltinNamespace(entry.namespace)) {\n            const apiVersion = this.options!.apiVersion;\n            for (const extension of extensions) {\n                if (this.isVersionLTE(extension.version, apiVersion)) {\n                    return extension;\n                }\n            }\n        } else {\n            for (const extension of extensions) {\n                if (this.isEngineSupported(extension.engines?.vscode)) {\n                    return extension;\n                }\n            }\n        }\n    }\n\n    /**\n     * Determine if the engine is supported by the application.\n     * @param engine the engine.\n     *\n     * @returns `true` if the engine satisfies the API version.\n     */\n    protected isEngineSupported(engine?: string): boolean {\n        if (!engine) {\n            return false;\n        }\n\n        // Determine engine compatibility.\n        if (engine === '*') {\n            return true;\n        } else {\n            return semver.satisfies(this.options!.apiVersion, engine);\n        }\n    }\n\n    /**\n     * Determines if the extension namespace is a builtin maintained by the framework.\n     * @param namespace the extension namespace to verify.\n     */\n    protected isBuiltinNamespace(namespace: string): boolean {\n        return namespace === VSXBuiltinNamespaces.VSCODE\n            || namespace === VSXBuiltinNamespaces.THEIA;\n    }\n\n    /**\n     * Determines if the first version is less than or equal the second version.\n     * - v1 <= v2.\n     * @param a the first semver version.\n     * @param b the second semver version.\n     */\n    protected isVersionLTE(a: string, b: string): boolean {\n        const versionA = semver.clean(a);\n        const versionB = semver.clean(b);\n        if (!versionA || !versionB) {\n            return false;\n        }\n        return semver.lte(versionA, versionB);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * The possible options when performing a search.\n *\n * For available options, and default values consult the `swagger`: https://open-vsx.org/swagger-ui/#/registry-api/searchUsingGET.\n *\n * Should be aligned with https://github.com/eclipse/openvsx/blob/b5694a712e07d266801394916bac30609e16d77b/server/src/main/java/org/eclipse/openvsx/RegistryAPI.java#L246-L266\n */\nexport interface VSXSearchParam {\n    /**\n     * The query text for searching.\n     */\n    query?: string;\n    /**\n     * The extension category.\n     */\n    category?: string;\n    /**\n     * The maximum number of entries to return.\n     */\n    size?: number;\n    /**\n     * The number of entries to skip (usually a multiple of the page size).\n     */\n    offset?: number;\n    /**\n     * The sort order.\n     */\n    sortOrder?: 'asc' | 'desc';\n    /**\n     * The sort key.\n     */\n    sortBy?: 'averageRating' | 'downloadCount' | 'relevance' | 'timestamp';\n    /**\n     * Determines whether to include information regarding all available entries for the entry.\n     */\n    includeAllVersions?: boolean;\n}\n\n/**\n * Should be aligned with https://github.com/eclipse/openvsx/blob/e8f64fe145fc05d2de1469735d50a7a90e400bc4/server/src/main/java/org/eclipse/openvsx/json/SearchResultJson.java\n */\nexport interface VSXSearchResult {\n    readonly error?: string;\n    readonly offset: number;\n    readonly extensions: VSXSearchEntry[];\n}\n\nexport interface VSXAllVersions {\n    url: string,\n    version: string,\n    engines?: {\n        [version: string]: string\n    }\n}\n\n/**\n * Should be aligned with https://github.com/eclipse/openvsx/blob/master/server/src/main/java/org/eclipse/openvsx/json/SearchEntryJson.java\n */\nexport interface VSXSearchEntry {\n    readonly url: string;\n    readonly files: {\n        download: string\n        manifest?: string\n        readme?: string\n        license?: string\n        icon?: string\n    }\n    readonly name: string;\n    readonly namespace: string;\n    readonly version: string;\n    readonly timestamp: string;\n    readonly averageRating?: number;\n    readonly downloadCount: number;\n    readonly displayName?: string;\n    readonly description?: string;\n    readonly allVersions: VSXAllVersions[];\n}\n\nexport type VSXExtensionNamespaceAccess = 'public' | 'restricted';\n\n/**\n * Should be aligned with https://github.com/eclipse/openvsx/blob/master/server/src/main/java/org/eclipse/openvsx/json/UserJson.java\n */\nexport interface VSXUser {\n    loginName: string\n    homepage?: string\n}\n\nexport interface VSXExtensionRawFiles {\n    download: string\n    readme?: string\n    license?: string\n    icon?: string\n}\n\n/**\n * Should be aligned with https://github.com/eclipse/openvsx/blob/master/server/src/main/java/org/eclipse/openvsx/json/ExtensionJson.java\n */\nexport interface VSXExtensionRaw {\n    readonly error?: string;\n    readonly namespaceUrl: string;\n    readonly reviewsUrl: string;\n    readonly name: string;\n    readonly namespace: string;\n    readonly publishedBy: VSXUser\n    readonly namespaceAccess: VSXExtensionNamespaceAccess;\n    readonly files: VSXExtensionRawFiles,\n    readonly allVersions: {\n        [version: string]: string\n    }\n    readonly averageRating?: number;\n    readonly downloadCount: number;\n    readonly reviewCount: number;\n    readonly version: string;\n    readonly timestamp: string;\n    readonly preview?: boolean;\n    readonly displayName?: string;\n    readonly description?: string;\n    readonly categories?: string[];\n    readonly tags?: string[];\n    readonly license?: string;\n    readonly homepage?: string;\n    readonly repository?: string;\n    readonly bugs?: string;\n    readonly markdown?: string;\n    readonly galleryColor?: string;\n    readonly galleryTheme?: string;\n    readonly qna?: string;\n    readonly engines?: { [engine: string]: string };\n}\n\nexport interface VSXQueryParam {\n    namespaceName?: string;\n    extensionName?: string;\n    extensionVersion?: string;\n    extensionId?: string;\n    extensionUuid?: string;\n    namespaceUuid?: string;\n    includeAllVersions?: boolean;\n}\n\nexport interface VSXQueryResult {\n    extensions?: VSXExtensionRaw[];\n}\n\nexport interface VSXResponseError extends Error {\n    statusCode: number\n}\n\nexport namespace VSXResponseError {\n    export function is(error: unknown): error is VSXResponseError {\n        return !!error && typeof error === 'object' && typeof (error as VSXResponseError).statusCode === 'number';\n    }\n}\n\n/**\n * Builtin namespaces maintained by the framework.\n */\nexport namespace VSXBuiltinNamespaces {\n    /**\n     * Namespace for individual vscode builtin extensions.\n     */\n    export const VSCODE = 'vscode';\n    /**\n     * Namespace for vscode builtin extension packs.\n     * - corresponds to: https://github.com/eclipse-theia/vscode-builtin-extensions/blob/af9cfeb2ea23e1668a8340c1c2fb5afd56be07d7/src/create-extension-pack.js#L45\n     */\n    export const THEIA = 'eclipse-theia';\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from '@theia/core/lib/browser/preferences';\nexport * from './abstract-resource-preference-provider';\nexport * from './user-preference-provider';\nexport * from './workspace-preference-provider';\nexport * from './folders-preferences-provider';\nexport * from './folder-preference-provider';\nexport * from './user-configs-preference-provider';\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    FolderPreferenceProvider,\n    FolderPreferenceProviderFactory,\n    FolderPreferenceProviderFolder,\n    UserPreferenceProvider,\n    UserPreferenceProviderFactory\n} from '@theia/preferences/lib/browser';\nimport { Container, injectable, interfaces } from '@theia/core/shared/inversify';\nimport { extensionsConfigurationSchema } from './recommended-extensions-json-schema';\nimport {\n    WorkspaceFilePreferenceProvider,\n    WorkspaceFilePreferenceProviderFactory,\n    WorkspaceFilePreferenceProviderOptions\n} from '@theia/preferences/lib/browser/workspace-file-preference-provider';\nimport { bindFactory } from '@theia/preferences/lib/browser/preference-bindings';\nimport { SectionPreferenceProviderSection, SectionPreferenceProviderUri } from '@theia/preferences/lib/browser/section-preference-provider';\n\n/**\n * The overrides in this file are required because the base preference providers assume that a\n * section name (extensions) will not be used as a prefix (extensions.ignoreRecommendations).\n */\n\n@injectable()\nexport class FolderPreferenceProviderWithExtensions extends FolderPreferenceProvider {\n    protected override getPath(preferenceName: string): string[] | undefined {\n        const path = super.getPath(preferenceName);\n        if (this.section !== 'extensions' || !path?.length) {\n            return path;\n        }\n        const isExtensionsField = path[0] in extensionsConfigurationSchema.properties!;\n        if (isExtensionsField) {\n            return path;\n        }\n        return undefined;\n    }\n}\n\n@injectable()\nexport class UserPreferenceProviderWithExtensions extends UserPreferenceProvider {\n    protected override getPath(preferenceName: string): string[] | undefined {\n        const path = super.getPath(preferenceName);\n        if (this.section !== 'extensions' || !path?.length) {\n            return path;\n        }\n        const isExtensionsField = path[0] in extensionsConfigurationSchema.properties!;\n        if (isExtensionsField) {\n            return path;\n        }\n        return undefined;\n    }\n}\n\n@injectable()\nexport class WorkspaceFilePreferenceProviderWithExtensions extends WorkspaceFilePreferenceProvider {\n    protected override belongsInSection(firstSegment: string, remainder: string): boolean {\n        if (firstSegment === 'extensions') {\n            return remainder in extensionsConfigurationSchema.properties!;\n        }\n        return this.configurations.isSectionName(firstSegment);\n    }\n}\n\nexport function bindPreferenceProviderOverrides(bind: interfaces.Bind, unbind: interfaces.Unbind): void {\n    unbind(UserPreferenceProviderFactory);\n    unbind(FolderPreferenceProviderFactory);\n    unbind(WorkspaceFilePreferenceProviderFactory);\n    bindFactory(bind, UserPreferenceProviderFactory, UserPreferenceProviderWithExtensions, SectionPreferenceProviderUri, SectionPreferenceProviderSection);\n    bindFactory(\n        bind,\n        FolderPreferenceProviderFactory,\n        FolderPreferenceProviderWithExtensions,\n        SectionPreferenceProviderUri,\n        SectionPreferenceProviderSection,\n        FolderPreferenceProviderFolder,\n    );\n    bind(WorkspaceFilePreferenceProviderFactory).toFactory(ctx => (options: WorkspaceFilePreferenceProviderOptions) => {\n        const child = new Container({ defaultScope: 'Singleton' });\n        child.parent = ctx.container;\n        child.bind(WorkspaceFilePreferenceProvider).to(WorkspaceFilePreferenceProviderWithExtensions);\n        child.bind(WorkspaceFilePreferenceProviderOptions).toConstantValue(options);\n        return child.get(WorkspaceFilePreferenceProvider);\n    });\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { InMemoryResources } from '@theia/core';\nimport { JsonSchemaContribution, JsonSchemaRegisterContext } from '@theia/core/lib/browser/json-schema-store';\nimport { IJSONSchema } from '@theia/core/lib/common/json-schema';\nimport URI from '@theia/core/lib/common/uri';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\n\nexport const extensionsSchemaID = 'vscode://schemas/extensions';\nexport const extensionsConfigurationSchema: IJSONSchema = {\n    $id: extensionsSchemaID,\n    default: { recommendations: [] },\n    type: 'object',\n\n    properties: {\n        recommendations: {\n            title: 'A list of extensions recommended for users of this workspace. Should use the form \"<publisher>.<extension name>\"',\n            type: 'array',\n            items: {\n                type: 'string',\n                pattern: '^\\\\w[\\\\w-]+\\\\.\\\\w[\\\\w-]+$',\n                patternErrorMessage: \"Expected format '${publisher}.${name}'. Example: 'eclipse.theia'.\"\n            },\n            default: [],\n        },\n        unwantedRecommendations: {\n            title: 'A list of extensions recommended by default that should not be recommended to users of this workspace. Should use the form \"<publisher>.<extension name>\"',\n            type: 'array',\n            items: {\n                type: 'string',\n                pattern: '^\\\\w[\\\\w-]+\\\\.\\\\w[\\\\w-]+$',\n                patternErrorMessage: \"Expected format '${publisher}.${name}'. Example: 'eclipse.theia'.\"\n            },\n            default: [],\n        }\n    },\n    allowComments: true,\n    allowTrailingCommas: true,\n};\n\n@injectable()\nexport class ExtensionSchemaContribution implements JsonSchemaContribution {\n    protected readonly uri = new URI(extensionsSchemaID);\n    @inject(InMemoryResources) protected readonly inmemoryResources: InMemoryResources;\n    @inject(WorkspaceService) protected readonly workspaceService: WorkspaceService;\n\n    @postConstruct()\n    protected init(): void {\n        this.inmemoryResources.add(this.uri, JSON.stringify(extensionsConfigurationSchema));\n    }\n\n    registerSchemas(context: JsonSchemaRegisterContext): void {\n        context.registerSchema({\n            fileMatch: ['extensions.json'],\n            url: this.uri.toString(),\n        });\n        this.workspaceService.updateSchema('extensions', { $ref: this.uri.toString() });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { createPreferenceProxy, PreferenceContribution, PreferenceSchema, PreferenceScope, PreferenceService } from '@theia/core/lib/browser';\nimport { JsonSchemaContribution } from '@theia/core/lib/browser/json-schema-store';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { PreferenceConfiguration } from '@theia/core/lib/browser/preferences/preference-configurations';\nimport { interfaces } from '@theia/core/shared/inversify';\nimport { ExtensionSchemaContribution, extensionsSchemaID } from './recommended-extensions-json-schema';\n\nexport interface RecommendedExtensions {\n    recommendations?: string[];\n    unwantedRecommendations?: string[];\n}\n\nexport const recommendedExtensionsPreferencesSchema: PreferenceSchema = {\n    type: 'object',\n    scope: PreferenceScope.Folder,\n    properties: {\n        extensions: {\n            $ref: extensionsSchemaID,\n            description: nls.localize('theia/vsx-registry/recommendedExtensions', 'A list of the names of extensions recommended for use in this workspace.'),\n            defaultValue: { recommendations: [] },\n        },\n    },\n};\n\nexport const IGNORE_RECOMMENDATIONS_ID = 'extensions.ignoreRecommendations';\n\nexport const recommendedExtensionNotificationPreferencesSchema: PreferenceSchema = {\n    type: 'object',\n    scope: PreferenceScope.Folder,\n    properties: {\n        [IGNORE_RECOMMENDATIONS_ID]: {\n            description: nls.localize('theia/vsx-registry/showRecommendedExtensions', 'Controls whether notifications are shown for extension recommendations.'),\n            default: false,\n            type: 'boolean'\n        }\n    }\n};\n\nexport const ExtensionNotificationPreferences = Symbol('ExtensionNotificationPreferences');\n\nexport function bindExtensionPreferences(bind: interfaces.Bind): void {\n    bind(ExtensionSchemaContribution).toSelf().inSingletonScope();\n    bind(JsonSchemaContribution).toService(ExtensionSchemaContribution);\n    bind(PreferenceContribution).toConstantValue({ schema: recommendedExtensionsPreferencesSchema });\n    bind(PreferenceConfiguration).toConstantValue({ name: 'extensions' });\n\n    bind(ExtensionNotificationPreferences).toDynamicValue(({ container }) => {\n        const preferenceService = container.get<PreferenceService>(PreferenceService);\n        return createPreferenceProxy(preferenceService, recommendedExtensionNotificationPreferencesSchema);\n    }).inSingletonScope();\n    bind(PreferenceContribution).toConstantValue({ schema: recommendedExtensionNotificationPreferencesSchema });\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from '@theia/core/lib/common/nls';\nimport { codicon } from '@theia/core/lib/browser';\nimport { Command } from '@theia/core/lib/common';\n\nexport namespace VSXExtensionsCommands {\n\n    const EXTENSIONS_CATEGORY = 'Extensions';\n\n    export const CLEAR_ALL = Command.toDefaultLocalizedCommand({\n        id: 'vsxExtensions.clearAll',\n        category: EXTENSIONS_CATEGORY,\n        label: 'Clear Search Results',\n        iconClass: codicon('clear-all')\n    });\n    export const INSTALL_FROM_VSIX: Command & { dialogLabel: string } = {\n        id: 'vsxExtensions.installFromVSIX',\n        category: nls.localizeByDefault(EXTENSIONS_CATEGORY),\n        originalCategory: EXTENSIONS_CATEGORY,\n        originalLabel: 'Install from VSIX...',\n        label: nls.localizeByDefault('Install from VSIX') + '...',\n        dialogLabel: nls.localizeByDefault('Install from VSIX')\n    };\n    export const INSTALL_ANOTHER_VERSION: Command = {\n        id: 'vsxExtensions.installAnotherVersion'\n    };\n    export const COPY: Command = {\n        id: 'vsxExtensions.copy'\n    };\n    export const COPY_EXTENSION_ID: Command = {\n        id: 'vsxExtensions.copyExtensionId'\n    };\n    export const SHOW_BUILTINS = Command.toDefaultLocalizedCommand({\n        id: 'vsxExtension.showBuiltins',\n        label: 'Show Built-in Extensions',\n        category: EXTENSIONS_CATEGORY,\n    });\n    export const SHOW_INSTALLED = Command.toDefaultLocalizedCommand({\n        id: 'vsxExtension.showInstalled',\n        label: 'Show Installed Extensions',\n        category: EXTENSIONS_CATEGORY,\n    });\n    export const SHOW_RECOMMENDATIONS = Command.toDefaultLocalizedCommand({\n        id: 'vsxExtension.showRecommendations',\n        label: 'Show Recommended Extensions',\n        category: EXTENSIONS_CATEGORY,\n    });\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { WidgetOpenHandler } from '@theia/core/lib/browser';\nimport { VSXExtensionOptions } from './vsx-extension';\nimport { VSCodeExtensionUri } from '@theia/plugin-ext-vscode/lib/common/plugin-vscode-uri';\nimport { VSXExtensionEditor } from './vsx-extension-editor';\n\n@injectable()\nexport class VSXExtensionEditorManager extends WidgetOpenHandler<VSXExtensionEditor> {\n\n    readonly id = VSXExtensionEditor.ID;\n\n    canHandle(uri: URI): number {\n        const id = VSCodeExtensionUri.toId(uri);\n        return !!id ? 500 : 0;\n    }\n\n    protected createWidgetOptions(uri: URI): VSXExtensionOptions {\n        const id = VSCodeExtensionUri.toId(uri);\n        if (!id) {\n            throw new Error('Invalid URI: ' + uri.toString());\n        }\n        return { id };\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { ReactWidget, Message, Widget, codicon } from '@theia/core/lib/browser';\nimport { VSXExtension, VSXExtensionEditorComponent } from './vsx-extension';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class VSXExtensionEditor extends ReactWidget {\n\n    static ID = 'vsx-extension-editor';\n\n    @inject(VSXExtension)\n    protected readonly extension: VSXExtension;\n\n    @inject(VSXExtensionsModel)\n    protected readonly model: VSXExtensionsModel;\n\n    protected readonly deferredScrollContainer = new Deferred<HTMLElement>();\n\n    @postConstruct()\n    protected init(): void {\n        this.addClass('theia-vsx-extension-editor');\n        this.id = VSXExtensionEditor.ID + ':' + this.extension.id;\n        this.title.closable = true;\n        this.updateTitle();\n        this.title.iconClass = codicon('list-selection');\n        this.node.tabIndex = -1;\n        this.update();\n        this.toDispose.push(this.model.onDidChange(() => this.update()));\n    }\n\n    override getScrollContainer(): Promise<HTMLElement> {\n        return this.deferredScrollContainer.promise;\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.node.focus();\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        this.updateTitle();\n    }\n\n    protected override onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        this.update();\n    }\n\n    protected updateTitle(): void {\n        const label = nls.localizeByDefault('Extension: {0}', (this.extension.displayName || this.extension.name));\n        this.title.label = label;\n        this.title.caption = label;\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        super.onResize(msg);\n        this.update();\n    };\n\n    protected resolveScrollContainer = (element: VSXExtensionEditorComponent | null) => {\n        if (!element) {\n            this.deferredScrollContainer.reject(new Error('element is null'));\n        } else if (!element.scrollContainer) {\n            this.deferredScrollContainer.reject(new Error('element.scrollContainer is undefined'));\n        } else {\n            this.deferredScrollContainer.resolve(element.scrollContainer);\n        }\n    };\n\n    protected render(): React.ReactNode {\n        return <VSXExtensionEditorComponent\n            ref={this.resolveScrollContainer}\n            extension={this.extension}\n        />;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport * as DOMPurify from '@theia/core/shared/dompurify';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { TreeElement, TreeElementNode } from '@theia/core/lib/browser/source-tree';\nimport { OpenerService, open, OpenerOptions } from '@theia/core/lib/browser/opener-service';\nimport { HostedPluginSupport } from '@theia/plugin-ext/lib/hosted/browser/hosted-plugin';\nimport { PluginServer, DeployedPlugin, PluginType, PluginIdentifiers, PluginDeployOptions } from '@theia/plugin-ext/lib/common/plugin-protocol';\nimport { VSCodeExtensionUri } from '@theia/plugin-ext-vscode/lib/common/plugin-vscode-uri';\nimport { ProgressService } from '@theia/core/lib/common/progress-service';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport { VSXEnvironment } from '../common/vsx-environment';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\nimport { CommandRegistry, MenuPath, nls } from '@theia/core/lib/common';\nimport { codicon, ContextMenuRenderer, HoverService, TreeWidget } from '@theia/core/lib/browser';\nimport { VSXExtensionNamespaceAccess, VSXUser } from '@theia/ovsx-client/lib/ovsx-types';\nimport { WindowService } from '@theia/core/lib/browser/window/window-service';\nimport { MarkdownStringImpl } from '@theia/core/lib/common/markdown-rendering';\n\nexport const EXTENSIONS_CONTEXT_MENU: MenuPath = ['extensions_context_menu'];\n\nexport namespace VSXExtensionsContextMenu {\n    export const INSTALL = [...EXTENSIONS_CONTEXT_MENU, '1_install'];\n    export const COPY = [...EXTENSIONS_CONTEXT_MENU, '2_copy'];\n}\n\n@injectable()\nexport class VSXExtensionData {\n    readonly version?: string;\n    readonly iconUrl?: string;\n    readonly publisher?: string;\n    readonly name?: string;\n    readonly displayName?: string;\n    readonly description?: string;\n    readonly averageRating?: number;\n    readonly downloadCount?: number;\n    readonly downloadUrl?: string;\n    readonly readmeUrl?: string;\n    readonly licenseUrl?: string;\n    readonly repository?: string;\n    readonly license?: string;\n    readonly readme?: string;\n    readonly preview?: boolean;\n    readonly namespaceAccess?: VSXExtensionNamespaceAccess;\n    readonly publishedBy?: VSXUser;\n    static KEYS: Set<(keyof VSXExtensionData)> = new Set([\n        'version',\n        'iconUrl',\n        'publisher',\n        'name',\n        'displayName',\n        'description',\n        'averageRating',\n        'downloadCount',\n        'downloadUrl',\n        'readmeUrl',\n        'licenseUrl',\n        'repository',\n        'license',\n        'readme',\n        'preview',\n        'namespaceAccess',\n        'publishedBy'\n    ]);\n}\n\n@injectable()\nexport class VSXExtensionOptions {\n    readonly id: string;\n}\n\nexport const VSXExtensionFactory = Symbol('VSXExtensionFactory');\nexport type VSXExtensionFactory = (options: VSXExtensionOptions) => VSXExtension;\n\n@injectable()\nexport class VSXExtension implements VSXExtensionData, TreeElement {\n    /**\n     * Ensure the version string begins with `'v'`.\n     */\n    static formatVersion(version: string | undefined): string | undefined {\n        if (version && !version.startsWith('v')) {\n            return `v${version}`;\n        }\n        return version;\n    }\n\n    @inject(VSXExtensionOptions)\n    protected readonly options: VSXExtensionOptions;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(HostedPluginSupport)\n    protected readonly pluginSupport: HostedPluginSupport;\n\n    @inject(PluginServer)\n    protected readonly pluginServer: PluginServer;\n\n    @inject(ProgressService)\n    protected readonly progressService: ProgressService;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    @inject(VSXEnvironment)\n    readonly environment: VSXEnvironment;\n\n    @inject(VSXExtensionsSearchModel)\n    readonly search: VSXExtensionsSearchModel;\n\n    @inject(HoverService)\n    protected readonly hoverService: HoverService;\n\n    @inject(WindowService)\n    readonly windowService: WindowService;\n\n    @inject(CommandRegistry)\n    readonly commandRegistry: CommandRegistry;\n\n    protected readonly data: Partial<VSXExtensionData> = {};\n\n    get uri(): URI {\n        return VSCodeExtensionUri.toUri(this.id);\n    }\n\n    get id(): string {\n        return this.options.id;\n    }\n\n    get visible(): boolean {\n        return !!this.name;\n    }\n\n    get plugin(): DeployedPlugin | undefined {\n        return this.pluginSupport.getPlugin(this.id as PluginIdentifiers.UnversionedId);\n    }\n\n    get installed(): boolean {\n        return !!this.plugin;\n    }\n\n    get builtin(): boolean {\n        return this.plugin?.type === PluginType.System;\n    }\n\n    update(data: Partial<VSXExtensionData>): void {\n        for (const key of VSXExtensionData.KEYS) {\n            if (key in data) {\n                Object.assign(this.data, { [key]: data[key] });\n            }\n        }\n    }\n\n    reloadWindow(): void {\n        this.windowService.reload();\n    }\n\n    protected getData<K extends keyof VSXExtensionData>(key: K): VSXExtensionData[K] {\n        const model = this.plugin?.metadata.model;\n        if (model && key in model) {\n            return model[key as keyof typeof model] as VSXExtensionData[K];\n        }\n        return this.data[key];\n    }\n\n    get iconUrl(): string | undefined {\n        const plugin = this.plugin;\n        const iconUrl = plugin && plugin.metadata.model.iconUrl;\n        if (iconUrl) {\n            return new Endpoint({ path: iconUrl }).getRestUrl().toString();\n        }\n        return this.data['iconUrl'];\n    }\n\n    get publisher(): string | undefined {\n        return this.getData('publisher');\n    }\n\n    get name(): string | undefined {\n        return this.getData('name');\n    }\n\n    get displayName(): string | undefined {\n        return this.getData('displayName') || this.name;\n    }\n\n    get description(): string | undefined {\n        return this.getData('description');\n    }\n\n    get version(): string | undefined {\n        return this.getData('version');\n    }\n\n    get averageRating(): number | undefined {\n        return this.getData('averageRating');\n    }\n\n    get downloadCount(): number | undefined {\n        return this.getData('downloadCount');\n    }\n\n    get downloadUrl(): string | undefined {\n        return this.getData('downloadUrl');\n    }\n\n    get readmeUrl(): string | undefined {\n        const plugin = this.plugin;\n        const readmeUrl = plugin && plugin.metadata.model.readmeUrl;\n        if (readmeUrl) {\n            return new Endpoint({ path: readmeUrl }).getRestUrl().toString();\n        }\n        return this.data['readmeUrl'];\n    }\n\n    get licenseUrl(): string | undefined {\n        let licenseUrl = this.data['licenseUrl'];\n        if (licenseUrl) {\n            return licenseUrl;\n        } else {\n            const plugin = this.plugin;\n            licenseUrl = plugin && plugin.metadata.model.licenseUrl;\n            if (licenseUrl) {\n                return new Endpoint({ path: licenseUrl }).getRestUrl().toString();\n            }\n        }\n    }\n\n    get repository(): string | undefined {\n        return this.getData('repository');\n    }\n\n    get license(): string | undefined {\n        return this.getData('license');\n    }\n\n    get readme(): string | undefined {\n        return this.getData('readme');\n    }\n\n    get preview(): boolean | undefined {\n        return this.getData('preview');\n    }\n\n    get namespaceAccess(): VSXExtensionNamespaceAccess | undefined {\n        return this.getData('namespaceAccess');\n    }\n\n    get publishedBy(): VSXUser | undefined {\n        return this.getData('publishedBy');\n    }\n\n    get tooltip(): string {\n        let md = `__${this.displayName}__ ${VSXExtension.formatVersion(this.version)}\\n\\n${this.description}\\n_____\\n\\n${nls.localizeByDefault('Publisher: {0}', this.publisher)}`;\n\n        if (this.license) {\n            md += `  \\r${nls.localize('theia/vsx-registry/license', 'License: {0}', this.license)}`;\n        }\n\n        if (this.downloadCount) {\n            md += `  \\r${nls.localize('theia/vsx-registry/downloadCount', 'Download count: {0}', downloadCompactFormatter.format(this.downloadCount))}`;\n        }\n\n        if (this.averageRating) {\n            md += `  \\r${getAverageRatingTitle(this.averageRating)}`;\n        }\n\n        return md;\n    }\n\n    protected _busy = 0;\n    get busy(): boolean {\n        return !!this._busy;\n    }\n\n    async install(options?: PluginDeployOptions): Promise<void> {\n        this._busy++;\n        try {\n            await this.progressService.withProgress(nls.localizeByDefault(\"Installing extension '{0}' v{1}...\", this.id, this.version ?? 0), 'extensions', () =>\n                this.pluginServer.deploy(this.uri.toString(), undefined, options)\n            );\n        } finally {\n            this._busy--;\n        }\n    }\n\n    async uninstall(): Promise<void> {\n        this._busy++;\n        try {\n            const { plugin } = this;\n            if (plugin) {\n                await this.progressService.withProgress(\n                    nls.localizeByDefault('Uninstalling {0}...', this.id), 'extensions',\n                    () => this.pluginServer.uninstall(PluginIdentifiers.componentsToVersionedId(plugin.metadata.model))\n                );\n            }\n        } finally {\n            this._busy--;\n        }\n    }\n\n    handleContextMenu(e: React.MouseEvent<HTMLElement, MouseEvent>): void {\n        e.preventDefault();\n        this.contextMenuRenderer.render({\n            menuPath: EXTENSIONS_CONTEXT_MENU,\n            anchor: {\n                x: e.clientX,\n                y: e.clientY,\n            },\n            args: [this]\n        });\n    }\n\n    /**\n     * Get the registry link for the given extension.\n     * @param path the url path.\n     * @returns the registry link for the given extension at the path.\n     */\n    async getRegistryLink(path = ''): Promise<URI> {\n        const uri = new URI(await this.environment.getRegistryUri());\n        return uri.resolve('extension/' + this.id.replace('.', '/')).resolve(path);\n    }\n\n    async serialize(): Promise<string> {\n        const serializedExtension: string[] = [];\n        serializedExtension.push(`Name: ${this.displayName}`);\n        serializedExtension.push(`Id: ${this.id}`);\n        serializedExtension.push(`Description: ${this.description}`);\n        serializedExtension.push(`Version: ${this.version}`);\n        serializedExtension.push(`Publisher: ${this.publisher}`);\n        if (this.downloadUrl !== undefined) {\n            const registryLink = await this.getRegistryLink();\n            serializedExtension.push(`Open VSX Link: ${registryLink.toString()}`);\n        };\n        return serializedExtension.join('\\n');\n    }\n\n    async open(options: OpenerOptions = { mode: 'reveal' }): Promise<void> {\n        await this.doOpen(this.uri, options);\n    }\n\n    async doOpen(uri: URI, options?: OpenerOptions): Promise<void> {\n        await open(this.openerService, uri, options);\n    }\n\n    render(host: TreeWidget): React.ReactNode {\n        return <VSXExtensionComponent extension={this} host={host} hoverService={this.hoverService} />;\n    }\n}\n\nexport abstract class AbstractVSXExtensionComponent<Props extends AbstractVSXExtensionComponent.Props = AbstractVSXExtensionComponent.Props> extends React.Component<Props> {\n\n    readonly install = async (event?: React.MouseEvent) => {\n        event?.stopPropagation();\n        this.forceUpdate();\n        try {\n            const pending = this.props.extension.install();\n            this.forceUpdate();\n            await pending;\n        } finally {\n            this.forceUpdate();\n        }\n    };\n\n    readonly uninstall = async (event?: React.MouseEvent) => {\n        event?.stopPropagation();\n        try {\n            const pending = this.props.extension.uninstall();\n            this.forceUpdate();\n            await pending;\n        } finally {\n            this.forceUpdate();\n        }\n    };\n\n    readonly reloadWindow = (event?: React.MouseEvent) => {\n        event?.stopPropagation();\n        this.props.extension.reloadWindow();\n    };\n\n    protected readonly manage = (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\n        e.stopPropagation();\n        this.props.extension.handleContextMenu(e);\n    };\n\n    protected renderAction(host?: TreeWidget): React.ReactNode {\n        const { builtin, busy, plugin } = this.props.extension;\n        const isFocused = (host?.model.getFocusedNode() as TreeElementNode)?.element === this.props.extension;\n        const tabIndex = (!host || isFocused) ? 0 : undefined;\n        const installed = !!plugin;\n        const outOfSynch = plugin?.metadata.outOfSync;\n        if (builtin) {\n            return <div className=\"codicon codicon-settings-gear action\" tabIndex={tabIndex} onClick={this.manage}></div>;\n        }\n        if (busy) {\n            if (installed) {\n                return <button className=\"theia-button action theia-mod-disabled\">{nls.localizeByDefault('Uninstalling')}</button>;\n            }\n            return <button className=\"theia-button action prominent theia-mod-disabled\">{nls.localizeByDefault('Installing')}</button>;\n        }\n        if (installed) {\n            return <div>\n                {\n                    outOfSynch\n                        ? <button className=\"theia-button action\" onClick={this.reloadWindow}>{nls.localizeByDefault('Reload Required')}</button>\n                        : <button className=\"theia-button action\" onClick={this.uninstall}>{nls.localizeByDefault('Uninstall')}</button>\n                }\n\n                <div className=\"codicon codicon-settings-gear action\" onClick={this.manage}></div>\n            </div>;\n        }\n        return <button className=\"theia-button prominent action\" onClick={this.install}>{nls.localizeByDefault('Install')}</button>;\n    }\n\n}\nexport namespace AbstractVSXExtensionComponent {\n    export interface Props {\n        extension: VSXExtension;\n    }\n}\n\nconst downloadFormatter = new Intl.NumberFormat();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst downloadCompactFormatter = new Intl.NumberFormat('en-US', { notation: 'compact', compactDisplay: 'short' } as any);\nconst averageRatingFormatter = (averageRating: number): number => Math.round(averageRating * 2) / 2;\nconst getAverageRatingTitle = (averageRating: number): string =>\n    nls.localizeByDefault('Average rating: {0} out of 5', averageRatingFormatter(averageRating));\n\nexport namespace VSXExtensionComponent {\n    export interface Props extends AbstractVSXExtensionComponent.Props {\n        host: TreeWidget;\n        hoverService: HoverService;\n    }\n}\n\nexport class VSXExtensionComponent<Props extends VSXExtensionComponent.Props = VSXExtensionComponent.Props> extends AbstractVSXExtensionComponent<Props> {\n    override render(): React.ReactNode {\n        const { iconUrl, publisher, displayName, description, version, downloadCount, averageRating, tooltip } = this.props.extension;\n\n        return <div\n            className='theia-vsx-extension noselect'\n            onMouseEnter={event => {\n                this.props.hoverService.requestHover({\n                    content: new MarkdownStringImpl(tooltip),\n                    target: event.currentTarget,\n                    position: 'right'\n                });\n            }}\n        >\n            {iconUrl ?\n                <img className='theia-vsx-extension-icon' src={iconUrl} /> :\n                <div className='theia-vsx-extension-icon placeholder' />}\n            <div className='theia-vsx-extension-content'>\n                <div className='title'>\n                    <div className='noWrapInfo'>\n                        <span className='name'>{displayName}</span> <span className='version'>{VSXExtension.formatVersion(version)}</span>\n                    </div>\n                    <div className='stat'>\n                        {!!downloadCount && <span className='download-count'><i className={codicon('cloud-download')} />{downloadCompactFormatter.format(downloadCount)}</span>}\n                        {!!averageRating && <span className='average-rating'><i className={codicon('star-full')} />{averageRatingFormatter(averageRating)}</span>}\n                    </div>\n                </div>\n                <div className='noWrapInfo theia-vsx-extension-description'>{description}</div>\n                <div className='theia-vsx-extension-action-bar'>\n                    <span className='noWrapInfo theia-vsx-extension-publisher'>{publisher}</span>\n                    {this.renderAction(this.props.host)}\n                </div>\n            </div>\n        </div >;\n    }\n}\n\nexport class VSXExtensionEditorComponent extends AbstractVSXExtensionComponent {\n    protected header: HTMLElement | undefined;\n    protected body: HTMLElement | undefined;\n    protected _scrollContainer: HTMLElement | undefined;\n\n    get scrollContainer(): HTMLElement | undefined {\n        return this._scrollContainer;\n    }\n\n    override render(): React.ReactNode {\n        const {\n            builtin, preview, id, iconUrl, publisher, displayName, description, version,\n            averageRating, downloadCount, repository, license, readme\n        } = this.props.extension;\n\n        const sanitizedReadme = !!readme ? DOMPurify.sanitize(readme) : undefined;\n\n        return <React.Fragment>\n            <div className='header' ref={ref => this.header = (ref || undefined)}>\n                {iconUrl ?\n                    <img className='icon-container' src={iconUrl} /> :\n                    <div className='icon-container placeholder' />}\n                <div className='details'>\n                    <div className='title'>\n                        <span title='Extension name' className='name' onClick={this.openExtension}>{displayName}</span>\n                        <span title='Extension identifier' className='identifier'>{id}</span>\n                        {preview && <span className='preview'>Preview</span>}\n                        {builtin && <span className='builtin'>Built-in</span>}\n                    </div>\n                    <div className='subtitle'>\n                        <span title='Publisher name' className='publisher' onClick={this.searchPublisher}>\n                            {this.renderNamespaceAccess()}\n                            {publisher}\n                        </span>\n                        {!!downloadCount && <span className='download-count' onClick={this.openExtension}>\n                            <i className={codicon('cloud-download')} />{downloadFormatter.format(downloadCount)}</span>}\n                        {\n                            averageRating !== undefined &&\n                            <span className='average-rating' title={getAverageRatingTitle(averageRating)} onClick={this.openAverageRating}>{this.renderStars()}</span>\n                        }\n                        {repository && <span className='repository' onClick={this.openRepository}>Repository</span>}\n                        {license && <span className='license' onClick={this.openLicense}>{license}</span>}\n                        {version && <span className='version'>{VSXExtension.formatVersion(version)}</span>}\n                    </div>\n                    <div className='description noWrapInfo'>{description}</div>\n                    {this.renderAction()}\n                </div>\n            </div>\n            {\n                sanitizedReadme &&\n                <div className='scroll-container'\n                    ref={ref => this._scrollContainer = (ref || undefined)}>\n                    <div className='body'\n                        ref={ref => this.body = (ref || undefined)}\n                        onClick={this.openLink}\n                        // eslint-disable-next-line react/no-danger\n                        dangerouslySetInnerHTML={{ __html: sanitizedReadme }}\n                    />\n                </div>\n            }\n        </React.Fragment >;\n    }\n\n    protected renderNamespaceAccess(): React.ReactNode {\n        const { publisher, namespaceAccess, publishedBy } = this.props.extension;\n        if (namespaceAccess === undefined) {\n            return undefined;\n        }\n        let tooltip = publishedBy ? ` Published by \"${publishedBy.loginName}\".` : '';\n        let icon;\n        if (namespaceAccess === 'public') {\n            icon = 'globe';\n            tooltip = `Everyone can publish to \"${publisher}\" namespace.` + tooltip;\n        } else {\n            icon = 'shield';\n            tooltip = `Only verified owners can publish to \"${publisher}\" namespace.` + tooltip;\n        }\n        return <i className={`${codicon(icon)} namespace-access`} title={tooltip} onClick={this.openPublishedBy} />;\n    }\n\n    protected renderStars(): React.ReactNode {\n        const rating = this.props.extension.averageRating || 0;\n\n        const renderStarAt = (position: number) => position <= rating ?\n            <i className={codicon('star-full')} /> :\n            position > rating && position - rating < 1 ?\n                <i className={codicon('star-half')} /> :\n                <i className={codicon('star-empty')} />;\n        return <React.Fragment>\n            {renderStarAt(1)}{renderStarAt(2)}{renderStarAt(3)}{renderStarAt(4)}{renderStarAt(5)}\n        </React.Fragment>;\n    }\n\n    // TODO replace with webview\n    readonly openLink = (event: React.MouseEvent) => {\n        if (!this.body) {\n            return;\n        }\n        const target = event.nativeEvent.target;\n        if (!(target instanceof HTMLElement)) {\n            return;\n        }\n        let node = target;\n        while (node.tagName.toLowerCase() !== 'a') {\n            if (node === this.body) {\n                return;\n            }\n            if (!(node.parentElement instanceof HTMLElement)) {\n                return;\n            }\n            node = node.parentElement;\n        }\n        const href = node.getAttribute('href');\n        if (href && !href.startsWith('#')) {\n            event.preventDefault();\n            this.props.extension.doOpen(new URI(href));\n        }\n    };\n\n    readonly openExtension = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const uri = await extension.getRegistryLink();\n        extension.doOpen(uri);\n    };\n    readonly searchPublisher = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        if (extension.publisher) {\n            extension.search.query = extension.publisher;\n        }\n    };\n    readonly openPublishedBy = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const homepage = extension.publishedBy && extension.publishedBy.homepage;\n        if (homepage) {\n            extension.doOpen(new URI(homepage));\n        }\n    };\n    readonly openAverageRating = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const uri = await extension.getRegistryLink('reviews');\n        extension.doOpen(uri);\n    };\n    readonly openRepository = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        if (extension.repository) {\n            extension.doOpen(new URI(extension.repository));\n        }\n    };\n    readonly openLicense = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const extension = this.props.extension;\n        const licenseUrl = extension.licenseUrl;\n        if (licenseUrl) {\n            extension.doOpen(new URI(licenseUrl));\n        }\n    };\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { DateTime } from 'luxon';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport debounce = require('@theia/core/shared/lodash.debounce');\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { AbstractViewContribution } from '@theia/core/lib/browser/shell/view-contribution';\nimport { VSXExtensionsViewContainer } from './vsx-extensions-view-container';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\nimport { ColorContribution } from '@theia/core/lib/browser/color-application-contribution';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { Color } from '@theia/core/lib/common/color';\nimport { FrontendApplicationContribution, FrontendApplication } from '@theia/core/lib/browser/frontend-application';\nimport { MenuModelRegistry, MessageService, nls } from '@theia/core/lib/common';\nimport { FileDialogService, OpenFileDialogProps } from '@theia/filesystem/lib/browser';\nimport { LabelProvider, PreferenceService, QuickPickItem, QuickInputService } from '@theia/core/lib/browser';\nimport { VscodeCommands } from '@theia/plugin-ext-vscode/lib/browser/plugin-vscode-commands-contribution';\nimport { VSXExtensionsContextMenu, VSXExtension } from './vsx-extension';\nimport { ClipboardService } from '@theia/core/lib/browser/clipboard-service';\nimport { BUILTIN_QUERY, INSTALLED_QUERY, RECOMMENDED_QUERY } from './vsx-extensions-search-model';\nimport { IGNORE_RECOMMENDATIONS_ID } from './recommended-extensions/recommended-extensions-preference-contribution';\nimport { VSXExtensionsCommands } from './vsx-extension-commands';\nimport { VSXExtensionRaw } from '@theia/ovsx-client';\nimport { OVSXClientProvider } from '../common/ovsx-client-provider';\n\n@injectable()\nexport class VSXExtensionsContribution extends AbstractViewContribution<VSXExtensionsViewContainer>\n    implements ColorContribution, FrontendApplicationContribution {\n\n    @inject(VSXExtensionsModel) protected readonly model: VSXExtensionsModel;\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n    @inject(FileDialogService) protected readonly fileDialogService: FileDialogService;\n    @inject(MessageService) protected readonly messageService: MessageService;\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(ClipboardService) protected readonly clipboardService: ClipboardService;\n    @inject(PreferenceService) protected readonly preferenceService: PreferenceService;\n    @inject(OVSXClientProvider) protected readonly clientProvider: OVSXClientProvider;\n    @inject(QuickInputService) protected readonly quickInput: QuickInputService;\n\n    constructor() {\n        super({\n            widgetId: VSXExtensionsViewContainer.ID,\n            widgetName: VSXExtensionsViewContainer.LABEL,\n            defaultWidgetOptions: {\n                area: 'left',\n                rank: 500\n            },\n            toggleCommandId: 'vsxExtensions.toggle',\n            toggleKeybinding: 'ctrlcmd+shift+x'\n        });\n    }\n\n    @postConstruct()\n    protected init(): void {\n        const oneShotDisposable = this.model.onDidChange(debounce(() => {\n            this.showRecommendedToast();\n            oneShotDisposable.dispose();\n        }, 5000, { trailing: true }));\n    }\n\n    async initializeLayout(app: FrontendApplication): Promise<void> {\n        await this.openView({ activate: false });\n    }\n\n    override registerCommands(commands: CommandRegistry): void {\n        super.registerCommands(commands);\n        commands.registerCommand(VSXExtensionsCommands.CLEAR_ALL, {\n            execute: () => this.model.search.query = '',\n            isEnabled: () => !!this.model.search.query,\n            isVisible: () => true,\n        });\n\n        commands.registerCommand(VSXExtensionsCommands.INSTALL_FROM_VSIX, {\n            execute: () => this.installFromVSIX()\n        });\n\n        commands.registerCommand(VSXExtensionsCommands.INSTALL_ANOTHER_VERSION, {\n            // Check downloadUrl to ensure we have an idea of where to look for other versions.\n            isEnabled: (extension: VSXExtension) => !extension.builtin && !!extension.downloadUrl,\n            execute: async (extension: VSXExtension) => this.installAnotherVersion(extension),\n        });\n\n        commands.registerCommand(VSXExtensionsCommands.COPY, {\n            execute: (extension: VSXExtension) => this.copy(extension)\n        });\n\n        commands.registerCommand(VSXExtensionsCommands.COPY_EXTENSION_ID, {\n            execute: (extension: VSXExtension) => this.copyExtensionId(extension)\n        });\n\n        commands.registerCommand(VSXExtensionsCommands.SHOW_BUILTINS, {\n            execute: () => this.showBuiltinExtensions()\n        });\n\n        commands.registerCommand(VSXExtensionsCommands.SHOW_INSTALLED, {\n            execute: () => this.showInstalledExtensions()\n        });\n\n        commands.registerCommand(VSXExtensionsCommands.SHOW_RECOMMENDATIONS, {\n            execute: () => this.showRecommendedExtensions()\n        });\n    }\n\n    override registerMenus(menus: MenuModelRegistry): void {\n        super.registerMenus(menus);\n        menus.registerMenuAction(VSXExtensionsContextMenu.COPY, {\n            commandId: VSXExtensionsCommands.COPY.id,\n            label: nls.localizeByDefault('Copy'),\n            order: '0'\n        });\n        menus.registerMenuAction(VSXExtensionsContextMenu.COPY, {\n            commandId: VSXExtensionsCommands.COPY_EXTENSION_ID.id,\n            label: nls.localizeByDefault('Copy Extension ID'),\n            order: '1'\n        });\n        menus.registerMenuAction(VSXExtensionsContextMenu.INSTALL, {\n            commandId: VSXExtensionsCommands.INSTALL_ANOTHER_VERSION.id,\n            label: nls.localizeByDefault('Install Another Version...'),\n        });\n    }\n\n    registerColors(colors: ColorRegistry): void {\n        // VS Code colors should be aligned with https://code.visualstudio.com/api/references/theme-color#extensions\n        colors.register(\n            {\n                id: 'extensionButton.prominentBackground', defaults: {\n                    dark: '#327e36',\n                    light: '#327e36'\n                }, description: 'Button background color for actions extension that stand out (e.g. install button).'\n            },\n            {\n                id: 'extensionButton.prominentForeground', defaults: {\n                    dark: Color.white,\n                    light: Color.white\n                }, description: 'Button foreground color for actions extension that stand out (e.g. install button).'\n            },\n            {\n                id: 'extensionButton.prominentHoverBackground', defaults: {\n                    dark: '#28632b',\n                    light: '#28632b'\n                }, description: 'Button background hover color for actions extension that stand out (e.g. install button).'\n            },\n            {\n                id: 'extensionEditor.tableHeadBorder', defaults: {\n                    dark: Color.transparent('#ffffff', 0.7),\n                    light: Color.transparent('#000000', 0.7),\n                    hcDark: Color.white,\n                    hcLight: Color.black\n                }, description: 'Border color for the table head row of the extension editor view'\n            },\n            {\n                id: 'extensionEditor.tableCellBorder', defaults: {\n                    dark: Color.transparent('#ffffff', 0.2),\n                    light: Color.transparent('#000000', 0.2),\n                    hcDark: Color.white,\n                    hcLight: Color.black\n                }, description: 'Border color for a table row of the extension editor view'\n            },\n        );\n    }\n\n    /**\n     * Installs a local .vsix file after prompting the `Open File` dialog. Resolves to the URI of the file.\n     */\n    protected async installFromVSIX(): Promise<void> {\n        const props: OpenFileDialogProps = {\n            title: VSXExtensionsCommands.INSTALL_FROM_VSIX.dialogLabel,\n            openLabel: nls.localizeByDefault('Install from VSIX'),\n            filters: { 'VSIX Extensions (*.vsix)': ['vsix'] },\n            canSelectMany: false\n        };\n        const extensionUri = await this.fileDialogService.showOpenDialog(props);\n        if (extensionUri) {\n            if (extensionUri.path.ext === '.vsix') {\n                const extensionName = this.labelProvider.getName(extensionUri);\n                try {\n                    await this.commandRegistry.executeCommand(VscodeCommands.INSTALL_FROM_VSIX.id, extensionUri);\n                    this.messageService.info(nls.localizeByDefault('Completed installing {0} extension from VSIX.', extensionName));\n                } catch (e) {\n                    this.messageService.error(nls.localize('theia/vsx-registry/failedInstallingVSIX', 'Failed to install {0} from VSIX.', extensionName));\n                    console.warn(e);\n                }\n            } else {\n                this.messageService.error(nls.localize('theia/vsx-registry/invalidVSIX', 'The selected file is not a valid \"*.vsix\" plugin.'));\n            }\n        }\n    }\n\n    /**\n     * Given an extension, displays a quick pick of other compatible versions and installs the selected version.\n     *\n     * @param extension a VSX extension.\n     */\n    protected async installAnotherVersion(extension: VSXExtension): Promise<void> {\n        const extensionId = extension.id;\n        const currentVersion = extension.version;\n        const client = await this.clientProvider();\n        const extensions = await client.getAllVersions(extensionId);\n        const latestCompatible = await client.getLatestCompatibleExtensionVersion(extensionId);\n        let compatibleExtensions: VSXExtensionRaw[] = [];\n        let activeItem = undefined;\n        if (latestCompatible) {\n            compatibleExtensions = extensions.slice(extensions.findIndex(ext => ext.version === latestCompatible.version));\n        }\n        const items: QuickPickItem[] = compatibleExtensions.map(ext => {\n            const item = {\n                label: ext.version,\n                description: DateTime.fromISO(ext.timestamp).toRelative({ locale: nls.locale }) ?? ''\n            };\n            if (currentVersion === ext.version) {\n                item.description += ` (${nls.localizeByDefault('Current')})`;\n                activeItem = item;\n            }\n            return item;\n        });\n        const selectedItem = await this.quickInput.showQuickPick(items, {\n            placeholder: nls.localizeByDefault('Select Version to Install'),\n            runIfSingle: false,\n            activeItem\n        });\n        if (selectedItem) {\n            const selectedExtension = this.model.getExtension(extensionId);\n            if (selectedExtension) {\n                await this.updateVersion(selectedExtension, selectedItem.label);\n            }\n        }\n    }\n\n    protected async copy(extension: VSXExtension): Promise<void> {\n        this.clipboardService.writeText(await extension.serialize());\n    }\n\n    protected copyExtensionId(extension: VSXExtension): void {\n        this.clipboardService.writeText(extension.id);\n    }\n\n    /**\n     * Updates an extension to a specific version.\n     *\n     * @param extension the extension to update.\n     * @param updateToVersion the version to update to.\n     * @param revertToVersion the version to revert to (in case of failure).\n     */\n    protected async updateVersion(extension: VSXExtension, updateToVersion: string): Promise<void> {\n        try {\n            await extension.install({ version: updateToVersion, ignoreOtherVersions: true });\n        } catch {\n            this.messageService.warn(nls.localize('theia/vsx-registry/vsx-extensions-contribution/update-version-version-error', 'Failed to install version {0} of {1}.',\n                updateToVersion, extension.displayName));\n            return;\n        }\n        try {\n            if (extension.version !== updateToVersion) {\n                await extension.uninstall();\n            }\n        } catch {\n            this.messageService.warn(nls.localize('theia/vsx-registry/vsx-extensions-contribution/update-version-uninstall-error', 'Error while removing the extension: {0}.',\n                extension.displayName));\n        }\n    }\n\n    protected async showRecommendedToast(): Promise<void> {\n        if (!this.preferenceService.get(IGNORE_RECOMMENDATIONS_ID, false)) {\n            const recommended = new Set([...this.model.recommended]);\n            for (const installed of this.model.installed) {\n                recommended.delete(installed);\n            }\n            if (recommended.size) {\n                const install = nls.localizeByDefault('Install');\n                const showRecommendations = nls.localizeByDefault('Show Recommendations');\n                const userResponse = await this.messageService.info(\n                    nls.localizeByDefault('Do you want to install the recommended extensions for this repository?'),\n                    install,\n                    showRecommendations\n                );\n                if (userResponse === install) {\n                    for (const recommendation of recommended) {\n                        this.model.getExtension(recommendation)?.install();\n                    }\n                } else if (userResponse === showRecommendations) {\n                    await this.showRecommendedExtensions();\n                }\n            }\n        }\n    }\n\n    protected async showBuiltinExtensions(): Promise<void> {\n        await this.openView({ activate: true });\n        this.model.search.query = BUILTIN_QUERY;\n    }\n\n    protected async showInstalledExtensions(): Promise<void> {\n        await this.openView({ activate: true });\n        this.model.search.query = INSTALLED_QUERY;\n    }\n\n    protected async showRecommendedExtensions(): Promise<void> {\n        await this.openView({ activate: true });\n        this.model.search.query = RECOMMENDED_QUERY;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport debounce from 'p-debounce';\nimport * as markdownit from '@theia/core/shared/markdown-it';\nimport * as DOMPurify from '@theia/core/shared/dompurify';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { CancellationToken, CancellationTokenSource } from '@theia/core/lib/common/cancellation';\nimport { HostedPluginSupport } from '@theia/plugin-ext/lib/hosted/browser/hosted-plugin';\nimport { VSXExtension, VSXExtensionFactory } from './vsx-extension';\nimport { ProgressService } from '@theia/core/lib/common/progress-service';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { PreferenceInspectionScope, PreferenceService } from '@theia/core/lib/browser';\nimport { WorkspaceService } from '@theia/workspace/lib/browser';\nimport { RecommendedExtensions } from './recommended-extensions/recommended-extensions-preference-contribution';\nimport URI from '@theia/core/lib/common/uri';\nimport { VSXResponseError, VSXSearchParam } from '@theia/ovsx-client/lib/ovsx-types';\nimport { OVSXClientProvider } from '../common/ovsx-client-provider';\n\n@injectable()\nexport class VSXExtensionsModel {\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n\n    @inject(OVSXClientProvider)\n    protected clientProvider: OVSXClientProvider;\n\n    @inject(HostedPluginSupport)\n    protected readonly pluginSupport: HostedPluginSupport;\n\n    @inject(VSXExtensionFactory)\n    protected readonly extensionFactory: VSXExtensionFactory;\n\n    @inject(ProgressService)\n    protected readonly progressService: ProgressService;\n\n    @inject(PreferenceService)\n    protected readonly preferences: PreferenceService;\n\n    @inject(WorkspaceService)\n    protected readonly workspaceService: WorkspaceService;\n\n    @inject(VSXExtensionsSearchModel)\n    readonly search: VSXExtensionsSearchModel;\n\n    protected readonly initialized = new Deferred<void>();\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        await Promise.all([\n            this.initInstalled(),\n            this.initSearchResult(),\n            this.initRecommended(),\n        ]);\n        this.initialized.resolve();\n    }\n\n    protected async initInstalled(): Promise<void> {\n        await this.pluginSupport.willStart;\n        this.pluginSupport.onDidChangePlugins(() => this.updateInstalled());\n        try {\n            await this.updateInstalled();\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    protected async initSearchResult(): Promise<void> {\n        this.search.onDidChangeQuery(() => this.updateSearchResult());\n        try {\n            await this.updateSearchResult();\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    protected async initRecommended(): Promise<void> {\n        this.preferences.onPreferenceChanged(change => {\n            if (change.preferenceName === 'extensions') {\n                this.updateRecommended();\n            }\n        });\n        await this.preferences.ready;\n        try {\n            await this.updateRecommended();\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    /**\n     * single source of all extensions\n     */\n    protected readonly extensions = new Map<string, VSXExtension>();\n\n    protected _installed = new Set<string>();\n    get installed(): IterableIterator<string> {\n        return this._installed.values();\n    }\n\n    isInstalled(id: string): boolean {\n        return this._installed.has(id);\n    }\n\n    protected _searchError?: string;\n    get searchError(): string | undefined {\n        return this._searchError;\n    }\n\n    protected _searchResult = new Set<string>();\n    get searchResult(): IterableIterator<string> {\n        return this._searchResult.values();\n    }\n\n    protected _recommended = new Set<string>();\n    get recommended(): IterableIterator<string> {\n        return this._recommended.values();\n    }\n\n    getExtension(id: string): VSXExtension | undefined {\n        return this.extensions.get(id);\n    }\n\n    protected setExtension(id: string): VSXExtension {\n        let extension = this.extensions.get(id);\n        if (!extension) {\n            extension = this.extensionFactory({ id });\n            this.extensions.set(id, extension);\n        }\n        return extension;\n    }\n\n    protected doChange<T>(task: () => Promise<T>): Promise<T>;\n    protected doChange<T>(task: () => Promise<T>, token: CancellationToken): Promise<T | undefined>;\n    protected doChange<T>(task: () => Promise<T>, token: CancellationToken = CancellationToken.None): Promise<T | undefined> {\n        return this.progressService.withProgress('', 'extensions', async () => {\n            if (token && token.isCancellationRequested) {\n                return undefined;\n            }\n            const result = await task();\n            if (token && token.isCancellationRequested) {\n                return undefined;\n            }\n            this.onDidChangeEmitter.fire(undefined);\n            return result;\n        });\n    }\n\n    protected searchCancellationTokenSource = new CancellationTokenSource();\n    protected updateSearchResult = debounce(() => {\n        this.searchCancellationTokenSource.cancel();\n        this.searchCancellationTokenSource = new CancellationTokenSource();\n        const query = this.search.query;\n        return this.doUpdateSearchResult({ query, includeAllVersions: true }, this.searchCancellationTokenSource.token);\n    }, 500);\n    protected doUpdateSearchResult(param: VSXSearchParam, token: CancellationToken): Promise<void> {\n        return this.doChange(async () => {\n            const searchResult = new Set<string>();\n            if (!param.query) {\n                this._searchResult = searchResult;\n                return;\n            }\n            const client = await this.clientProvider();\n            const result = await client.search(param);\n            this._searchError = result.error;\n            if (token.isCancellationRequested) {\n                return;\n            }\n            for (const data of result.extensions) {\n                const id = data.namespace.toLowerCase() + '.' + data.name.toLowerCase();\n                const extension = client.getLatestCompatibleVersion(data);\n                if (!extension) {\n                    continue;\n                }\n                this.setExtension(id).update(Object.assign(data, {\n                    publisher: data.namespace,\n                    downloadUrl: data.files.download,\n                    iconUrl: data.files.icon,\n                    readmeUrl: data.files.readme,\n                    licenseUrl: data.files.license,\n                    version: extension.version\n                }));\n                searchResult.add(id);\n            }\n            this._searchResult = searchResult;\n        }, token);\n    }\n\n    protected async updateInstalled(): Promise<void> {\n        const prevInstalled = this._installed;\n        return this.doChange(async () => {\n            const plugins = this.pluginSupport.plugins;\n            const currInstalled = new Set<string>();\n            const refreshing = [];\n            for (const plugin of plugins) {\n                if (plugin.model.engine.type === 'vscode') {\n                    const version = plugin.model.version;\n                    const id = plugin.model.id;\n                    this._installed.delete(id);\n                    const extension = this.setExtension(id);\n                    currInstalled.add(extension.id);\n                    refreshing.push(this.refresh(id, version));\n                }\n            }\n            for (const id of this._installed) {\n                const extension = this.getExtension(id);\n                if (!extension) { continue; }\n                refreshing.push(this.refresh(id, extension.version));\n            }\n            const installed = new Set([...prevInstalled, ...currInstalled]);\n            const installedSorted = Array.from(installed).sort((a, b) => this.compareExtensions(a, b));\n            this._installed = new Set(installedSorted.values());\n            await Promise.all(refreshing);\n        });\n    }\n\n    protected updateRecommended(): Promise<Array<VSXExtension | undefined>> {\n        return this.doChange<Array<VSXExtension | undefined>>(async () => {\n            const allRecommendations = new Set<string>();\n            const allUnwantedRecommendations = new Set<string>();\n\n            const updateRecommendationsForScope = (scope: PreferenceInspectionScope, root?: URI) => {\n                const { recommendations, unwantedRecommendations } = this.getRecommendationsForScope(scope, root);\n                recommendations.forEach(recommendation => allRecommendations.add(recommendation));\n                unwantedRecommendations.forEach(unwantedRecommendation => allUnwantedRecommendations.add(unwantedRecommendation));\n            };\n\n            updateRecommendationsForScope('defaultValue'); // In case there are application-default recommendations.\n            const roots = await this.workspaceService.roots;\n            for (const root of roots) {\n                updateRecommendationsForScope('workspaceFolderValue', root.resource);\n            }\n            if (this.workspaceService.saved) {\n                updateRecommendationsForScope('workspaceValue');\n            }\n            const recommendedSorted = new Set(Array.from(allRecommendations).sort((a, b) => this.compareExtensions(a, b)));\n            allUnwantedRecommendations.forEach(unwantedRecommendation => recommendedSorted.delete(unwantedRecommendation));\n            this._recommended = recommendedSorted;\n            return Promise.all(Array.from(recommendedSorted, plugin => this.refresh(plugin)));\n        });\n    }\n\n    protected getRecommendationsForScope(scope: PreferenceInspectionScope, root?: URI): Required<RecommendedExtensions> {\n        const configuredValue = this.preferences.inspect<Required<RecommendedExtensions>>('extensions', root?.toString())?.[scope];\n        return {\n            recommendations: configuredValue?.recommendations ?? [],\n            unwantedRecommendations: configuredValue?.unwantedRecommendations ?? [],\n        };\n    }\n\n    resolve(id: string): Promise<VSXExtension> {\n        return this.doChange(async () => {\n            await this.initialized.promise;\n            const extension = await this.refresh(id);\n            if (!extension) {\n                throw new Error(`Failed to resolve ${id} extension.`);\n            }\n            if (extension.readmeUrl) {\n                try {\n                    const client = await this.clientProvider();\n                    const rawReadme = await client.fetchText(extension.readmeUrl);\n                    const readme = this.compileReadme(rawReadme);\n                    extension.update({ readme });\n                } catch (e) {\n                    if (!VSXResponseError.is(e) || e.statusCode !== 404) {\n                        console.error(`[${id}]: failed to compile readme, reason:`, e);\n                    }\n                }\n            }\n            return extension;\n        });\n    }\n\n    protected compileReadme(readmeMarkdown: string): string {\n        const readmeHtml = markdownit({ html: true }).render(readmeMarkdown);\n        return DOMPurify.sanitize(readmeHtml);\n    }\n\n    protected async refresh(id: string, version?: string): Promise<VSXExtension | undefined> {\n        try {\n            let extension = this.getExtension(id);\n            if (!this.shouldRefresh(extension)) {\n                return extension;\n            }\n            const client = await this.clientProvider();\n            const data = version !== undefined\n                ? await client.getExtension(id, { extensionVersion: version, includeAllVersions: true })\n                : await client.getLatestCompatibleExtensionVersion(id);\n            if (!data) {\n                return;\n            }\n            if (data.error) {\n                return this.onDidFailRefresh(id, data.error);\n            }\n            extension = this.setExtension(id);\n            extension.update(Object.assign(data, {\n                publisher: data.namespace,\n                downloadUrl: data.files.download,\n                iconUrl: data.files.icon,\n                readmeUrl: data.files.readme,\n                licenseUrl: data.files.license,\n                version: data.version\n            }));\n            return extension;\n        } catch (e) {\n            return this.onDidFailRefresh(id, e);\n        }\n    }\n\n    /**\n     * Determines if the given extension should be refreshed.\n     * @param extension the extension to refresh.\n     */\n    protected shouldRefresh(extension?: VSXExtension): boolean {\n        if (extension === undefined) {\n            return true;\n        }\n        return !extension.builtin;\n    }\n\n    protected onDidFailRefresh(id: string, error: unknown): VSXExtension | undefined {\n        const cached = this.getExtension(id);\n        if (cached && cached.installed) {\n            return cached;\n        }\n        console.error(`[${id}]: failed to refresh, reason:`, error);\n        return undefined;\n    }\n\n    /**\n     * Compare two extensions based on their display name, and publisher if applicable.\n     * @param a the first extension id for comparison.\n     * @param b the second extension id for comparison.\n     */\n    protected compareExtensions(a: string, b: string): number {\n        const extensionA = this.getExtension(a);\n        const extensionB = this.getExtension(b);\n        if (!extensionA || !extensionB) {\n            return 0;\n        }\n        if (extensionA.displayName && extensionB.displayName) {\n            return extensionA.displayName.localeCompare(extensionB.displayName);\n        }\n        if (extensionA.publisher && extensionB.publisher) {\n            return extensionA.publisher.localeCompare(extensionB.publisher);\n        }\n        return 0;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from '@theia/core/shared/react';\nimport { injectable, postConstruct, inject } from '@theia/core/shared/inversify';\nimport { ReactWidget, Message } from '@theia/core/lib/browser/widgets';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class VSXExtensionsSearchBar extends ReactWidget {\n\n    @inject(VSXExtensionsSearchModel)\n    protected readonly model: VSXExtensionsSearchModel;\n\n    @postConstruct()\n    protected init(): void {\n        this.id = 'vsx-extensions-search-bar';\n        this.addClass('theia-vsx-extensions-search-bar');\n        this.model.onDidChangeQuery((query: string) => this.updateSearchTerm(query));\n    }\n\n    protected input: HTMLInputElement | undefined;\n\n    protected render(): React.ReactNode {\n        return <input type='text'\n            ref={input => this.input = input || undefined}\n            defaultValue={this.model.query}\n            spellCheck={false}\n            className='theia-input'\n            placeholder={nls.localize('theia/vsx-registry/searchPlaceholder', 'Search Extensions in {0}', 'Open VSX Registry')}\n            onChange={this.updateQuery}>\n        </input>;\n    }\n\n    protected updateQuery = (e: React.ChangeEvent<HTMLInputElement>) => this.model.query = e.target.value;\n\n    protected updateSearchTerm(term: string): void {\n        if (this.input) {\n            this.input.value = term;\n        }\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        if (this.input) {\n            this.input.focus();\n        }\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.update();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Emitter } from '@theia/core/lib/common/event';\n\nexport enum VSXSearchMode {\n    Initial,\n    None,\n    Search,\n    Installed,\n    Builtin,\n    Recommended,\n}\n\nexport const BUILTIN_QUERY = '@builtin';\nexport const INSTALLED_QUERY = '@installed';\nexport const RECOMMENDED_QUERY = '@recommended';\n\n@injectable()\nexport class VSXExtensionsSearchModel {\n\n    protected readonly onDidChangeQueryEmitter = new Emitter<string>();\n    readonly onDidChangeQuery = this.onDidChangeQueryEmitter.event;\n    protected readonly specialQueries = new Map<string, VSXSearchMode>([\n        [BUILTIN_QUERY, VSXSearchMode.Builtin],\n        [INSTALLED_QUERY, VSXSearchMode.Installed],\n        [RECOMMENDED_QUERY, VSXSearchMode.Recommended],\n    ]);\n\n    protected _query = '';\n    set query(query: string) {\n        if (this._query === query) {\n            return;\n        }\n        this._query = query;\n        this.onDidChangeQueryEmitter.fire(this._query);\n    }\n    get query(): string {\n        return this._query;\n    }\n\n    getModeForQuery(): VSXSearchMode {\n        return this.query\n            ? this.specialQueries.get(this.query) ?? VSXSearchMode.Search\n            : VSXSearchMode.None;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { TreeSource, TreeElement } from '@theia/core/lib/browser/source-tree';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\nimport debounce = require('@theia/core/shared/lodash.debounce');\n\n@injectable()\nexport class VSXExtensionsSourceOptions {\n    static INSTALLED = 'installed';\n    static BUILT_IN = 'builtin';\n    static SEARCH_RESULT = 'searchResult';\n    static RECOMMENDED = 'recommended';\n    readonly id: string;\n}\n\n@injectable()\nexport class VSXExtensionsSource extends TreeSource {\n\n    @inject(VSXExtensionsSourceOptions)\n    protected readonly options: VSXExtensionsSourceOptions;\n\n    @inject(VSXExtensionsModel)\n    protected readonly model: VSXExtensionsModel;\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        this.fireDidChange();\n        this.toDispose.push(this.model.onDidChange(() => this.scheduleFireDidChange()));\n    }\n\n    protected scheduleFireDidChange = debounce(() => this.fireDidChange(), 100, { leading: false, trailing: true });\n\n    getModel(): VSXExtensionsModel {\n        return this.model;\n    }\n\n    *getElements(): IterableIterator<TreeElement> {\n        for (const id of this.doGetElements()) {\n            const extension = this.model.getExtension(id);\n            if (!extension) {\n                continue;\n            }\n            if (this.options.id === VSXExtensionsSourceOptions.RECOMMENDED) {\n                if (this.model.isInstalled(id)) {\n                    continue;\n                }\n            }\n            if (this.options.id === VSXExtensionsSourceOptions.BUILT_IN) {\n                if (extension.builtin) {\n                    yield extension;\n                }\n            } else if (!extension.builtin) {\n                yield extension;\n            }\n        }\n    }\n\n    protected doGetElements(): IterableIterator<string> {\n        if (this.options.id === VSXExtensionsSourceOptions.SEARCH_RESULT) {\n            return this.model.searchResult;\n        }\n        if (this.options.id === VSXExtensionsSourceOptions.RECOMMENDED) {\n            return this.model.recommended;\n        }\n        return this.model.installed;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { ViewContainer, PanelLayout, ViewContainerPart, Message, codicon } from '@theia/core/lib/browser';\nimport { VSXExtensionsSearchBar } from './vsx-extensions-search-bar';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\nimport { VSXSearchMode } from './vsx-extensions-search-model';\nimport { generateExtensionWidgetId } from './vsx-extensions-widget';\nimport { VSXExtensionsSourceOptions } from './vsx-extensions-source';\nimport { VSXExtensionsCommands } from './vsx-extension-commands';\nimport { nls } from '@theia/core/lib/common/nls';\n\n@injectable()\nexport class VSXExtensionsViewContainer extends ViewContainer {\n\n    static ID = 'vsx-extensions-view-container';\n    static LABEL = nls.localizeByDefault('Extensions');\n\n    override disableDNDBetweenContainers = true;\n\n    @inject(VSXExtensionsSearchBar)\n    protected readonly searchBar: VSXExtensionsSearchBar;\n\n    @inject(VSXExtensionsModel)\n    protected readonly model: VSXExtensionsModel;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.id = VSXExtensionsViewContainer.ID;\n        this.addClass('theia-vsx-extensions-view-container');\n\n        this.setTitleOptions({\n            label: VSXExtensionsViewContainer.LABEL,\n            iconClass: codicon('extensions'),\n            closeable: true\n        });\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        this.searchBar.activate();\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onBeforeAttach(msg);\n        this.updateMode();\n        this.toDisposeOnDetach.push(this.model.search.onDidChangeQuery(() => this.updateMode()));\n    }\n\n    protected override configureLayout(layout: PanelLayout): void {\n        layout.addWidget(this.searchBar);\n        super.configureLayout(layout);\n    }\n\n    protected currentMode: VSXSearchMode = VSXSearchMode.Initial;\n    protected readonly lastModeState = new Map<VSXSearchMode, ViewContainer.State>();\n\n    protected updateMode(): void {\n        const currentMode = this.model.search.getModeForQuery();\n        if (currentMode === this.currentMode) {\n            return;\n        }\n        if (this.currentMode !== VSXSearchMode.Initial) {\n            this.lastModeState.set(this.currentMode, super.doStoreState());\n        }\n        this.currentMode = currentMode;\n        const lastState = this.lastModeState.get(currentMode);\n        if (lastState) {\n            super.doRestoreState(lastState);\n        } else {\n            for (const part of this.getParts()) {\n                this.applyModeToPart(part);\n            }\n        }\n\n        const specialWidgets = this.getWidgetsForMode();\n        if (specialWidgets?.length) {\n            const widgetChecker = new Set(specialWidgets);\n            const relevantParts = this.getParts().filter(part => widgetChecker.has(part.wrapped.id));\n            relevantParts.forEach(part => {\n                part.collapsed = false;\n                part.show();\n            });\n        }\n    }\n\n    protected override registerPart(part: ViewContainerPart): void {\n        super.registerPart(part);\n        this.applyModeToPart(part);\n    }\n\n    protected applyModeToPart(part: ViewContainerPart): void {\n        if (this.shouldShowWidget(part)) {\n            part.show();\n        } else {\n            part.hide();\n        }\n    }\n\n    protected shouldShowWidget(part: ViewContainerPart): boolean {\n        const widgetsToShow = this.getWidgetsForMode();\n        if (widgetsToShow.length) {\n            return widgetsToShow.includes(part.wrapped.id);\n        }\n        return part.wrapped.id !== generateExtensionWidgetId(VSXExtensionsSourceOptions.SEARCH_RESULT);\n    }\n\n    protected getWidgetsForMode(): string[] {\n        switch (this.currentMode) {\n            case VSXSearchMode.Builtin:\n                return [generateExtensionWidgetId(VSXExtensionsSourceOptions.BUILT_IN)];\n            case VSXSearchMode.Installed:\n                return [generateExtensionWidgetId(VSXExtensionsSourceOptions.INSTALLED)];\n            case VSXSearchMode.Recommended:\n                return [generateExtensionWidgetId(VSXExtensionsSourceOptions.RECOMMENDED)];\n            case VSXSearchMode.Search:\n                return [generateExtensionWidgetId(VSXExtensionsSourceOptions.SEARCH_RESULT)];\n            default:\n                return [];\n        }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected override doStoreState(): any {\n        const modes: VSXExtensionsViewContainer.State['modes'] = {};\n        for (const mode of this.lastModeState.keys()) {\n            modes[mode] = this.lastModeState.get(mode);\n        }\n        return {\n            query: this.model.search.query,\n            modes\n        };\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected override doRestoreState(state: any): void {\n        // eslint-disable-next-line guard-for-in\n        for (const key in state.modes) {\n            const mode = Number(key) as VSXSearchMode;\n            const modeState = state.modes[mode];\n            if (modeState) {\n                this.lastModeState.set(mode, modeState);\n            }\n        }\n        this.model.search.query = state.query;\n    }\n\n    protected override updateToolbarItems(allParts: ViewContainerPart[]): void {\n        super.updateToolbarItems(allParts);\n        this.registerToolbarItem(VSXExtensionsCommands.INSTALL_FROM_VSIX.id, { tooltip: VSXExtensionsCommands.INSTALL_FROM_VSIX.label, group: 'other_1' });\n        this.registerToolbarItem(VSXExtensionsCommands.CLEAR_ALL.id, { tooltip: VSXExtensionsCommands.CLEAR_ALL.label, priority: 1, onDidChange: this.model.onDidChange });\n    }\n\n    protected override getToggleVisibilityGroupLabel(): string {\n        return 'a/' + nls.localizeByDefault('Views');\n    }\n}\nexport namespace VSXExtensionsViewContainer {\n    export interface State {\n        query: string;\n        modes: {\n            [mode: number]: ViewContainer.State | undefined\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, interfaces, postConstruct, inject } from '@theia/core/shared/inversify';\nimport { TreeModel, TreeNode } from '@theia/core/lib/browser';\nimport { SourceTreeWidget } from '@theia/core/lib/browser/source-tree';\nimport { VSXExtensionsSource, VSXExtensionsSourceOptions } from './vsx-extensions-source';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { BadgeWidget } from '@theia/core/lib/browser/view-container';\nimport { Emitter, Event } from '@theia/core/lib/common';\nimport { AlertMessage } from '@theia/core/lib/browser/widgets/alert-message';\nimport * as React from '@theia/core/shared/react';\n\n@injectable()\nexport class VSXExtensionsWidgetOptions extends VSXExtensionsSourceOptions {\n    title?: string;\n}\n\nexport const generateExtensionWidgetId = (widgetId: string): string => VSXExtensionsWidget.ID + ':' + widgetId;\n\n@injectable()\nexport class VSXExtensionsWidget extends SourceTreeWidget implements BadgeWidget {\n\n    static ID = 'vsx-extensions';\n\n    static createWidget(parent: interfaces.Container, options: VSXExtensionsWidgetOptions): VSXExtensionsWidget {\n        const child = SourceTreeWidget.createContainer(parent, {\n            virtualized: false,\n            scrollIfActive: true\n        });\n        child.bind(VSXExtensionsSourceOptions).toConstantValue(options);\n        child.bind(VSXExtensionsSource).toSelf();\n        child.unbind(SourceTreeWidget);\n        child.bind(VSXExtensionsWidgetOptions).toConstantValue(options);\n        child.bind(VSXExtensionsWidget).toSelf();\n        return child.get(VSXExtensionsWidget);\n    }\n\n    protected _badge?: number;\n    protected onDidChangeBadgeEmitter = new Emitter<void>();\n\n    protected _badgeTooltip?: string;\n    protected onDidChangeBadgeTooltipEmitter = new Emitter<void>();\n\n    @inject(VSXExtensionsWidgetOptions)\n    protected readonly options: VSXExtensionsWidgetOptions;\n\n    @inject(VSXExtensionsSource)\n    protected readonly extensionsSource: VSXExtensionsSource;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.addClass('theia-vsx-extensions');\n\n        this.id = generateExtensionWidgetId(this.options.id);\n\n        this.toDispose.push(this.extensionsSource);\n        this.source = this.extensionsSource;\n\n        const title = this.options.title ?? this.computeTitle();\n        this.title.label = title;\n        this.title.caption = title;\n\n        this.toDispose.push(this.source.onDidChange(async () => {\n            this.badge = await this.resolveCount();\n        }));\n    }\n\n    get onDidChangeBadge(): Event<void> {\n        return this.onDidChangeBadgeEmitter.event;\n    }\n\n    get badge(): number | undefined {\n        return this._badge;\n    }\n\n    set badge(count: number | undefined) {\n        this._badge = count;\n        this.onDidChangeBadgeEmitter.fire();\n    }\n\n    get onDidChangeBadgeTooltip(): Event<void> {\n        return this.onDidChangeBadgeTooltipEmitter.event;\n    }\n\n    get badgeTooltip(): string | undefined {\n        return this._badgeTooltip;\n    }\n\n    set badgeTooltip(tooltip: string | undefined) {\n        this._badgeTooltip = tooltip;\n        this.onDidChangeBadgeTooltipEmitter.fire();\n    }\n\n    protected computeTitle(): string {\n        switch (this.options.id) {\n            case VSXExtensionsSourceOptions.INSTALLED:\n                return nls.localizeByDefault('Installed');\n            case VSXExtensionsSourceOptions.BUILT_IN:\n                return nls.localizeByDefault('Built-in');\n            case VSXExtensionsSourceOptions.RECOMMENDED:\n                return nls.localizeByDefault('Recommended');\n            case VSXExtensionsSourceOptions.SEARCH_RESULT:\n                return 'Open VSX Registry';\n            default:\n                return '';\n        }\n    }\n\n    protected async resolveCount(): Promise<number | undefined> {\n        if (this.options.id !== VSXExtensionsSourceOptions.SEARCH_RESULT) {\n            const elements = await this.source?.getElements() || [];\n            return [...elements].length;\n        }\n        return undefined;\n    }\n\n    protected override tapNode(node?: TreeNode): void {\n        super.tapNode(node);\n        this.model.openNode(node);\n    }\n\n    protected override handleDblClickEvent(): void {\n        // Don't open the editor view on a double click.\n    }\n\n    protected override renderTree(model: TreeModel): React.ReactNode {\n        if (this.options.id === VSXExtensionsSourceOptions.SEARCH_RESULT) {\n            const searchError = this.extensionsSource.getModel().searchError;\n            if (!!searchError) {\n                const message = nls.localize('theia/vsx-registry/errorFetching', 'Error fetching extensions.');\n                return <AlertMessage\n                    type='ERROR'\n                    header={`${message} ${searchError}`}\n                />;\n            }\n        }\n        return super.renderTree(model);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { LanguageQuickPickItem, LanguageQuickPickService } from '@theia/core/lib/browser/i18n/language-quick-pick-service';\nimport { RequestContext, RequestService } from '@theia/core/shared/@theia/request';\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { LanguageInfo } from '@theia/core/lib/common/i18n/localization';\nimport { PluginPackage, PluginServer } from '@theia/plugin-ext';\nimport { OVSXClientProvider } from '../common/ovsx-client-provider';\nimport { VSXSearchEntry } from '@theia/ovsx-client';\nimport { VSCodeExtensionUri } from '@theia/plugin-ext-vscode/lib/common/plugin-vscode-uri';\n\n@injectable()\nexport class VSXLanguageQuickPickService extends LanguageQuickPickService {\n\n    @inject(OVSXClientProvider)\n    protected readonly clientProvider: OVSXClientProvider;\n\n    @inject(RequestService)\n    protected readonly requestService: RequestService;\n\n    @inject(PluginServer)\n    protected readonly pluginServer: PluginServer;\n\n    protected override async getAvailableLanguages(): Promise<LanguageQuickPickItem[]> {\n        const client = await this.clientProvider();\n        const searchResult = await client.search({\n            category: 'Language Packs',\n            sortBy: 'downloadCount',\n            sortOrder: 'desc',\n            size: 20\n        });\n        if (searchResult.error) {\n            throw new Error('Error while loading available languages: ' + searchResult.error);\n        }\n\n        const extensionLanguages = await Promise.all(\n            searchResult.extensions.map(async extension => ({\n                extension,\n                languages: await this.loadExtensionLanguages(extension)\n            }))\n        );\n\n        const languages = new Map<string, LanguageQuickPickItem>();\n\n        for (const extension of extensionLanguages) {\n            for (const localizationContribution of extension.languages) {\n                if (!languages.has(localizationContribution.languageId)) {\n                    languages.set(localizationContribution.languageId, {\n                        ...this.createLanguageQuickPickItem(localizationContribution),\n                        execute: async () => {\n                            const extensionUri = VSCodeExtensionUri.toUri(extension.extension.name, extension.extension.namespace).toString();\n                            await this.pluginServer.deploy(extensionUri);\n                        }\n                    });\n                }\n            }\n        }\n        return Array.from(languages.values());\n    }\n\n    protected async loadExtensionLanguages(extension: VSXSearchEntry): Promise<LanguageInfo[]> {\n        // When searching for extensions on ovsx, we don't receive the `manifest` property.\n        // This property is only set when querying a specific extension.\n        // To improve performance, we assume that a manifest exists at `/package.json`.\n        const downloadUrl = extension.files.download;\n        const parentUrl = downloadUrl.substring(0, downloadUrl.lastIndexOf('/'));\n        const manifestUrl = parentUrl + '/package.json';\n        try {\n            const manifestRequest = await this.requestService.request({ url: manifestUrl });\n            const manifestContent = RequestContext.asJson<PluginPackage>(manifestRequest);\n            const localizations = manifestContent.contributes?.localizations ?? [];\n            return localizations.map(e => ({\n                languageId: e.languageId,\n                languageName: e.languageName,\n                localizedLanguageName: e.localizedLanguageName,\n                languagePack: true\n            }));\n        } catch {\n            // The `package.json` file might not actually exist, simply return an empty array\n            return [];\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport '../../src/browser/style/index.css';\n\nimport { ContainerModule } from '@theia/core/shared/inversify';\nimport {\n    WidgetFactory, bindViewContribution, FrontendApplicationContribution, ViewContainerIdentifier, OpenHandler, WidgetManager, WebSocketConnectionProvider\n} from '@theia/core/lib/browser';\nimport { VSXExtensionsViewContainer } from './vsx-extensions-view-container';\nimport { VSXExtensionsContribution } from './vsx-extensions-contribution';\nimport { VSXExtensionsSearchBar } from './vsx-extensions-search-bar';\nimport { VSXExtensionsModel } from './vsx-extensions-model';\nimport { ColorContribution } from '@theia/core/lib/browser/color-application-contribution';\nimport { VSXExtensionsWidget, VSXExtensionsWidgetOptions } from './vsx-extensions-widget';\nimport { VSXExtensionFactory, VSXExtension, VSXExtensionOptions } from './vsx-extension';\nimport { VSXExtensionEditor } from './vsx-extension-editor';\nimport { VSXExtensionEditorManager } from './vsx-extension-editor-manager';\nimport { VSXExtensionsSourceOptions } from './vsx-extensions-source';\nimport { VSXExtensionsSearchModel } from './vsx-extensions-search-model';\nimport { bindExtensionPreferences } from './recommended-extensions/recommended-extensions-preference-contribution';\nimport { bindPreferenceProviderOverrides } from './recommended-extensions/preference-provider-overrides';\nimport { OVSXClientProvider, createOVSXClient } from '../common/ovsx-client-provider';\nimport { VSXEnvironment, VSX_ENVIRONMENT_PATH } from '../common/vsx-environment';\nimport { RequestService } from '@theia/core/shared/@theia/request';\nimport { LanguageQuickPickService } from '@theia/core/lib/browser/i18n/language-quick-pick-service';\nimport { VSXLanguageQuickPickService } from './vsx-language-quick-pick-service';\n\nexport default new ContainerModule((bind, unbind, _, rebind) => {\n    bind<OVSXClientProvider>(OVSXClientProvider).toDynamicValue(ctx => {\n        const clientPromise = createOVSXClient(ctx.container.get(VSXEnvironment), ctx.container.get(RequestService));\n        return () => clientPromise;\n    }).inSingletonScope();\n    bind(VSXEnvironment).toDynamicValue(\n        ctx => WebSocketConnectionProvider.createProxy(ctx.container, VSX_ENVIRONMENT_PATH)\n    ).inSingletonScope();\n\n    bind(VSXExtension).toSelf();\n    bind(VSXExtensionFactory).toFactory(ctx => (option: VSXExtensionOptions) => {\n        const child = ctx.container.createChild();\n        child.bind(VSXExtensionOptions).toConstantValue(option);\n        return child.get(VSXExtension);\n    });\n    bind(VSXExtensionsModel).toSelf().inSingletonScope();\n\n    bind(VSXExtensionEditor).toSelf();\n    bind(WidgetFactory).toDynamicValue(ctx => ({\n        id: VSXExtensionEditor.ID,\n        createWidget: async (options: VSXExtensionOptions) => {\n            const extension = await ctx.container.get(VSXExtensionsModel).resolve(options.id);\n            const child = ctx.container.createChild();\n            child.bind(VSXExtension).toConstantValue(extension);\n            return child.get(VSXExtensionEditor);\n        }\n    })).inSingletonScope();\n    bind(VSXExtensionEditorManager).toSelf().inSingletonScope();\n    bind(OpenHandler).toService(VSXExtensionEditorManager);\n\n    bind(WidgetFactory).toDynamicValue(({ container }) => ({\n        id: VSXExtensionsWidget.ID,\n        createWidget: async (options: VSXExtensionsWidgetOptions) => VSXExtensionsWidget.createWidget(container, options)\n    })).inSingletonScope();\n    bind(WidgetFactory).toDynamicValue(ctx => ({\n        id: VSXExtensionsViewContainer.ID,\n        createWidget: async () => {\n            const child = ctx.container.createChild();\n            child.bind(ViewContainerIdentifier).toConstantValue({\n                id: VSXExtensionsViewContainer.ID,\n                progressLocationId: 'extensions'\n            });\n            child.bind(VSXExtensionsViewContainer).toSelf();\n            const viewContainer = child.get(VSXExtensionsViewContainer);\n            const widgetManager = child.get(WidgetManager);\n            for (const id of [\n                VSXExtensionsSourceOptions.SEARCH_RESULT,\n                VSXExtensionsSourceOptions.RECOMMENDED,\n                VSXExtensionsSourceOptions.INSTALLED,\n                VSXExtensionsSourceOptions.BUILT_IN,\n            ]) {\n                const widget = await widgetManager.getOrCreateWidget(VSXExtensionsWidget.ID, { id });\n                viewContainer.addWidget(widget, {\n                    initiallyCollapsed: id === VSXExtensionsSourceOptions.BUILT_IN\n                });\n            }\n            return viewContainer;\n        }\n    })).inSingletonScope();\n\n    bind(VSXExtensionsSearchModel).toSelf().inSingletonScope();\n    bind(VSXExtensionsSearchBar).toSelf().inSingletonScope();\n\n    rebind(LanguageQuickPickService).to(VSXLanguageQuickPickService).inSingletonScope();\n\n    bindViewContribution(bind, VSXExtensionsContribution);\n    bind(FrontendApplicationContribution).toService(VSXExtensionsContribution);\n    bind(ColorContribution).toService(VSXExtensionsContribution);\n\n    bindExtensionPreferences(bind);\n    bindPreferenceProviderOverrides(bind, unbind);\n});\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { RequestService } from '@theia/core/shared/@theia/request';\nimport { OVSXClient } from '@theia/ovsx-client';\nimport { VSXEnvironment } from './vsx-environment';\n\nexport const OVSXClientProvider = Symbol('OVSXClientProvider');\nexport type OVSXClientProvider = () => Promise<OVSXClient>;\n\nexport async function createOVSXClient(vsxEnvironment: VSXEnvironment, requestService: RequestService): Promise<OVSXClient> {\n    const [apiVersion, apiUrl] = await Promise.all([\n        vsxEnvironment.getVscodeApiVersion(),\n        vsxEnvironment.getRegistryApiUri()\n    ]);\n    return new OVSXClient({ apiVersion, apiUrl: apiUrl.toString() }, requestService);\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const VSX_ENVIRONMENT_PATH = '/services/vsx-environment';\n\nexport const VSXEnvironment = Symbol('VSXEnvironment');\nexport interface VSXEnvironment {\n    getRegistryUri(): Promise<string>;\n    getRegistryApiUri(): Promise<string>;\n    getVscodeApiVersion(): Promise<string>;\n}\n","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!./index.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"names":[],"sourceRoot":""}